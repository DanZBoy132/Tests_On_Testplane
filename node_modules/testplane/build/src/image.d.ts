/// <reference types="node" />
import looksSame from "looks-same";
import { DiffOptions, ImageSize } from "./types";
interface PngImageData {
    data: Buffer;
    size: ImageSize;
}
export interface Rect {
    width: number;
    height: number;
    top: number;
    left: number;
}
export interface RGB {
    R: number;
    G: number;
    B: number;
}
interface CompareOptions {
    canHaveCaret?: boolean;
    pixelRatio?: number;
    compareOpts?: looksSame.LooksSameOptions;
    tolerance?: number;
    antialiasingTolerance?: number;
}
export declare class Image {
    private _imgDataPromise;
    private _imgData;
    private _width;
    private _height;
    private _composeImages;
    static create(buffer: Buffer): Image;
    constructor(buffer: Buffer);
    _getImgData(): Promise<Buffer>;
    _ensureImagesHaveSameWidth(): void;
    getSize(): Promise<ImageSize>;
    crop(rect: Rect): Promise<void>;
    addJoin(attachedImages: this[]): void;
    applyJoin(): Promise<void>;
    clearArea(rect: Rect): Promise<void>;
    getRGB(x: number, y: number): Promise<RGB>;
    _getPngBuffer(): Promise<Buffer>;
    save(file: string): Promise<void>;
    static fromBase64(base64: string): Image;
    toPngBuffer(opts: {
        resolveWithObject: true;
    }): Promise<PngImageData>;
    toPngBuffer(opts: {
        resolveWithObject?: false;
    }): Promise<Buffer>;
    static compare(path1: string, path2: string, opts?: CompareOptions): Promise<looksSame.LooksSameResult>;
    static buildDiff(opts: DiffOptions): Promise<null>;
}
export {};
