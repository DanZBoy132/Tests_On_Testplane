import { EventEmitter } from 'node:events';
import { URL } from 'node:url';
import type { Options } from '@testplane/wdio-types';
import type { WebDriverResponse, RequestLibOptions, RequestLibResponse, RequestOptions } from './types.js';
type Agents = Options.Agents;
export declare class RequestLibError extends Error {
    statusCode?: number;
    body?: unknown;
    code?: string;
}
export declare const COMMANDS_WITHOUT_RETRY: string[];
export default abstract class WebDriverRequest extends EventEmitter {
    body?: Record<string, unknown>;
    method: string;
    endpoint: string;
    isHubCommand: boolean;
    requiresSessionId: boolean;
    defaultAgents?: Agents;
    defaultOptions: RequestLibOptions;
    constructor(method: string, endpoint: string, body?: Record<string, unknown>, isHubCommand?: boolean);
    makeRequest(options: RequestOptions, sessionId?: string): Promise<WebDriverResponse<unknown>>;
    protected _createOptions(options: RequestOptions, sessionId?: string, isBrowser?: boolean): Promise<RequestLibOptions>;
    protected _libRequest(url: URL, options: RequestLibOptions): Promise<RequestLibResponse>;
    protected _libPerformanceNow(): number;
    private _request;
}
export {};
