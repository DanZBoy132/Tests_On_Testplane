(self.webpackChunk=self.webpackChunk||[]).push([[516],{58733:(e,t,r)=>{"use strict";r.d(t,{e:()=>n});var n=function(e){return e.UNKNOWN="unknown",e}({})},46126:(e,t,r)=>{"use strict";r.d(t,{He:()=>c,JL:()=>o,rW:()=>i,yW:()=>s});var n="INT",a="TEXT",s=65536,o="suites",i="sqlite.db",c=[{name:"suitePath",type:a},{name:"suiteName",type:a},{name:"name",type:a},{name:"suiteUrl",type:a},{name:"metaInfo",type:a},{name:"history",type:a},{name:"description",type:a},{name:"error",type:a},{name:"skipReason",type:a},{name:"imagesInfo",type:a},{name:"screenshot",type:n},{name:"multipleTabs",type:n},{name:"status",type:a},{name:"timestamp",type:n},{name:"duration",type:n},{name:"attachments",type:a}].reduce((function(e,t,r){return e[t.name]=r,e}),{})},58270:(e,t,r)=>{"use strict";r.d(t,{S:()=>o,W:()=>i});var n=r(58615),a=r(37487),s=r(75631),o=150,i={baseHost:"",commandsWithShortHistory:[],customGui:{},customScripts:[],defaultView:a.w.ALL,diffMode:n.n.THREE_UP.id,uiMode:null,enabled:!1,errorPatterns:[],lazyLoadOffset:null,metaInfoBaseUrls:{},path:"",plugins:[],pluginsEnabled:!1,saveErrorDetails:!1,saveFormat:s.t.SQLITE,yandexMetrika:{counterNumber:99267510},staticImageAccepter:{enabled:!1,repositoryUrl:"",pullRequestUrl:"",serviceUrl:"",meta:{},axiosRequestOptions:{}},generateBadges:null}},58615:(e,t,r)=>{"use strict";r.d(t,{T:()=>s,n:()=>a});var n=r(76635),a={THREE_UP:{id:"3-up",title:"List",description:"List. Show images one after another in vertical layout."},THREE_UP_SCALED:{id:"3-up-scaled",title:"SbS",description:"Side by Side. Show images in one row."},THREE_UP_SCALED_TO_FIT:{id:"3-up-scaled-to-fit",title:"SbS (fit screen)",description:"Side by Side. Show images in one row and scale them down if needed to fit the screen."},ONLY_DIFF:{id:"only-diff",title:"Only Diff",description:"Only Diff. Show only diff image, click to highlight diff areas."},SWITCH:{id:"switch",title:"Switch",description:"Switch. Click to switch between expected and actual images."},SWIPE:{id:"swipe",title:"Swipe",description:"Swipe. Move the divider to compare expected and actual images."},ONION_SKIN:{id:"onion-skin",title:"Onion skin",description:"Onion Skin. Change the image opacity to compare expected and actual images."},TWO_UP_INTERACTIVE:{id:"2-up-interactive",title:"2-up Interactive",description:"2-up Interactive. Compare expected and actual images side by side with synchronized pan and zoom."}},s=(0,n.pick)(a,["THREE_UP","THREE_UP_SCALED","THREE_UP_SCALED_TO_FIT","ONLY_DIFF","SWITCH","SWIPE","ONION_SKIN"])},72273:(e,t,r)=>{"use strict";r.d(t,{WY:()=>a,XB:()=>s,_8:()=>n});var n=200,a="https://github.com/gemini-testing/html-reporter/issues/new",s="image comparison failed"},97680:(e,t,r)=>{"use strict";r.d(t,{Dx:()=>o,Y:()=>n,Zr:()=>a,gr:()=>s});var n="result",a="result_meta",s="menu-bar",o="root"},28909:(e,t,r)=>{"use strict";r.r(t),r.d(t,{EditScreensFeature:()=>a,RunTestsFeature:()=>n,TimeTravelFeature:()=>s});var n={name:"run-tests"},a={name:"edit-screens"},s={name:"time-travel"}},54077:(e,t)=>{t.SA={RESULT:"result",META:"meta"},t.wK="error",t.Kr=[t.wK],t.QV="."},27202:(e,t,r)=>{"use strict";r.d(t,{B$:()=>c.EditScreensFeature,ES:()=>p.ES,Ez:()=>p.Ez,HL:()=>E.H,He:()=>a.He,JW:()=>p.JW,Kr:()=>u.Kr,MR:()=>p.MR,Nv:()=>l.Nv,QV:()=>u.QV,S7:()=>s.S,SA:()=>u.SA,SH:()=>p.SH,T1:()=>o.T,T3:()=>E.T,WY:()=>i.WY,Wi:()=>c.RunTestsFeature,Wr:()=>s.W,XB:()=>i.XB,YO:()=>d.Y,YS:()=>v.YS,eb:()=>n.e,em:()=>p.em,fi:()=>f.f,ih:()=>p.ih,kb:()=>p.kb,nx:()=>o.n,pn:()=>p.pn,qW:()=>c.TimeTravelFeature,sS:()=>p.sS,t6:()=>p.t6,wO:()=>m.w,yW:()=>a.yW});var n=r(58733),a=r(46126),s=r(58270),o=r(58615),i=r(72273),c=r(28909),u=r(54077),l=r(71770),p=(r(32705),r(75631),r(62602)),d=r(14811),f=r(28322),m=r(37487),E=r(96069),v=r(85202)},24298:(e,t,r)=>{"use strict";r.d(t,{Fe:()=>n,HT:()=>i,IP:()=>a,a9:()=>s,n_:()=>o});var n=function(e){return e.UIMode="ui-mode",e.TimeTravelUseRecommendedSettings="time-travel-use-recommended-settings",e}({}),a="time-travel-player-visibility",s="2up-diff-visibility",o="2up-fit-mode",i=function(e){return e.Old="old",e.New="new",e}({})},14811:(e,t,r)=>{"use strict";r.d(t,{Y:()=>n});var n=function(e){return e.Testplane="testplane",e.Playwright="playwright",e.Jest="jest",e}({})},28322:(e,t,r)=>{"use strict";r.d(t,{f:()=>n});var n=function(e){return e.FitToView="fit-to-view",e.FitToWidth="fit-to-width",e}({})},8047:(e,t,r)=>{"use strict";r.d(t,{By:()=>E,fB:()=>m,pU:()=>y,vO:()=>h,xH:()=>_,xe:()=>I});var n=r(68079),a=r(56666),s=r(34795),o=r(82841),i=r.n(o),c=r(76635),u=r(69e3),l=r(9560),p=r(46126);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t){var r=function(){var e=(0,s.Z)(i().mark((function e(r){var n,a,s,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={responseType:"arraybuffer"},"function"==typeof t&&(n.onDownloadProgress=function(e){t(r,e.loaded/e.total)}),e.next=4,(0,l.dc)(r,n);case 4:return a=e.sent,s=a.data,o=a.status,e.abrupt("return",{url:r,status:o,data:s});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,u.jI)(e,{loadDbJsonUrl:function(e){return(0,l.dc)(e)},prepareUrls:function(e,t){return(0,l.e1)(e,t)},formatData:function(e){return{url:e,status:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown",data:null}},loadDbUrl:r})}function E(e){return v.apply(this,arguments)}function v(){return(v=(0,s.Z)(i().mark((function e(t){var r,a,s,o,c,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.initSqlJs();case 2:if(r=e.sent,a=t.map((function(e){return new Uint8Array(e)})),0!==(s=a.map((function(e){return new r.Database(e)}))).length){e.next=9;break}return e.abrupt("return",null);case 9:if(1!==s.length){e.next=11;break}return e.abrupt("return",s[0]);case 11:return o=a.reduce((function(e,t){return e+t.length}),0),c=new r.Database(void 0,o),l=s.map((function(e){return e.filename})),(0,u.c2)({db:c,dbPaths:l,getExistingTables:function(e){for(var t=[];e.step();)t.push.apply(t,(0,n.Z)(e.get()));return t}}),s.forEach((function(e){return e.close()})),e.abrupt("return",c);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return g.apply(this,arguments)}function g(){return(g=(0,s.Z)(i().mark((function e(t){var r,n,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URL(t),e.next=3,(0,l.dc)(r.href,{responseType:"arraybuffer"});case 3:return n=e.sent,a=n.data,e.next=7,window.initSqlJs();case 7:return s=e.sent,e.abrupt("return",new s.Database(new Uint8Array(a)));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return new URL(p.rW,window.location.href)}function _(e){var t=function(e,t){var r=e.exec((0,u.Vt)(t))[0];if(!r)return console.warn('Table "'.concat(t,'" is empty')),[];return r}(e,p.JL);if(!(0,c.isEmpty)(t))return t.values.sort(u.fd)}function I(e){e.close()}f(f({},u.default),{},{fetchDataFromDatabases:m,mergeDatabases:E,connectToDatabase:h,getMainDatabaseUrl:y,getSuitesTableRows:_,closeDatabase:I})},4986:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(56666),a=r(76635),s=r(2784),o=r(13980),i=r.n(o),c=r(4792),u=r(69875),l=function(e){var t=e.progressBar.currentRootSuiteId,r=e.visibleRootSuiteIds,o=s.useMemo((function(){return r.reduce((function(e,t,r){return(0,a.extend)(e,(0,n.Z)({},t,r))}),{})}),[r])[t],i=100/(r.length-1)*o;return(0,a.isNumber)(o)?s.createElement("div",{className:"bottom-progress-bar"},s.createElement("div",{className:"bottom-progress-bar__progress-container"},s.createElement("div",{className:"bottom-progress-bar__progress-bar",style:{width:"".concat(i,"%")}}),s.createElement("div",{className:"bottom-progress-bar__counter"},t,s.createElement("span",null," ","(",s.createElement("strong",null,o+1)," suite of ",s.createElement("strong",null,r.length),")")))):null};l.propTypes={progressBar:i().object.isRequired,visibleRootSuiteIds:i().arrayOf(i().string)};const p=(0,c.connect)((function(e){return{progressBar:e.progressBar,visibleRootSuiteIds:(0,u.getVisibleRootSuiteIds)(e)}}))(l)},33992:(e,t,r)=>{"use strict";r.d(t,{Z:()=>R});var n=r(34795),a=r(9249),s=r(87371),o=r(80753),i=r(45754),c=r(11987),u=r(95058),l=r(56666),p=r(82841),d=r.n(p),f=r(2784),m=r(18717),E=r(4792),v=r(13980),h=r.n(v),g=r(64141),y=r(18553),_=r(69875),I=r(41493);function S(e){var t=T();return function(){var r,n=(0,u.Z)(e);if(t){var a=(0,u.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,c.Z)(this,r)}}function T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(T=function(){return!!e})()}var b=function(e){(0,i.Z)(r,e);var t=S(r);function r(){var e;(0,a.Z)(this,r);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i)),(0,l.Z)((0,o.Z)(e),"_acceptOpened",(0,n.Z)(d().mark((function t(){var r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.context,t.next=3,null==r?void 0:r.trackOpenedScreenshotsAccept({acceptedImagesCount:e.props.acceptableOpenedImageIds.length});case 3:e.props.isStaticImageAccepterEnabled?e.props.actions.staticAccepterStageScreenshot(e.props.acceptableOpenedImageIds):e.props.actions.thunkAcceptImages({imageIds:e.props.acceptableOpenedImageIds});case 4:case"end":return t.stop()}}),t)})))),e}return(0,s.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.acceptableOpenedImageIds,r=e.processing;return f.createElement(y.Z,{label:"Accept opened",isDisabled:!t.length||r,handler:this._acceptOpened,isSuiteControl:this.props.isSuiteContol})}}]),r}(f.Component);(0,l.Z)(b,"contextType",I.f),(0,l.Z)(b,"propTypes",{isSuiteContol:h().bool,processing:h().bool.isRequired,acceptableOpenedImageIds:h().arrayOf(h().string).isRequired,isStaticImageAccepterEnabled:h().bool,actions:h().object.isRequired});const R=(0,E.connect)((function(e){return{processing:e.processing,acceptableOpenedImageIds:(0,_.getAcceptableOpenedImageIds)(e),isStaticImageAccepterEnabled:e.staticImageAccepter.enabled}}),(function(e){return{actions:(0,m.bindActionCreators)(g,e)}}))(b)},93941:(e,t,r)=>{"use strict";r.d(t,{Z:()=>ae});var n=r(9249),a=r(87371),s=r(80753),o=r(45754),i=r(11987),c=r(95058),u=r(56666),l=r(2784),p=r(13980),d=r.n(p),f=r(18717),m=r(4792),E=r(76635),v=r(64141),h=r(42874),g=r(96234),y=r(72779),_=r.n(y),I=r(20205),S=r(54077),T=r(36666),b=r(32579),R=r(63690);function O(e){var t=C();return function(){var r,n=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.Z)(this,r)}}function C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(C=function(){return!!e})()}var A=function(e){(0,o.Z)(r,e);var t=O(r);function r(){var e;(0,n.Z)(this,r);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),(0,u.Z)((0,s.Z)(e),"_groupTestsByKey",(function(t){var r=t?t[0]:void 0;r!==e.props.keyToGroupTestsBy&&e.props.actions.groupTestsByKey(r)})),e}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.selectedGroupKey,r=e.groupedTests,n=_()("select","select_type_group"),a=Object.values(S.SA).map((function(e){return{label:e,options:r[e].allKeys.map((function(t){return{value:"".concat(e,".").concat(t),content:t}}))}}));return l.createElement("div",{className:n},l.createElement(b.Z,{size:"m",pin:"round-brick"},"Group By"),l.createElement(R.Select,{disablePortal:!0,className:"group-by-dropdown",options:a,value:[t],hasClear:!0,onUpdate:this._groupTestsByKey,pin:"brick-round",placeholder:"select key",qa:"group-by-dropdown"}))}}]),r}(l.Component);(0,u.Z)(A,"propTypes",{actions:d().object.isRequired,keyToGroupTestsBy:d().string.isRequired,groupedTests:I.M.isRequired,selectedGroupSection:d().string,selectedGroupKey:d().string});const w=(0,m.connect)((function(e){var t=e.view.keyToGroupTestsBy,r=e.groupedTests,n=(0,T.B)(e),a=(0,g.Z)(n,2);return{keyToGroupTestsBy:t,groupedTests:r,selectedGroupSection:a[0],selectedGroupKey:a[1]}}),(function(e){return{actions:(0,f.bindActionCreators)(v,e)}}))(A);function N(e){var t=Z();return function(){var r,n=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.Z)(this,r)}}function Z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Z=function(){return!!e})()}var P=function(e){(0,o.Z)(r,e);var t=N(r);function r(e){var a;return(0,n.Z)(this,r),(a=t.call(this,e))._onChange=a._onChange.bind((0,s.Z)(a)),a}return(0,a.Z)(r,[{key:"render",value:function(){return l.createElement(R.TextInput,{size:"m",className:"base-host-input",value:this.props.baseHost,placeholder:"Base host for view in browser",onChange:this._onChange,qa:"base-host"})}},{key:"_onChange",value:function(e){this.props.actions.updateBaseHost(e.target.value)}}]),r}(l.Component);(0,u.Z)(P,"propTypes",{baseHost:d().string.isRequired,actions:d().object.isRequired});const D=(0,m.connect)((function(e){return{baseHost:e.view.baseHost}}),(function(e){return{actions:(0,f.bindActionCreators)(v,e)}}))(P);var k=r(7896),x=r(59740),B=r(76763),L=r(58841),U=r(97680),G=r(65661),M=["className"];function q(e){var t=j();return function(){var r,n=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.Z)(this,r)}}function j(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(j=function(){return!!e})()}var F=function(e){(0,o.Z)(r,e);var t=q(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"_getItems",value:function(e){return Object.keys(e).map((function(t,r){return l.createElement(R.Menu.Item,{key:r,onClick:function(){},className:"menu-bar__content_item"},l.createElement("a",{href:e[t]},t))}))}},{key:"render",value:function(){var e=this.props.extraItems,t=L.xj().some((function(e){return e.point===U.gr}));return(0,E.isEmpty)(e)&&!t?null:l.createElement("div",{className:"menu-bar","data-qa":"menu-bar"},l.createElement(R.DropdownMenu,{size:"m",renderSwitcher:function(e){var t=e.className,r=(0,x.Z)(e,M);return l.createElement(R.Button,(0,k.Z)({className:_()("menu-bar__dropdown",t)},r,{view:"flat"}),l.createElement(R.Icon,{size:16,data:G.Z}))}},l.createElement(R.Menu,{size:"m",className:"menu-bar__content"},l.createElement(B.Z,{name:U.gr},this._getItems(e)))))}}]),r}(l.Component);(0,u.Z)(F,"propTypes",{extraItems:d().object.isRequired});const H=(0,m.connect)((function(e){return{extraItems:e.apiValues.extraItems}}))(F);var V=r(5429),W=r(81114),K=r(57159),Y=r(24298),z=r(63550);function X(e){var t=(0,z.z)(),r=e.gui,n=e.timestamp,a=(0,E.isEmpty)(navigator.languages)?navigator.language:navigator.languages[0],s=new Date(n).toLocaleString(a),o=(0,K.Z)(Y.Fe.UIMode,Y.HT.New),i=(0,g.Z)(o,2)[1];return l.createElement("div",{className:"report-info"},l.createElement(R.Button,{className:"new-ui-button",onClick:function(){null==t||t.trackFeatureUsage({featureName:"Switch to new UI"}),i(Y.HT.New);var e=new URL(window.location.href);e.pathname=e.pathname.replace(/\/(index\.html)?$/,(function(e,t){return t?"/new-ui.html":"/new-ui"})),e.searchParams.set("switched-from-old-ui","1"),window.location.href=e.href}},l.createElement("div",{className:"new-ui-button__glow"}),l.createElement(R.Icon,{data:V.Z}),"Try New UI"),l.createElement(R.Label,{qa:"version-label",size:"m",className:"label"},"Version",l.createElement("div",{className:"detail"},W.i8)),!r&&l.createElement(R.Label,{qa:"created-at-label",size:"m",className:"label"},"Created at",l.createElement("div",{className:"detail"},s)))}X.propTypes={gui:d().bool.isRequired,timestamp:d().number.isRequired};const $=(0,m.connect)((function(e){return{gui:e.gui,timestamp:e.timestamp}}))(X);var Q=r(37487),J=r(58615),ee=r(85202);function te(e){var t=re();return function(){var r,n=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.Z)(this,r)}}function re(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(re=function(){return!!e})()}var ne=function(e){(0,o.Z)(r,e);var t=te(r);function r(){var e;(0,n.Z)(this,r);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),(0,u.Z)((0,s.Z)(e),"_onUpdateExpand",(function(t){var r,n=e.props.actions;(r={},(0,u.Z)(r,ee.Tm,n.expandAll),(0,u.Z)(r,ee.Lq,n.collapseAll),(0,u.Z)(r,ee.YS,n.expandErrors),(0,u.Z)(r,ee.Tq,n.expandRetries),r)[t].call()})),e}return(0,a.Z)(r,[{key:"_getShowTestsOptions",value:function(){var e=Object.values(Q.w).map((function(e){return{value:e,content:(0,E.capitalize)(e)}}));return this.props.isStatisImageAccepterEnabled?e:e.filter((function(e){return![Q.w.STAGED,Q.w.COMMITED].includes(e.value)}))}},{key:"render",value:function(){var e=this.props,t=e.actions,r=e.view,n=e.app;return l.createElement(l.Fragment,null,l.createElement(h.Z,{size:"s",label:"Show tests",value:n.suitesPage.viewMode,handler:function(e){return t.changeViewMode({data:e,page:"suitesPage"})},options:this._getShowTestsOptions()}),l.createElement(h.Z,{size:"m",label:"Expand",value:r.expand,handler:this._onUpdateExpand,qa:"expand-dropdown",options:[{value:ee.Tm,content:"All"},{value:ee.Lq,content:"None"},{value:ee.YS,content:"Errors"},{value:ee.Tq,content:"Retries"}],extendClassNames:"expand-dropdown",extendPopupClassNames:"expand-popup"}),l.createElement(w,null),l.createElement(h.Z,{size:"m",label:"Diff mode",value:r.diffMode,handler:function(e){return t.setDiffMode({diffModeId:e})},options:Object.values(J.T).map((function(e){return{value:e.id,content:e.title}})),extendClassNames:"diff-mode"}),l.createElement(D,null),l.createElement(H,null),l.createElement($,null))}}]),r}(l.Component);(0,u.Z)(ne,"propTypes",{view:d().shape({expand:d().string.isRequired,viewMode:d().string.isRequired,diffMode:d().string.isRequired}),app:d().object.isRequired,isStatisImageAccepterEnabled:d().bool,actions:d().object.isRequired});const ae=(0,m.connect)((function(e){return{view:e.view,app:e.app,isStatisImageAccepterEnabled:e.staticImageAccepter.enabled}}),(function(e){return{actions:(0,f.bindActionCreators)(v,e)}}))(ne)},91695:(e,t,r)=>{"use strict";r.d(t,{Z:()=>w});var n=r(2784),a=r(13980),s=r.n(a),o=r(18717),i=r(4792),c=r(64141),u=r(96234),l=r(76635),p=r(63690),d=function(e){var t=e.actions,r=e.testNameFilter,a=(0,n.useState)(r),s=(0,u.Z)(a,2),o=s[0],i=s[1],c=(0,n.useCallback)((0,l.debounce)((function(e){return t.updateNameFilter({data:e,page:"suitesPage"})}),500,{maxWait:3e3}),[]);return n.createElement(p.TextInput,{size:"m",className:"test-name-filter",value:o,placeholder:"Filter by test name or regexp",onChange:function(e){i(e.target.value),c(e.target.value)},qa:"header-test-name-filter"})};d.propTypes={testNameFilter:s().string.isRequired,actions:s().object.isRequired};const f=(0,i.connect)((function(e){return{testNameFilter:e.app.suitesPage.nameFilter}}),(function(e){return{actions:(0,o.bindActionCreators)(c,e)}}))(d);var m=function(e){var t=e.strictMatchFilter,r=e.actions,a=(0,n.useState)(t),s=(0,u.Z)(a,2),o=s[0],i=s[1];return n.createElement(p.Switch,{size:"m",content:"Strict match",checked:o,onChange:function(){var e=!o;i(e),r.setStrictMatchFilter(e)},qa:"header-strict-match"})};m.propTypes={strictMatchFilter:s().bool.isRequired,actions:s().object.isRequired};const E=(0,i.connect)((function(e){return{strictMatchFilter:e.view.strictMatchFilter}}),(function(e){return{actions:(0,o.bindActionCreators)(c,e)}}))(m);var v=r(57159);const h=function(){var e=(0,v.Z)("showCheckboxes",!1),t=(0,u.Z)(e,2),r=t[0],a=t[1];return n.createElement(p.Switch,{content:"Checkboxes",onChange:function(){return a(!r)},checked:r})};var g=r(72779),y=r.n(g),_={google:"chrome",chrome:"chrome",firefox:"firefox",safari:"safari",edge:"edge",yandex:"yandex",yabro:"yandex",ie:"internet-explorer",explorer:"internet-explorer",opera:"opera",phone:"mobile",mobile:"mobile",tablet:"tablet",ipad:"tablet"};function I(e){var t=function(e){return n.createElement("i",{className:"fa fa-".concat(e),"aria-hidden":"true"})};if(!(0,l.isString)(e))return t("browser");var r=e.toLowerCase();for(var a in _)if(r.includes(a))return t(_[a]);return t("browser")}function S(e,t){return t?"".concat(e," (").concat(t,")"):e}var T=function(e){var t,r=e.available,a=e.onChange,s=e.selected,o=(0,n.useMemo)((function(){var e,t={},a="other",s=!1;if(r.forEach((function(e){var r=e.id,o=e.versions;if(!o||o.length<2)return t[a]=t[a]||[],void t[a].push({value:S(r),content:n.createElement("div",{className:"browser-name"},I(r),S(r))});s=!0,o.forEach((function(e){t[r]=t[r]||[],t[r].push({value:S(r,e),content:n.createElement("div",{className:"browser-name"},I(r),S(r,e))})}))})),s){var o=[];return Object.keys(t).forEach((function(e){o.push({label:e,options:t[e]})})),o}return null!==(e=t[a])&&void 0!==e?e:[]}),[r]),i=function e(t){var r=[];return t.forEach((function(t){t.label?e(t.options).forEach((function(e){return r.push(e)})):r.push(t.value)})),r},c=(0,n.useMemo)((function(){return i(o)}),[o]),d=(0,p.useSelectOptions)({options:o}),f=(0,n.useMemo)((function(){var e={};return r.forEach((function(t){var r=t.id,n=t.versions;n&&n.length?n.length<2?e[S(r)]={id:r,version:n[0]}:n.forEach((function(t){e[S(r,t)]={id:r,version:t}})):e[S(r)]={id:r}})),e}),[r]),m=(0,n.useState)((t=[],s&&s.length?(s.forEach((function(e){var r=e.id,n=e.versions;!n||n.length<2?t.push(S(r)):n.forEach((function(e){t.push(S(r,e))}))})),t):[])),E=(0,u.Z)(m,2),v=E[0],h=E[1],g=function(){h(c)};return(0,n.useEffect)((function(){var e;a&&a((e={},v.forEach((function(t){if(f[t]&&f[t].id){var r=f[t],n=r.id,a=r.version;e[n]=e[n]||[],e[n].push(a)}})),Object.entries(e).map((function(e){var t=(0,u.Z)(e,2),r=t[0],n=t[1];return{id:r,versions:(0,l.compact)(n)}}))))}),[v]),n.createElement(p.Select,{disablePortal:!0,value:v,options:d,multiple:!0,hasCounter:!0,filterable:!0,renderFilter:function(){return n.createElement("div",{className:"browserlist__filter"},n.createElement(p.Button,{onClick:g,width:"max"},"Select All"))},renderOption:function(e){var t=v.includes(e.value)&&1===v.length;return n.createElement("div",{className:"browserlist__row"},n.createElement("div",{className:"browserlist__row_content"},e.content),n.createElement(p.Button,{size:"s",onClick:t?function(t){t.preventDefault(),t.stopPropagation(),h(c.filter((function(t){return t!==e.value})))}:function(t){t.preventDefault(),t.stopPropagation(),h([e.value])},className:y()("regular-button","action-button")},t?"Except":"Only"))},onUpdate:h,popupClassName:"browserlist__popup",className:"browserlist"})};T.propTypes={available:s().arrayOf(s().shape({id:s().string,versions:s().arrayOf(s().string)})).isRequired,selected:s().arrayOf(s().shape({id:s().string,versions:s().arrayOf(s().string)})),onChange:s().func.isRequired};const b=T;var R=r(18553),O=r(33992),C=r(78272),A=function(e){var t,r=function(){e.actions.staticAccepterOpenConfirm()};return n.createElement("div",{className:"control-container control-filters"},n.createElement(b,{available:e.browsers,selected:e.filteredBrowsers,onChange:function(t){return e.actions.selectBrowsers({data:t,page:"suitesPage"})}}),n.createElement(f,null),n.createElement(E,null),e.gui&&n.createElement(h,null),(t=e.staticImageAccepter).enabled?n.createElement("div",{className:"static-image-accepter"},n.createElement(O.Z,{isSuiteContol:!0}),n.createElement(R.Z,{label:"Commit ".concat(t.imagesToCommitCount," images"),title:"Send request with imagesInfo to 'staticImageAccepter.serviceUrl'",isDisabled:0===t.imagesToCommitCount,isSuiteControl:!0,handler:r})):null)};A.propTypes={gui:s().bool.isRequired,browsers:s().arrayOf(s().shape({id:s().string,versions:s().arrayOf(s().string)})).isRequired,filteredBrowsers:s().arrayOf(s().shape({id:s().string,versions:s().arrayOf(s().string)})),staticImageAccepter:C.O$,actions:s().object.isRequired};const w=(0,i.connect)((function(e){var t=e.app,r=e.browsers,n=e.gui,a=e.staticImageAccepter;return{filteredBrowsers:t.suitesPage.filteredBrowsers,browsers:r,gui:n,staticImageAccepter:a}}),(function(e){return{actions:(0,o.bindActionCreators)(c,e)}}))(A)},76763:(e,t,r)=>{"use strict";r.d(t,{Z:()=>_});var n=r(59740),a=r(9249),s=r(87371),o=r(45754),i=r(11987),c=r(95058),u=r(56666),l=r(2784),p=r(13980),d=r.n(p),f=r(6857),m=r(58841),E=["name","children"];function v(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return h(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,s=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw s}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function g(e){var t=y();return function(){var r,n=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.Z)(this,r)}}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function(){return!!e})()}var _=function(e){(0,o.Z)(r,e);var t=g(r);function r(){return(0,a.Z)(this,r),t.apply(this,arguments)}return(0,s.Z)(r,[{key:"render",value:function(){var e=m.xj();if(e.length){var t=this.props,r=t.name,a=t.children,s=(0,n.Z)(t,E),o=function(e,t){return e.map((function(e){try{var t=m.U2(e.name,e.component);return{PluginComponent:t,name,point:S(t,e),position:T(t,e),config:e}}catch(e){return console.error(e),{}}})).filter((function(e){var r=e.point,n=e.position;return r&&n&&r===t}))}(e,r);return function(e,t,r){var n,a=t,s=v(e);try{for(s.s();!(n=s.n()).done;){var o=n.value;a=I(o.PluginComponent,r,a,o.position,o.config)}}catch(e){s.e(e)}finally{s.f()}return a}(o,a,s)}return this.props.children}}]),r}(l.Component);function I(e,t,r,n,a){switch(n){case"wrap":return l.createElement(f.Z,{fallback:r},l.createElement(e,t,r));case"before":return l.createElement(l.Fragment,null,l.createElement(f.Z,null,l.createElement(e,t)),r);case"after":return l.createElement(l.Fragment,null,r,l.createElement(f.Z,null,l.createElement(e,t)));default:return console.error("".concat(R(a),' unexpected position "').concat(n,'" specified.')),r}}function S(e,t){return b(e,t,"point")}function T(e,t){return b(e,t,"position")}function b(e,t,r){return e[r]&&t[r]&&e[r]!==t[r]?(console.error("".concat(R(t),' "').concat(r,'" field does not match the one from the config: "').concat(l.Component[r],'" vs "').concat(t[r],'".')),null):e[r]||t[r]?e[r]||t[r]:(console.error("".concat(R(t),' "').concat(r,'" field is not set.')),null)}function R(e){return'Component "'.concat(e.component,'" of "').concat(e.name,'" plugin')}(0,u.Z)(_,"propTypes",{name:d().string.isRequired,children:d().oneOfType([d().element,d().string,d().array])})},20205:(e,t,r)=>{"use strict";r.d(t,{M:()=>s});var n=r(13980),a=r.n(n),s=a().shape({result:a().shape({byKey:a().object.isRequired,allKeys:a().array.isRequired}).isRequired,meta:a().shape({byKey:a().object.isRequired,allKeys:a().array.isRequired}).isRequired})},67985:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var n=r(9249),a=r(87371),s=r(45754),o=r(11987),i=r(95058),c=r(56666),u=r(2784),l=r(13980),p=r.n(l),d=r(56834),f=r(9340);function m(e){var t=E();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,o.Z)(this,r)}}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(E=function(){return!!e})()}var v=function(e){(0,s.Z)(r,e);var t=m(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.children,r=e.active,n=e.content,a=void 0===n?"Loading...":n;return u.createElement(d.Z.Dimmable,{dimmed:r},u.createElement(d.Z,{active:r,inverted:!0,page:!0},u.createElement(f.Z,{size:"large",content:a})),t)}}]),r}(u.Component);(0,c.Z)(v,"propTypes",{active:p().bool,content:p().string,children:p().oneOfType([p().element,p().string])})},89297:(e,t,r)=>{"use strict";r.d(t,{Z:()=>wt});var n=r(9249),a=r(87371),s=r(45754),o=r(11987),i=r(95058),c=r(56666),u=r(2784),l=r(4792),p=r(13980),d=r.n(p),f=r(96234),m=r(80753),E=r(18717),v=r(72779),h=r.n(v),g=r(64141),y=r(76635),_=r(52392),I=r(94646),S=r(37487),T=r(85202),b=r(9560),R=r(89288),O=r(8776),C=r(57159),A=r(63690),w=r(13432),N=function(e){var t=e.status,r=e.onClick,n=e.className,a=(0,C.Z)("showCheckboxes",!1),s=(0,f.Z)(a,1)[0],o=u.useCallback((function(e){e.stopPropagation(),r(e)}));return s?u.createElement("div",{onClick:o,className:"bullet-container"},u.createElement(A.Checkbox,{className:h()("bullet_type-checkbox",n),checked:(0,b.CR)(t),indeterminate:(0,b.Ph)(t)})):u.createElement("div",{className:"bullet-container"},u.createElement(w.Z,{className:h()(n,"bullet_type-simple"),"data-qa":"bullet-icon"}))};N.propTypes={status:d().oneOf([O.ri,O.wT,O.Km]),onClick:d().func,bulletClassName:d().string,className:d().string};const Z=N;var P=r(29406),D=r(5028),k=function(e){var t=u.useMemo((function(){return(0,I.ru)(window.location.href,{browser:(0,y.escapeRegExp)(e.browserName),testNameFilter:(0,y.escapeRegExp)(e.testName),strictMatchFilter:!0,retryIndex:e.retryIndex,viewModes:S.w.ALL,expand:T.Tm})}),[e.browserName,e.testName,e.retryIndex]);return u.createElement("div",{className:"section__title section__title_type_browser",onClick:e.handler},u.createElement(Z,{status:e.checkStatus,onClick:function(t){t.stopPropagation(),e.actions.toggleBrowserCheckbox({suiteBrowserId:e.browserId,checkStatus:(0,b.jj)(e.checkStatus)})}}),e.title,u.createElement(R.Z,{resultId:e.lastResultId}),u.createElement(P.m,{text:t,title:"copy test link",icon:u.createElement(D.Z,{width:16,height:16}),onClick:function(e){e.stopPropagation()}}))};k.propTypes={title:d().node.isRequired,browserId:d().string.isRequired,browserName:d().string.isRequired,lastResultId:d().string.isRequired,handler:d().func.isRequired,checkStatus:d().number.isRequired,testName:d().string.isRequired,retryIndex:d().number.isRequired,suiteUrl:d().string,actions:d().object.isRequired};const x=(0,l.connect)((function(e,t){var r=e.tree,n=t.browserId,a=r.browsers.stateById[n];return{checkStatus:a.checkStatus,testName:r.browsers.byId[n].parentId,retryIndex:(0,y.get)(a,"retryIndex",0)}}),(function(e){return{actions:(0,E.bindActionCreators)(g,e)}}))(k);var B=function(e){return u.createElement("div",{className:"section__title section__title_skipped"},u.createElement(Z,{status:e.checkStatus,onClick:function(t){t.stopPropagation(),e.actions.toggleBrowserCheckbox({suiteBrowserId:e.browserId,checkStatus:(0,b.jj)(e.checkStatus)})}}),e.title)};B.propTypes={title:d().object.isRequired,browserId:d().string.isRequired,checkStatus:d().number.isRequired,actions:d().object.isRequired};const L=(0,l.connect)((function(e,t){var r=e.tree,n=t.browserId;return{checkStatus:r.browsers.stateById[n].checkStatus}}),(function(e){return{actions:(0,E.bindActionCreators)(g,e)}}))(B);var U=r(33751),G=r(18553),M=r(28978),q=r(922);function j(e){var t=F();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,o.Z)(this,r)}}function F(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(F=function(){return!!e})()}var H=function(e){(0,s.Z)(r,e);var t=j(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props.resultId;return u.createElement(q.Z,{title:"Meta",content:u.createElement(A.Card,{className:"details__card",view:"filled"},u.createElement(M.o,{resultId:e,qa:"meta-info"}))})}}]),r}(u.Component);(0,c.Z)(H,"propTypes",{resultId:d().string.isRequired});var V=r(61394),W=function(e){var t=e.history;function r(e,t){var n=Object.assign({},e);n[V.z.Name]="".concat("\t".repeat(t)).concat(n[V.z.Name]);var a=n[V.z.Args];return a&&a.length>0&&(n[V.z.Name]+="(".concat(a.map((function(e){return'"'.concat(e,'"')})).join(", "),")")),n[V.z.Children]?[n].concat(n[V.z.Children].map((function(e){return r(e,t+1)}))):[n]}var n=t.map((function(e){return r(e,0)})).flat(1/0);return(0,y.isEmpty)(t)?null:u.createElement(q.Z,{title:"History",content:u.createElement(A.Card,{className:"details__card",view:"filled"},u.createElement("div",{style:{display:"flex"}},u.createElement(A.List,{items:n,renderItem:function(e){return u.createElement("div",{className:"history-item"},u.createElement("span",{className:"history-item__name"},e[V.z.Name]),u.createElement("span",{className:"history-item__time"},e[V.z.Duration]," ms"))},filterable:!1,virtualized:!1}))),extendClassNames:"history"})};W.propTypes={resultId:d().string.isRequired,history:d().arrayOf(d().object)};const K=(0,l.connect)((function(e,t){var r=e.tree,n=t.resultId,a=r.results.byId[n].history;return{history:void 0===a?[]:a}}))(W);var Y=r(88100),z=r.n(Y);function X(e){var t=$();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,o.Z)(this,r)}}function $(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return($=function(){return!!e})()}var Q=function(e){(0,s.Z)(r,e);var t=X(r);function r(){var e;(0,n.Z)(this,r);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s)),(0,c.Z)((0,m.Z)(e),"_renderDescription",(function(){return u.createElement(z(),null,e.props.content)})),e}return(0,a.Z)(r,[{key:"render",value:function(){return u.createElement(q.Z,{title:"Description",content:this._renderDescription})}}]),r}(u.Component);(0,c.Z)(Q,"propTypes",{content:d().string.isRequired});var J=r(69875),ee=r(46840),te=r(73199),re=r(48439),ne=r.n(re),ae=r(57807),se=r.n(ae),oe=r(84673),ie=r.n(oe);function ce(e){var t=ue();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,o.Z)(this,r)}}function ue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ue=function(){return!!e})()}var le=function(e){(0,s.Z)(r,e);var t=ce(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props.errorDetails,t=e.title,r=e.filePath,n=u.createElement("div",{className:"toggle-open__item"},u.createElement("a",{href:r,target:"_blank",rel:"noreferrer"},t));return u.createElement(q.Z,{title:"Error details",content:n})}}]),r}(u.Component);(0,c.Z)(le,"propTypes",{errorDetails:d().object.isRequired});var pe=r(72273),de=r(81845);function fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ee(e){var t=ve();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,o.Z)(this,r)}}function ve(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ve=function(){return!!e})()}se().setColors({reset:["#","#"],cyan:"ff6188",yellow:"5cb008",magenta:"8e81cd",green:"aa8720"});var he=function(e){(0,s.Z)(r,e);var t=Ee(r);function r(){var e;(0,n.Z)(this,r);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s)),(0,c.Z)((0,m.Z)(e),"_wrapInDiv",(function(e){return e?"<div>".concat(e,"</div>"):e})),e}return(0,a.Z)(r,[{key:"_getErrorPattern",value:function(){var e=this.props,t=e.errorPatterns,r=e.error;return t.find((function(e){var t,n=e.regexp;return null==r||null===(t=r.message)||void 0===t?void 0:t.match(n)}))}},{key:"_drawImage",value:function(){var e=this.props,t=e.image,r=e.error;return t.actualImg&&((0,b.S5)(r)||(0,b.Ne)(r))?u.createElement(de.w,{image:t.actualImg}):null}},{key:"_errorToElements",value:function(e){var t=this;return(0,y.isEmpty)(e)?"Unknown error":(0,y.map)(e,(function(e,r){if(!e)return null;var n,a,s,o="",i="";if("string"==typeof e){if(e.match(/\n/)){var c=e.split("\n"),l=(0,ee.Z)(c);o=l[0],i=l.slice(1),i=(0,b.G6)(i)}else if(e.length<pe._8)o=e;else{var p=(a=(n=e).slice(0,pe._8).lastIndexOf(" "),s=-1===a?pe._8:a,[n.slice(0,s),n.slice(s+1)]),d=(0,ee.Z)(p);o=d[0],i=d.slice(1)}Array.isArray(i)&&(i=i.join("\n")),i=t._wrapInDiv(se()(ne()(i)))}else o=u.createElement("span",null,"show more"),i=(0,y.isFunction)(e)?e:function(){return e};var f=u.createElement(u.Fragment,null,u.createElement("span",{className:"error__item-key"},r,": "),ie()(o)),m="string"==typeof i;return u.createElement(q.Z,{key:r,asHtml:m,title:f,content:i,extendClassNames:"error__item"})}))}},{key:"_shouldDrawErrorInfo",value:function(e){return!(0,b.ci)(e)&&!(0,b.iR)(e)}},{key:"render",value:function(){var e=this.props,t=e.error,r=e.errorDetails,n=this._getErrorPattern(),a=(0,y.isEmpty)(n)?t:me(me({},t),{},{message:"".concat(n.name,"\n").concat(null==t?void 0:t.message),hint:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e?(0,te.ZP)(e):null;return Array.isArray(t)&&1===t.length?t[0]:t}(n.hint)}});return u.createElement("div",null,this._shouldDrawErrorInfo(a)?u.createElement(A.Card,{view:"filled",className:"error"},this._errorToElements((0,b.Fm)(a))):null,r&&u.createElement(le,{errorDetails:r}),this._drawImage())}}]),r}(u.Component);(0,c.Z)(he,"propTypes",{result:d().shape({error:d().object,errorDetails:d().object}).isRequired,image:d().shape({stateName:d().string,error:d().object,actualImg:d().object}).isRequired,error:d().object.isRequired,errorDetails:d().object,errorPatterns:d().array.isRequired});const ge=(0,l.connect)((function(e,t){var r=e.config.errorPatterns,n=t.result,a=t.image;return{error:a.error||n.error,errorDetails:a.stateName?null:n.errorDetails,errorPatterns:r}}),(function(e){return{actions:(0,E.bindActionCreators)(g,e)}}))(he);function ye(e){var t=_e();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,o.Z)(this,r)}}function _e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_e=function(){return!!e})()}var Ie=function(e){(0,s.Z)(r,e);var t=ye(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.status,r=e.expectedImg;return u.createElement(de.w,{disableCache:(0,b.Cr)(t),image:r})}}]),r}(u.Component);(0,c.Z)(Ie,"propTypes",{status:d().string.isRequired,expectedImg:d().object.isRequired});var Se=r(24805),Te=r(99086);function be(e){var t=Re();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,o.Z)(this,r)}}function Re(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Re=function(){return!!e})()}var Oe=function(e){(0,s.Z)(r,e);var t=be(r);function r(){var e;(0,n.Z)(this,r);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s)),(0,c.Z)((0,m.Z)(e),"_findSameDiffs",(function(){var t=e.props,r=t.actions,n=t.imageId,a=t.failedOpenedImageIds,s=t.browserName;r.thunkFindSameDiffs(n,a,s)})),e}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props.isDisabled;return u.createElement(G.Z,{label:u.createElement(u.Fragment,null,u.createElement(Te.Z,null),"Find same diffs"),isSuiteControl:!0,isDisabled:e,handler:this._findSameDiffs,dataTestId:"find-same-diffs"})}}]),r}(u.Component);(0,c.Z)(Oe,"propTypes",{imageId:d().string,browserId:d().string.isRequired,isDisabled:d().bool.isRequired,browserName:d().string.isRequired,failedOpenedImageIds:d().arrayOf(d().string).isRequired,actions:d().object.isRequired});const Ce=(0,l.connect)((function(e,t){var r=t.browserId;return{browserName:e.tree.browsers.byId[r].name,failedOpenedImageIds:(0,J.getFailedOpenedImageIds)(e)}}),(function(e){return{actions:(0,E.bindActionCreators)(g,e)}}))(Oe);var Ae=r(55862),we=r(14054),Ne=r(47486),Ze=r(37010),Pe=r(27060),De=r(60460),ke=r(41493);function xe(e){var t=Be();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,o.Z)(this,r)}}function Be(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Be=function(){return!!e})()}var Le=function(e){(0,s.Z)(r,e);var t=xe(r);function r(e){var a;return(0,n.Z)(this,r),a=t.call(this,e),(0,c.Z)((0,m.Z)(a),"toggleModal",(function(){var e=a.props,t=e.actions,r=e.image;t.openModal({id:Ae.types.SCREENSHOT_ACCEPTER,type:Ae.types.SCREENSHOT_ACCEPTER,className:"screenshot-accepter",data:{image:r}})})),(0,c.Z)((0,m.Z)(a),"onToggleStateResult",(function(){var e=a.props,t=e.imageId,r=e.image,n=e.shouldImageBeOpened;r.stateName&&a.props.actions.toggleStateResult({imageId:t,shouldBeOpened:!n})})),(0,c.Z)((0,m.Z)(a),"onTestAccept",(function(){var e;null===(e=a.analytics)||void 0===e||e.trackScreenshotsAccept(),a.props.isStaticImageAccepterEnabled?a.props.actions.staticAccepterStageScreenshot([a.props.imageId]):a.props.actions.thunkAcceptImages({imageIds:[a.props.imageId]})})),(0,c.Z)((0,m.Z)(a),"onScreenshotUndo",(function(){a.props.isStaticImageAccepterEnabled?a.props.actions.staticAccepterUnstageScreenshot([a.props.imageId]):a.props.actions.thunkRevertImages({imageIds:[a.props.imageId]})})),a.analytics=a.context,a}return(0,a.Z)(r,[{key:"_drawFailImageControls",value:function(){var e=this;if(!this.props.gui&&!this.props.isStaticImageAccepterEnabled)return null;var t=this.props,r=t.node,n=t.imageId,a=t.result,s=t.isScreenshotAccepterDisabled,o=t.isStaticImageAccepterEnabled,i=t.isStaticAccepterAcceptDisabled,c=!(0,we.h3)(r)||o&&i,l=!(0,b.R6)(r.status)||o;return c&&l&&s?null:u.createElement("div",{className:"state-controls"},u.createElement(G.Z,{label:u.createElement(u.Fragment,null,u.createElement(Ne.Z,null),"Accept"),isSuiteControl:!0,isDisabled:c,handler:this.onTestAccept,dataTestId:"test-accept"}),u.createElement(Ce,{imageId:n,browserId:a.parentId,isDisabled:l}),u.createElement(G.Z,{label:u.createElement(u.Fragment,null,u.createElement(Ze.Z,null),"Switch accept mode"),title:"Open mode with fast screenshot accepting",isSuiteControl:!0,isDisabled:s,extendClassNames:"screenshot-accepter__arrows-open-btn",handler:function(){return e.toggleModal()},"data-qa":"test-switch-accept-mode"}))}},{key:"_drawUpdatedImageControls",value:function(){var e=this.props,t=e.gui,r=e.image,n=e.isLastResult,a=e.isStaticImageAccepterEnabled;return(0,we.KD)({image:r,gui:t,isLastResult:n,isStaticImageAccepterEnabled:a})?u.createElement("div",{className:"state-controls"},u.createElement(G.Z,{label:u.createElement(u.Fragment,null,u.createElement(Pe.Z,null),"Undo"),isSuiteControl:!0,handler:this.onScreenshotUndo,dataTestId:"test-undo"})):null}},{key:"_getStateTitleWithDiffCount",value:function(){var e=this.props.image;if(!e.stateName)return null;var t=h()("state-title","state-title_".concat(e.status)),r=e.stateName;if(e.differentPixels&&e.diffRatio){var n=(0,De.hi)(e.diffRatio);r+=" (diff: ".concat(e.differentPixels,"px, ").concat(n,"%)")}return u.createElement("div",{className:t},r)}},{key:"render",value:function(){var e=this.props,t=e.node,r=e.result,n=e.image,a=t.status,s=t.error,o=null;return(0,b.KM)(a)?o=u.createElement(ge,{result:r,image:n}):(0,b.Mg)(a)||(0,b.Cr)(a)||(0,b.nc)(a)&&(0,y.get)(n.expectedImg,"path")?o=u.createElement(Ie,{status:a,expectedImg:n.expectedImg}):(0,b.Cx)(a)||(0,b.hO)(a)?o=u.createElement(Ie,{status:a,expectedImg:n.actualImg}):(0,b.R6)(a)&&(o=s?u.createElement(ge,{result:r,image:n}):u.createElement(Se.Z,{image:n})),u.createElement(u.Fragment,null,u.createElement("hr",{className:"tab__separator"}),this._getStateTitleWithDiffCount()?u.createElement(A.Disclosure,{summary:this._getStateTitleWithDiffCount(),onUpdate:this.onToggleStateResult,size:"l",defaultExpanded:this.props.shouldImageBeOpened},this._drawFailImageControls(),this._drawUpdatedImageControls(),o?u.createElement("div",{className:"image-box__container"},o):null):u.createElement(u.Fragment,null,this._drawFailImageControls(),this._drawUpdatedImageControls(),o?u.createElement("div",{className:"image-box__container"},o):null))}}]),r}(u.Component);(0,c.Z)(Le,"contextType",ke.f),(0,c.Z)(Le,"propTypes",{result:d().shape({status:d().string.isRequired,error:d().object,parentId:d().string}).isRequired,imageId:d().string,gui:d().bool.isRequired,image:d().shape({status:d().string,error:d().object,stateName:d().string,expectedImg:d().object,actualImg:d().object,diffRatio:d().number,differentPixels:d().number}).isRequired,node:d().shape({error:d().object,status:d().string}),shouldImageBeOpened:d().bool.isRequired,isScreenshotAccepterDisabled:d().bool.isRequired,isStaticImageAccepterEnabled:d().bool.isRequired,isStaticAccepterAcceptDisabled:d().bool,isLastResult:d().bool.isRequired,actions:d().object.isRequired});const Ue=(0,l.connect)((function(){var e=(0,J.mkGetLastImageByStateName)();return function(t,r){var n=r.imageId,a=r.result,s=t.gui,o=t.tree,i=t.staticImageAccepter.enabled,c=o.images.byId[n]||{},u=!c.stateName||o.images.stateById[n].shouldBeOpened,l=n?c:a,p=t.tree.browsers.byId[a.parentId],d=(0,y.last)(p.resultIds)===a.id,f=!0,m=!0;if((s||i)&&n){var E=e(t,{imageId:n})||{};f=(0,we.F7)(E)||!(0,we.h3)(l),m=(0,we.F7)(E)&&!(0,we.Xd)(E)||!(0,we.h3)(l)}return{gui:s,image:c,node:l,shouldImageBeOpened:u,isScreenshotAccepterDisabled:f,isStaticImageAccepterEnabled:i,isStaticAccepterAcceptDisabled:m,isLastResult:d}}}),(function(e){return{actions:(0,E.bindActionCreators)(g,e)}}))(Le);function Ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Me(e){var t=qe();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,o.Z)(this,r)}}function qe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(qe=function(){return!!e})()}var je=function(e){(0,s.Z)(r,e);var t=Me(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"_shouldAddErrorTab",value:function(){var e=this.props.result;return(0,b.KM)(e.status)}},{key:"_drawTab",value:function(e){var t=e.key,r=e.imageId,n=void 0===r?null:r,a=this.props.result;return u.createElement("div",{key:t,className:"tab"},u.createElement("div",{className:"tab__item tab__item_active"},u.createElement(Ue,{result:a,imageId:n})))}},{key:"render",value:function(){var e=this,t=this.props.result,r="".concat(t.id,"_error");if((0,y.isEmpty)(t.imageIds))return(0,b.Mg)(t.status)||(0,b.sx)(t.status)&&(0,y.isEmpty)(t.error)?null:this._drawTab({key:r});var n=t.imageIds.map((function(t){return e._drawTab({key:t,imageId:t})}));return this._shouldAddErrorTab()?n.concat(this._drawTab({key:r})):n}}]),r}(u.Component);(0,c.Z)(je,"propTypes",{result:d().shape({id:d().string.isRequired,status:d().string.isRequired,imageIds:d().array.isRequired,screenshot:d().bool.isRequired,error:d().object}).isRequired});const Fe=(0,l.connect)((function(e,t){var r=e.tree,n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t.result);return n.imageIds=n.imageIds.filter((function(e){return r.images.byId[e].stateName})),{result:n}}))(je);var He=r(76763),Ve=r(97680);function We(e){var t=Ke();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,o.Z)(this,r)}}function Ke(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ke=function(){return!!e})()}var Ye=function(e){(0,s.Z)(r,e);var t=We(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var e=this;return u.createElement(q.Z,{title:"Page screenshot",content:function(){return u.createElement(de.w,{image:e.props.image})}})}}]),r}(u.Component),ze=d().shape({path:d().string.isRequired,size:d().shape({height:d().number.isRequired,width:d().number.isRequired}).isRequired});function Xe(e){var t=$e();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,o.Z)(this,r)}}function $e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return($e=function(){return!!e})()}var Qe=function(e){(0,s.Z)(r,e);var t=Xe(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.result,r=e.resultId,n=e.testName,a=e.pageScreenshot;return u.createElement(u.Fragment,null,u.createElement(He.Z,{name:Ve.Zr,result:t,testName:n},u.createElement(H,{resultId:r}),u.createElement(K,{resultId:r})),t.description&&u.createElement(Q,{content:t.description}),u.createElement(Fe,{result:t}),a&&u.createElement("hr",{className:"tab__separator"}),a&&u.createElement(Ye,{image:a.actualImg}))}}]),r}(u.Component);(0,c.Z)(Qe,"propTypes",{resultId:d().string.isRequired,testName:d().string.isRequired,result:d().shape({status:d().string.isRequired,imageIds:d().array.isRequired,description:d().string}).isRequired,pageScreenshot:d().shape({actualImg:ze.isRequired})});const Je=(0,l.connect)((function(e,t){var r=e.tree,n=t.resultId,a=r.results.byId[n];return{result:a,pageScreenshot:Object.values((0,y.pick)(r.images.byId,a.imageIds)).find((function(e){return!e.stateName&&e.actualImg}))}}))(Qe);var et=r(68891),tt=r(17068),rt=r(97407);function nt(e){var t,r,n=function(t){var r=e.browserId;t!==e.retryIndex&&e.actions.changeTestRetry({browserId:r,retryIndex:t})},a=function(){var t=e.testName,r=e.browserName;e.actions.thunkRunTest({test:{testName:t,browserName:r}})},s=e.testName,o=e.resultIds[e.retryIndex],i=(0,u.useContext)(rt.O).measure,c=(0,u.useRef)(null);return(0,tt.Z)(c,(function(){i()})),u.createElement("div",{className:"section__body",ref:c},u.createElement("div",{className:"image-box"},u.createElement("div",{className:"controls"},function(){var t=e.resultIds,r=e.retryIndex;if(!(t.length<=1))return u.createElement("div",{className:"controls__item"},u.createElement(U.Z,{resultIds:t,retryIndex:r,onChange:n}))}(),(t=e.gui,r=e.running,t?u.createElement("div",{className:"controls__item"},u.createElement(G.Z,{label:u.createElement(u.Fragment,null,u.createElement(et.Z,null),"Retry"),isSuiteControl:!0,isDisabled:r,handler:a,dataTestId:"test-retry"})):null)),u.createElement(He.Z,{name:Ve.Y,resultId:o,testName:s},u.createElement(Je,{resultId:o,testName:s}))))}nt.propTypes={browserId:d().string.isRequired,browserName:d().string.isRequired,testName:d().string.isRequired,resultIds:d().array.isRequired,onResize:d().func,gui:d().bool.isRequired,running:d().bool.isRequired,retryIndex:d().number,actions:d().object.isRequired};const at=(0,l.connect)((function(e,t){var r=e.gui,n=e.running,a=e.view.retryIndex,s=e.tree,o=t.browserId,i=s.browsers.stateById[o]||{},c=i.retryIndex,u=i.lastMatchedRetryIndex;return{gui:r,running:n,retryIndex:"number"==typeof a?Math.min(a,c):(0,y.isNumber)(u)?u:c}}),(function(e){return{actions:(0,E.bindActionCreators)(g,e)}}))(nt);var st=function(e){var t,r=e.status,n=e.shouldBeOpened,a=e.sectionRoot,s=["section",{section_collapsed:!n}];return h()(s,(t={},(0,c.Z)(t,"section_status_".concat(r),r),(0,c.Z)(t,"section_root",a),t))},ot=r(71011);function it(e){var t=e.browser,r=e.shouldBeOpened,n=e.shouldBeShown,a=e.lastResult,s=(0,u.useContext)(rt.O).measure;if((0,u.useLayoutEffect)((function(){null==s||s()}),[n,r]),!n)return null;var o,i=(0,b.sx)(a.status),c=t.resultIds.length>1,l=i?(o=a.skipReason,u.createElement(u.Fragment,null,"[skipped] ",e.browser.name,o&&", reason: ",o&&(0,ot.hk)(o))):t.name,p=c||!(0,y.isEmpty)(a.history)||a.error||a.imageIds.length>0,d=i&&!p,f=d||!r?null:u.createElement("div",null,u.createElement(at,{browserId:t.id,browserName:t.name,testName:t.parentId,resultIds:t.resultIds})),m=d?u.createElement(L,{title:l,browserId:t.id}):u.createElement(u.Fragment,null,u.createElement(x,{title:l,browserId:t.id,browserName:t.name,lastResultId:a.id,handler:function(){var t=e.browserId,r=e.shouldBeOpened;e.actions.toggleBrowserSection({browserId:t,shouldBeOpened:!r})}}),f);return u.createElement("div",{className:st({status:a.status,shouldBeOpened:r})},m)}it.propTypes={browserId:d().string.isRequired,browser:d().shape({id:d().string.isRequired,name:d().string.isRequired,resultIds:d().arrayOf(d().string).isRequired,parentId:d().string.isRequired}).isRequired,lastResult:d().shape({id:d().string.isRequired,status:d().string.isRequired,error:d().object,imageIds:d().arrayOf(d().string).isRequired,skipReason:d().string,history:d().arrayOf(d().string)}).isRequired,shouldBeShown:d().bool.isRequired,shouldBeOpened:d().bool.isRequired,actions:d().object.isRequired};const ct=(0,l.connect)((function(e,t){var r=e.tree,n=t.browserId,a=r.browsers.byId[n],s=r.browsers.stateById[n],o=s.shouldBeOpened,i=s.shouldBeShown;return{browser:a,lastResult:r.results.byId[(0,y.last)(a.resultIds)],shouldBeShown:i,shouldBeOpened:o}}),(function(e){return{actions:(0,E.bindActionCreators)(g,e)}}))(it);var ut=r(27202),lt=function(e){var t=e.name,r=e.suiteId,n=e.handler,a=e.gui,s=e.checkStatus,o=e.suiteTests,i=e.actions,c=e.running,l=e.runningThis,p=function(e){e.stopPropagation(),i.thunkRunSuite({tests:o})},d=function(e){e.stopPropagation()};return u.createElement("div",{className:"section__title",onClick:n},u.createElement(Z,{status:s,onClick:function(e){e.stopPropagation(),i.toggleSuiteCheckbox({suiteId:r,checkStatus:(0,b.jj)(s)})}}),t,u.createElement(P.m,{size:"s",text:r,onClick:d}),a&&(l?u.createElement(A.Spin,{size:"xs"}):u.createElement(A.Button,{size:"s",view:"flat",title:"retry suite",onClick:p,disabled:c},u.createElement(A.Button.Icon,null,u.createElement(et.Z,null)))))};lt.propTypes={name:d().string.isRequired,suiteId:d().string.isRequired,handler:d().func.isRequired,gui:d().bool.isRequired,checkStatus:d().number,suiteTests:d().arrayOf(d().shape({testName:d().string,browserName:d().string})).isRequired,running:d().bool,runningThis:d().bool,actions:d().object.isRequired};const pt=(0,l.connect)((function(){var e=(0,J.mkGetTestsBySuiteId)();return function(t,r){var n=r.suiteId;return{gui:t.gui,running:t.running,runningThis:t.tree.suites.byId[n].status===ut.ih.RUNNING,checkStatus:t.tree.suites.stateById[n].checkStatus,suiteTests:e(t,{suiteId:n})}}}),(function(e){return{actions:(0,E.bindActionCreators)(g,e)}}))(lt);function dt(e){var t=e.suiteId,r=e.suiteName,n=e.suiteStatus,a=e.suiteChildIds,s=e.suiteBrowserIds,o=e.sectionRoot,i=e.shouldBeOpened,c=e.shouldBeShown,l=(0,u.useContext)(rt.O).measure;if((0,u.useLayoutEffect)((function(){null==l||l()}),[c,i]),!c)return null;var p=function(){var t=e.suiteId,r=e.shouldBeOpened;e.actions.toggleSuiteSection({suiteId:t,shouldBeOpened:!r})};if(!i)return u.createElement("div",{className:st({status:n,shouldBeOpened:i,sectionRoot:o})},u.createElement(pt,{name:r,suiteId:t,handler:p}));var d=a&&a.map((function(e){return u.createElement(ft,{key:e,suiteId:e,sectionRoot:!1})})),f=s&&s.map((function(e){return u.createElement(ct,{key:e,browserId:e})}));return u.createElement("div",{className:st({status:n,shouldBeOpened:i,sectionRoot:o})},u.createElement(pt,{name:r,suiteId:t,handler:p}),u.createElement("div",{className:"section__body"},d,f))}dt.propTypes={suiteId:d().string.isRequired,sectionRoot:d().bool.isRequired,suiteName:d().string.isRequired,suiteStatus:d().string.isRequired,suiteChildIds:d().array,suiteBrowserIds:d().array,shouldBeShown:d().bool.isRequired,shouldBeOpened:d().bool.isRequired,actions:d().object.isRequired};var ft=(0,l.connect)((function(e,t){var r=e.tree,n=t.suiteId,a=r.suites.byId[n],s=r.suites.stateById[n],o=s.shouldBeOpened,i=s.shouldBeShown;return{suiteName:a.name,suiteStatus:a.status,suiteChildIds:a.suiteIds,suiteBrowserIds:a.browserIds,shouldBeShown:i,shouldBeOpened:o}}),(function(e){return{actions:(0,E.bindActionCreators)(g,e)}}))(dt);const mt=ft;var Et=(0,u.forwardRef)((function(e,t){return u.createElement("div",{ref:t,style:e.style,className:"virtualized__row"},u.createElement(mt,e.sectionProps))}));function vt(e){var t=new _.t1({fixedWidth:!0,defaultHeight:30}),r=function(r){var n=r.index,a=r.key,s=r.style,o=r.parent,i=e.visibleRootSuiteIds[n],c={key:i,suiteId:i,sectionRoot:!0};return u.createElement(_.Z8,{key:a,cache:t,parent:o,columnIndex:0,rowIndex:n},(function(e){var t=e.measure,r=e.registerChild;return u.createElement(rt.O.Provider,{value:{measure:t}},u.createElement(Et,{ref:r,key:a,style:s,sectionProps:c}))}))},n=(0,y.throttle)((function(){var r=e.actions,n=Array.from(document.querySelectorAll(".virtualized__row")),a=(0,y.find)(n.slice().reverse(),(function(e){var r=e.getBoundingClientRect(),n=document.documentElement.clientHeight-t.defaultHeight;return r.top>0&&r.top<=n}));if(a||(a=(0,y.find)(n,(function(e){return e.getBoundingClientRect().bottom>0}))),a){var s=a.querySelector(".section__title").textContent;r.updateBottomProgressBar({currentRootSuiteId:s})}}),100),a=(0,y.once)((function(){return setTimeout(n,0)})),s=e.visibleRootSuiteIds;if(e.isReportEmpty)return u.createElement("div",{className:"sections sections_type_empty"},"There are no tests to show. Please, try the following:",u.createElement("ul",null,u.createElement("li",null,"Check if your project contains any tests;"),u.createElement("li",null,"Check if the tool you are using is configured correctly and is able to find your tests;"),u.createElement("li",null,"Check if some critical error has occurred in logs that prevented HTML reporter from collecting any results.")));if((0,y.isEmpty)(s)){var o=function(){var t=e.viewMode,r=e.filteredBrowsers,n=e.testNameFilter,a=e.strictMatchFilter,s=[];if(n&&s.push('test name should match to "'.concat(n,'" ').concat(a?"":"not ","strictly;")),t!==S.w.ALL&&s.push("test should be ".concat(t," due to selected view mode;")),r){var o=(0,y.flatMap)(r,(function(e){var t=e.id,r=e.versions;return(0,y.isEmpty)(r)?t:r.map((function(e){return"".concat(t,"@").concat(e)}))}));s.push("test should run in selected browsers: ".concat(o.join(", "),";"))}return s}();return u.createElement("div",{className:"sections sections_type_empty"},"There are no tests that match to selected filters:",u.createElement("ul",null,o.map((function(e,t){return u.createElement("li",{key:t},e)}))),"Try to change your search filters to see tests.")}return u.createElement("div",{className:"sections"},u.createElement(_._K,{onScroll:n},(function(e){var n=e.height,o=e.isScrolling,i=e.onChildScroll,c=e.scrollTop,l=e.registerChild;return u.createElement(_.qj,{disableHeight:!0},(function(e){var p=e.width;return u.createElement("div",{ref:function(e){return e&&l(e)}},u.createElement(_.aV,{autoHeight:!0,height:n,width:p,isScrolling:o,onScroll:i,scrollTop:c,onRowsRendered:a,deferredMeasurementCache:t,rowHeight:t.rowHeight,rowCount:s.length,rowRenderer:r,style:{willChange:"auto"}}))}))})))}Et.propTypes={onInit:d().func,style:d().object,sectionProps:d().object},vt.propTypes={visibleRootSuiteIds:d().arrayOf(d().string),viewMode:d().string,actions:d().object.isRequired,testNameFilter:d().string,strictMatchFilter:d().bool,isReportEmpty:d().bool,filteredBrowsers:d().arrayOf(d().shape({id:d().string,versions:d().arrayOf(d().string)}))};const ht=(0,l.connect)((function(e){return{visibleRootSuiteIds:(0,J.getVisibleRootSuiteIds)(e),viewMode:e.app.suitesPage.viewMode,filteredBrowsers:e.app.suitesPage.filteredBrowsers,testNameFilter:e.app.suitesPage.nameFilter,strictMatchFilter:e.view.strictMatchFilter,isReportEmpty:(0,y.isEmpty)(e.tree.browsers.byId)}}),(function(e){return{actions:(0,E.bindActionCreators)(g,e)}}))(vt);var gt=function(e){var t=e.group,r=e.isActive,n=e.onClick,a=e.checkStatus,s=e.actions,o=t.name,i=t.pattern,c=t.testCount,l=t.resultCount,p=r?u.createElement("div",{className:"tests-group__body"},u.createElement(ht,null)):null,d=h()("tests-group",{"tests-group_collapsed":!r});return u.createElement("div",{className:d},u.createElement("div",{className:"tests-group__title",onClick:n,title:i},u.createElement(Z,{status:a,onClick:function(e){e.stopPropagation(),s.toggleGroupCheckbox({browserIds:t.browserIds,checkStatus:(0,b.jj)(a)})},className:"tests-group__bullet"}),u.createElement("span",{className:"tests-group__name"},o),u.createElement("span",{className:"tests-group__count"},"(","tests: ".concat(c,", runs: ").concat(l),")")),p)};gt.propTypes={actions:d().object.isRequired,group:d().object.isRequired,isActive:d().bool.isRequired,onClick:d().func.isRequired,checkStatus:d().number};const yt=(0,l.connect)((function(e,t){var r=e.tree,n=t.group,a=n.browserIds.length,s=n.browserIds.reduce((function(e,t){return e+r.browsers.stateById[t].checkStatus}),0);return{checkStatus:Number(s===a||s&&O.Km)}}),(function(e){return{actions:(0,E.bindActionCreators)(g,e)}}))(gt);var _t=r(20205),It=r(36666);function St(e){var t=Tt();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,o.Z)(this,r)}}function Tt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Tt=function(){return!!e})()}var bt=function(e){(0,s.Z)(r,e);var t=St(r);function r(){var e;(0,n.Z)(this,r);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s)),(0,c.Z)((0,m.Z)(e),"state",{activeGroupIndex:null}),(0,c.Z)((0,m.Z)(e),"onGroupChange",(function(t){var r=e.props,n=r.groupedTests,a=r.selectedGroupSection,s=r.selectedGroupKey,o=e.state.activeGroupIndex===t?null:t,i=null!==o;e.setState({activeGroupIndex:o},(function(){var r=n[a].byKey[s],o=i?r[t]:{},c=o.browserIds,u=void 0===c?[]:c,l=o.resultIds,p=void 0===l?[]:l;e.props.actions.toggleTestsGroup({browserIds:u,resultIds:p,isActive:i})}))})),e}return(0,a.Z)(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.groupedTests,n=t.selectedGroupSection,a=t.selectedGroupKey,s=r[n].byKey[a],o=this.state.activeGroupIndex;if(0===s.length){var i='No tests match the key "'.concat(a,'" in the section "').concat(n,'". ')+'Try to clear "Group by" to see more results.';return u.createElement("div",{className:"grouped-tests"},i)}return u.createElement("div",{className:"grouped-tests"},s.map((function(t,r){var n=r===o;return u.createElement(yt,{key:t.name,group:t,isActive:n,onClick:function(){return e.onGroupChange(r)}})})))}}]),r}(u.Component);(0,c.Z)(bt,"propTypes",{groupedTests:_t.M.isRequired,selectedGroupSection:d().string.isRequired,selectedGroupKey:d().string.isRequired,actions:d().object.isRequired});const Rt=(0,l.connect)((function(e){var t=(0,It.B)(e),r=(0,f.Z)(t,2),n=r[0],a=r[1];return{groupedTests:e.groupedTests,selectedGroupSection:n,selectedGroupKey:a}}),(function(e){return{actions:(0,E.bindActionCreators)(g,e)}}))(bt);function Ot(e){var t=Ct();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,o.Z)(this,r)}}function Ct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ct=function(){return!!e})()}var At=function(e){(0,s.Z)(r,e);var t=Ot(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){return this.props.keyToGroupTestsBy?u.createElement(Rt,{key:this.props.keyToGroupTestsBy}):u.createElement(ht,null)}}]),r}(u.Component);(0,c.Z)(At,"propTypes",{keyToGroupTestsBy:d().string.isRequired});const wt=(0,l.connect)((function(e){return{keyToGroupTestsBy:e.view.keyToGroupTestsBy}}))(At)},55862:(e,t,r)=>{"use strict";r.r(t),r.d(t,{FindSameDiffs:()=>v,ScreenshotAccepter:()=>U,StaticAccepterConfirm:()=>j,types:()=>F});var n=r(9249),a=r(87371),s=r(45754),o=r(11987),i=r(95058),c=r(56666),u=r(13980),l=r.n(u),p=r(2784),d=r(49330),f=r(50479);function m(e){var t=E();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,o.Z)(this,r)}}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(E=function(){return!!e})()}var v=function(e){(0,s.Z)(r,e);var t=m(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.onClose,r=e.browserId,n=e.equalImages,a=e.comparedImages;return p.createElement(d.Z,{size:"small",open:!0,onClose:t},p.createElement(d.Z.Header,{content:"Find same diffs result"}),p.createElement(d.Z.Content,{scrolling:!0},p.createElement("p",null,"Search was carried out in: ",p.createElement("b",null,r)),p.createElement("p",null,"Found ",p.createElement("b",null,n)," equal images from ",p.createElement("b",null,a))),p.createElement(d.Z.Actions,null,p.createElement(f.Z,{onClick:t,content:"Got it",size:"small",positive:!0})))}}]),r}(p.Component);(0,c.Z)(v,"propTypes",{onClose:l().func.isRequired,browserId:l().string.isRequired,equalImages:l().number.isRequired,comparedImages:l().number.isRequired});var h=r(68079),g=r(34795),y=r(80753),_=r(82841),I=r.n(_),S=r(4792),T=r(18717),b=r(76635),R=r(64141),O=r(41381),C=r(26611),A=r(99913),w=r(69875),N=r(78272),Z=r(41493),P=r(79483);function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e){var t=B();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,o.Z)(this,r)}}function B(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(B=function(){return!!e})()}var L=function(e){(0,s.Z)(o,e);var t,r=x(o);function o(e){var t;(0,n.Z)(this,o),t=r.call(this,e),(0,c.Z)((0,y.Z)(t),"onRetryChange",(function(e){t.setState({retryIndex:e})})),(0,c.Z)((0,y.Z)(t),"onActiveImageChange",(function(e){var r=t._getActiveImages(e);t.setState({retryIndex:r.length-1,activeImageIndex:e}),t._preloadAdjacentImages(e,t.state.stateNameImageIds)})),(0,c.Z)((0,y.Z)(t),"onScreenshotAccept",function(){var e=(0,g.Z)(I().mark((function e(r){var n,a,s,o,i,c,u;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t._getActiveImages(),a=n[0].stateName,s=t.state.stateNameImageIds.findIndex((function(e){return t.props.imagesByStateName[e].some((function(e){return e.id===r}))})),!t.props.staticImageAccepter.enabled){e.next=7;break}e.t0=t._stageScreenshot(r,a),e.next=10;break;case 7:return e.next=9,t._acceptScreenshot(r,a);case 9:e.t0=e.sent;case 10:if(null!==(o=e.t0)){e.next=13;break}return e.abrupt("return");case 13:if(t.acceptedImages.push({stateNameImageId:t.state.stateNameImageIds[s],ind:s,imageId:o}),i=t.state.stateNameImageIds.filter((function(e,t){return t!==s})),!(0,b.isEmpty)(i)){e.next=17;break}return e.abrupt("return",t.setState({activeImageIndex:null,stateNameImageIds:i,retryIndex:null}));case 17:c=Math.min(t.state.activeImageIndex,i.length-1),u=t._getActiveImages(c,i),t.setState({activeImageIndex:c,stateNameImageIds:i,retryIndex:u.length-1}),t._preloadAdjacentImages(c,i);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,c.Z)((0,y.Z)(t),"onScreenshotUndo",(0,g.Z)(I().mark((function e(){var r,n,a,s,o,i,c;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,b.isEmpty)(t.acceptedImages)){e.next=2;break}return e.abrupt("return");case 2:if(r=t.state.stateNameImageIds,n=t.acceptedImages.pop(),a=n.stateNameImageId,s=n.ind,o=n.imageId,i=[].concat((0,h.Z)(r.slice(0,s)),[a],(0,h.Z)(r.slice(s))),c=t._getActiveImages(s,i),!t.props.staticImageAccepter.enabled){e.next=10;break}t.props.actions.staticAccepterUndoDelayScreenshot(),e.next=13;break;case 10:return e.next=12,t.props.actions.thunkRevertImages({imageIds:[o],shouldCommitUpdatesToTree:!1});case 12:t.delayedTestResults.pop();case 13:t.setState({activeImageIndex:s,stateNameImageIds:i,retryIndex:c.length-1}),t._preloadAdjacentImages(s,i);case 15:case"end":return e.stop()}}),e)})))),(0,c.Z)((0,y.Z)(t),"onShowMeta",(function(){t.setState({showMeta:!t.state.showMeta})})),(0,c.Z)((0,y.Z)(t),"onClose",(function(){if((0,b.isEmpty)(t.props.staticImageAccepter.accepterDelayedImages)&&(0,b.isEmpty)(t.delayedTestResults))return t.props.onClose();if(t.props.staticImageAccepter.enabled){var e=t.props.staticImageAccepter.accepterDelayedImages.map((function(e){return e.imageId}));t.props.actions.staticAccepterStageScreenshot(e)}else t.props.actions.commitAcceptedImagesToTree(t.delayedTestResults);t.props.onClose()})),(0,c.Z)((0,y.Z)(t),"onCommitChanges",(function(){t.props.actions.staticAccepterOpenConfirm()}));var a=t.props,s=a.image,i=a.activeImageIndex,u=a.stateNameImageIds,l=a.imagesByStateName,d=t._getActiveImages(i,u),f=(0,b.findIndex)(d,{id:s.id});t.acceptedImages=[],t.delayedTestResults=[],t.state={stateNameImageIds:u,activeImageIndex:i,retryIndex:f,showMeta:!1,disposables:{}},t.topRef=p.createRef(),t.totalImagesCount=(0,b.size)(l);for(var m=1;m<=3;m++)t._preloadAdjacentImages(i,u,m);return t.analytics=t.context,t}return(0,a.Z)(o,[{key:"componentWillUnmount",value:function(){Object.values(this.state.disposables).forEach((function(e){return e()}))}},{key:"componentDidUpdate",value:function(){this.topRef.current.parentNode.scrollTo(0,0)}},{key:"_getActiveImages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.activeImageIndex,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.stateNameImageIds;return(0,b.isNumber)(e)?this.props.imagesByStateName[t[e]]:[]}},{key:"_acceptScreenshot",value:(t=(0,g.Z)(I().mark((function e(t,r){var n,a,s,o,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.actions.thunkAcceptImages({imageIds:[t],shouldCommitUpdatesToTree:!1});case 2:if(a=e.sent,null===(n=this.analytics)||void 0===n||n.trackScreenshotsAccept(),null!==a){e.next=6;break}return e.abrupt("return",null);case 6:return this.delayedTestResults=this.delayedTestResults.concat(a),s=(0,b.get)(a,"[0].images",[]),o=s.find((function(e){return e.stateName===r}))||{},i=o.id,e.abrupt("return",i);case 10:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"_stageScreenshot",value:function(e,t){var r=this,n=this.props.stateNameImageIds.find((function(t){return r.props.imagesByStateName[t].some((function(t){return t.id===e}))}));return this.props.actions.staticAccepterDelayScreenshot({imageId:e,stateName:t,stateNameImageId:n}),e}},{key:"_preloadAdjacentImages",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=(0,b.size)(t);[(a+e-n)%a,(e+n)%a].filter((function(e){return e>=0})).forEach((function(e){var n=t[e],a=(0,b.last)(r.props.imagesByStateName[n]),s=a.expectedImg,o=a.actualImg,i=a.diffImg,c={};[s,o,i].filter(Boolean).forEach((function(e){var t=e.path,r=(0,P.p)(t);c[t]=r})),r.setState({disposables:k(k({},r.state.disposables),c)})}))}},{key:"render",value:function(){var e=this.props,t=e.actions,r=e.view,n=e.staticImageAccepter,a=this.state,s=a.retryIndex,o=a.stateNameImageIds,i=a.activeImageIndex,c=a.showMeta,u=this._getActiveImages(),l=(0,b.isNumber)(s)?u[s]:null,d=this.totalImagesCount-o.length;return p.createElement(p.Fragment,null,p.createElement("div",{ref:this.topRef}),p.createElement(O.Z,{actions:t,view:r,images:u,stateNameImageIds:o,retryIndex:s,activeImageIndex:i,showMeta:c,onClose:this.onClose,totalImages:this.totalImagesCount,acceptedImages:d,onRetryChange:this.onRetryChange,onActiveImageChange:this.onActiveImageChange,onScreenshotAccept:this.onScreenshotAccept,onScreenshotUndo:this.onScreenshotUndo,onShowMeta:this.onShowMeta,onCommitChanges:this.onCommitChanges,staticImageAccepter:n}),p.createElement(C.Z,{showMeta:c,image:l}),p.createElement(A.Z,{image:l}))}}]),o}(p.Component);(0,c.Z)(L,"contextType",Z.f),(0,c.Z)(L,"propTypes",{view:l().shape({diffMode:l().string.isRequired}),image:l().shape({id:l().string.isRequired,parentId:l().string.isRequired,stateName:l().string.isRequired}).isRequired,onClose:l().func.isRequired,imagesByStateName:l().object.isRequired,stateNameImageIds:l().arrayOf(l().string).isRequired,activeImageIndex:l().number.isRequired,staticImageAccepter:N.O$,actions:l().object.isRequired});const U=(0,S.connect)((function(e,t){var r=t.image,n=(0,w.getAcceptableImagesByStateName)(e),a=Object.keys(n),s=e.tree.results.byId[r.parentId].parentId,o="".concat(s," ").concat(r.stateName),i=a.indexOf(o),c=e.staticImageAccepter;return{view:e.view,imagesByStateName:n,stateNameImageIds:a,activeImageIndex:i,staticImageAccepter:c}}),(function(e){return{actions:(0,T.bindActionCreators)(R,e)}}))(L);var G=r(63690);function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const j=(0,S.connect)((function(e){return{toolName:e.apiValues.toolName,staticImageAccepter:e.staticImageAccepter,staticAccepterConfig:e.config.staticImageAccepter,imagesById:e.tree.images.byId}}),(function(e){return{actions:(0,T.bindActionCreators)(R,e)}}))((function(e){var t=e.toolName,r=e.staticImageAccepter,n=e.staticAccepterConfig,a=e.imagesById,s=e.actions,o="chore: update ".concat(t," screenshot references"),i=n.pullRequestUrl,c=(0,p.useRef)(null);(0,p.useEffect)((function(){var e,t;null===(e=c.current)||void 0===e||null===(t=e.setSelectionRange)||void 0===t||t.call(e,-1,-1)}),[]);var u=(0,p.useMemo)((function(){return(0,N.Yo)(Object.values(r.acceptableImages),a,r.accepterDelayedImages)}),[r,a]),l=function(){var e=(0,g.Z)(I().mark((function e(){var t,r,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(null===(t=c.current)||void 0===t?void 0:t.value)||o,a=q(q({},(0,b.pick)(n,["repositoryUrl","pullRequestUrl","serviceUrl","axiosRequestOptions","meta"])),{},{message:r}),e.next=4,s.staticAccepterCommitScreenshot(u,a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return p.createElement(G.Card,{className:"static-accepter-confirm",theme:"info",type:"action",view:"outlined"},p.createElement(G.Text,null,"You are commiting ",u.length," images to Pull Request:"),p.createElement("br",null),p.createElement(G.Link,{href:i,target:"_blank"},i),p.createElement("br",null),p.createElement("br",null),p.createElement("br",null),p.createElement(G.Text,null,"Enter commit message:"),p.createElement(G.TextArea,{autoFocus:!0,defaultValue:o,controlRef:c,onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),l())}}),p.createElement("div",{className:"static-accepter-confirm__controls"},p.createElement(G.Button,{className:"static-accepter-confirm__cancel",onClick:function(){s.staticAccepterCloseConfirm()}},"Cancel"),p.createElement(G.Button,{view:"action",className:"static-accepter-confirm__confirm",onClick:l},"Commit")))}));var F={FIND_SAME_DIFFS:"FindSameDiffs",SCREENSHOT_ACCEPTER:"ScreenshotAccepter",STATIC_ACCEPTER_CONFIRM:"StaticAccepterConfirm"}},50243:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(96234),a=r(2784),s=r(76635),o=r(13980),i=r.n(o),c=r(51033),u=function(e){var t=e.children,r=(0,a.useState)(0),o=(0,n.Z)(r,2),i=o[0],u=o[1],l=i>10,p=(0,a.useCallback)((0,s.throttle)((function(){var e=function(e){return function(e){return e<10&&window.scrollY>30}(e)||function(e){return e>30&&window.scrollY<10}(e)};u((function(t){return e(t)?window.scrollY:t}))}),100),[u]);return(0,c.Z)("scroll",p),a.createElement("div",{className:"sticky-header sticky-header_".concat(l?"wrapped":"unwrapped")},a.createElement("div",{className:"sticky-header__wrap"}),a.createElement("div",{className:"sticky-header__content"},t))};u.propTypes={children:i().oneOfType([i().element,i().string])};const l=u},28165:(e,t,r)=>{"use strict";r.d(t,{Z:()=>O});var n=r(7896),a=r(9249),s=r(87371),o=r(45754),i=r(11987),c=r(95058),u=r(56666),l=r(2784),p=r(4792),d=r(18717),f=r(13980),m=r.n(f),E=r(76635),v=r(63690);function h(e){var t=g();return function(){var r,n=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.Z)(this,r)}}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g=function(){return!!e})()}var y=function(e){(0,o.Z)(r,e);var t=h(r);function r(){return(0,a.Z)(this,r),t.apply(this,arguments)}return(0,s.Z)(r,[{key:"componentDidMount",value:function(){document.body.classList.add("modal-open")}},{key:"componentWillUnmount",value:function(){document.body.classList.remove("modal-open")}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.children;return l.createElement(v.Portal,null,l.createElement("div",{className:t},r))}}]),r}(l.Component);y.propTypes={className:m().string,children:m().oneOfType([m().element,m().string])};const _=y;var I=r(64141),S=r(55862);function T(e){var t=b();return function(){var r,n=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.Z)(this,r)}}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}var R=function(e){(0,o.Z)(r,e);var t=T(r);function r(){return(0,a.Z)(this,r),t.apply(this,arguments)}return(0,s.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.modals,r=e.actions;return(0,E.isEmpty)(t)?null:t.map((function(e){var t=e.id,a=e.type,s=e.className,o=e.data,i=void 0===o?{}:o,c=S[a];return l.createElement(_,{key:t,className:s},l.createElement(c,(0,n.Z)({},i,{onClose:function(){return r.closeModal({id:t})}})))}))}}]),r}(l.Component);(0,u.Z)(R,"propTypes",{modals:m().arrayOf(m().shape({id:m().string,type:m().string,className:m().string,data:m().object})).isRequired,actions:m().object.isRequired});const O=(0,p.connect)((function(e){return{modals:e.modals}}),(function(e){return{actions:(0,d.bindActionCreators)(I,e)}}))(R)},97566:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={INIT_GUI_REPORT:"INIT_GUI_REPORT",INIT_STATIC_REPORT:"INIT_STATIC_REPORT",FIN_GUI_REPORT:"FIN_GUI_REPORT",FIN_STATIC_REPORT:"FIN_STATIC_REPORT",RUN_ALL_TESTS:"RUN_ALL_TESTS",RUN_FAILED_TESTS:"RUN_FAILED_TESTS",STOP_TESTS:"STOP_TESTS",RETRY_SUITE:"RETRY_SUITE",RETRY_TEST:"RETRY_TEST",SUITE_BEGIN:"SUITE_BEGIN",TEST_BEGIN:"TEST_BEGIN",TEST_RESULT:"TEST_RESULT",TESTS_END:"TESTS_END",COMMIT_ACCEPTED_IMAGES_TO_TREE:"COMMIT_ACCEPTED_IMAGES_TO_TREE",COMMIT_REVERTED_IMAGES_TO_TREE:"COMMIT_REVERTED_IMAGES_TO_TREE",STATIC_ACCEPTER_DELAY_SCREENSHOT:"STATIC_ACCEPTER_DELAY_SCREENSHOT",STATIC_ACCEPTER_UNDO_DELAY_SCREENSHOT:"STATIC_ACCEPTER_UNDO_DELAY_SCREENSHOT",STATIC_ACCEPTER_STAGE_SCREENSHOT:"STATIC_ACCEPTER_STAGE_SCREENSHOT",STATIC_ACCEPTER_UNSTAGE_SCREENSHOT:"STATIC_ACCEPTER_UNSTAGE_SCREENSHOT",STATIC_ACCEPTER_COMMIT_SCREENSHOT:"STATIC_ACCEPTER_COMMIT_SCREENSHOT",STATIC_ACCEPTER_UPDATE_TOOLBAR_OFFSET:"STATIC_ACCEPTER_UPDATE_TOOLBAR_OFFSET",STATIC_ACCEPTER_UPDATE_COMMIT_MESSAGE:"STATIC_ACCEPTER_UPDATE_COMMIT_MESSAGE",CLOSE_SECTIONS:"CLOSE_SECTIONS",TOGGLE_STATE_RESULT:"TOGGLE_STATE_RESULT",TOGGLE_LOADING:"TOGGLE_LOADING",OPEN_MODAL:"OPEN_MODAL",CLOSE_MODAL:"CLOSE_MODAL",CHANGE_TEST_RETRY:"CHANGE_TEST_RETRY",VIEW_EXPAND_ALL:"VIEW_EXPAND_ALL",VIEW_EXPAND_ERRORS:"VIEW_EXPAND_ERRORS",VIEW_EXPAND_RETRIES:"VIEW_EXPAND_RETRIES",VIEW_COLLAPSE_ALL:"VIEW_COLLAPSE_ALL",CHANGE_VIEW_MODE:"CHANGE_VIEW_MODE",VIEW_UPDATE_BASE_HOST:"VIEW_UPDATE_BASE_HOST",VIEW_UPDATE_FILTER_BY_NAME:"VIEW_UPDATE_FILTER_BY_NAME",VIEW_SET_FILTER_MATCH_CASE:"VIEW_SET_FILTER_MATCH_CASE",VIEW_SET_FILTER_USE_REGEX:"VIEW_SET_FILTER_USE_REGEX",VIEW_SET_STRICT_MATCH_FILTER:"VIEW_SET_STRICT_MATCH_FILTER",SET_DIFF_MODE:"SET_DIFF_MODE",PROCESS_BEGIN:"PROCESS_BEGIN",PROCESS_END:"PROCESS_END",RUN_CUSTOM_GUI_ACTION:"RUN_CUSTOM_GUI_ACTION",BROWSERS_SELECTED:"BROWSERS_SELECTED",TOGGLE_SUITE_SECTION:"TOGGLE_SUITE_SECTION",TOGGLE_BROWSER_SECTION:"TOGGLE_BROWSER_SECTION",TOGGLE_TESTS_GROUP:"TOGGLE_TESTS_GROUP",TOGGLE_SUITE_CHECKBOX:"TOGGLE_SUITE_CHECKBOX",TOGGLE_GROUP_CHECKBOX:"TOGGLE_GROUP_CHECKBOX",UPDATE_BOTTOM_PROGRESS_BAR:"UPDATE_BOTTOM_PROGRESS_BAR",GROUP_TESTS_BY_KEY:"GROUP_TESTS_BY_KEY",GROUP_TESTS_SET_CURRENT_EXPRESSION:"GROUP_TESTS_SET_CURRENT_EXPRESSION",TOGGLE_BROWSER_CHECKBOX:"TOGGLE_BROWSER_CHECKBOX",SUITES_PAGE_SET_CURRENT_SUITE:"SUITES_PAGE_SET_CURRENT_SUITE",SUITES_PAGE_SET_CURRENT_STEP:"SUITES_PAGE_SET_CURRENT_STEP",SUITES_PAGE_SET_CURRENT_HIGHLIGHT_STEP:"SUITES_PAGE_SET_CURRENT_HIGHLIGHT_STEP",SUITES_PAGE_SET_SECTION_EXPANDED:"SUITES_PAGE_SET_SECTION_EXPANDED",SUITES_PAGE_SET_TREE_NODE_EXPANDED:"SUITES_PAGE_SET_TREE_NODE_EXPANDED",SUITES_PAGE_SET_ALL_TREE_NODES:"SUITES_PAGE_SET_ALL_TREE_NODES",SUITES_PAGE_REVEAL_TREE_NODE:"SUITES_PAGE_REVEAL_TREE_NODE",SUITES_PAGE_SET_STEPS_EXPANDED:"SUITES_PAGE_SET_STEPS_EXPANDED",SUITES_PAGE_SET_TREE_VIEW_MODE:"SUITES_PAGE_SET_TREE_VIEW_MODE",PAGE_SET_SECTION_SIZES:"PAGE_SET_SECTION_SIZES",PAGE_SET_BACKUP_SECTION_SIZES:"PAGE_SET_BACKUP_SECTION_SIZES",VISUAL_CHECKS_PAGE_SET_CURRENT_NAMED_IMAGE:"VISUAL_CHECKS_PAGE_SET_CURRENT_NAMED_IMAGE",VISUAL_CHECKS_TOGGLE_2UP_DIFF_VISIBILITY:"VISUAL_CHECKS_TOGGLE_2UP_DIFF_VISIBILITY",VISUAL_CHECKS_SET_2UP_FIT_MODE:"VISUAL_CHECKS_SET_2UP_FIT_MODE",VISUAL_CHECKS_SET_DIFF_MODE:"VISUAL_CHECKS_SET_DIFF_MODE",UPDATE_LOADING_PROGRESS:"UPDATE_LOADING_PROGRESS",UPDATE_LOADING_VISIBILITY:"UPDATE_LOADING_VISIBILITY",UPDATE_LOADING_TITLE:"UPDATE_LOADING_TITLE",UPDATE_LOADING_IS_IN_PROGRESS:"UPDATE_LOADING_IS_IN_PROGRESS",SELECT_ALL:"SELECT_ALL",DESELECT_ALL:"DESELECT_ALL",SORT_TESTS_SET_CURRENT_EXPRESSION:"SORT_TESTS_SET_CURRENT_EXPRESSION",SORT_TESTS_SET_DIRECTION:"SORT_TESTS_SET_DIRECTION",SET_GUI_SERVER_CONNECTION_STATUS:"SET_GUI_SERVER_CONNECTION_STATUS",SET_AVAILABLE_FEATURES:"SET_AVAILABLE_FEATURES",SET_SNAPSHOTS_PLAYER_HIGHLIGHT_TIME:"SET_SNAPSHOTS_PLAYER_HIGHLIGHT_TIME",SNAPSHOTS_PLAYER_GO_TO_TIME:"SNAPSHOTS_PLAYER_GO_TO_TIME",SNAPSHOTS_PLAYER_TOGGLE_VISIBILITY:"SNAPSHOTS_PLAYER_TOGGLE_VISIBILITY",SET_BROWSER_FEATURES:"SET_BROWSER_FEATURES",SET_SEARCH_LOADING:"SET_SEARCH_LOADING"}},29909:(e,t,r)=>{"use strict";r.d(t,{a:()=>a});var n=r(97566),a=function(e){return{type:n.Z.SET_BROWSER_FEATURES,payload:e}}},70839:(e,t,r)=>{"use strict";r.d(t,{M:()=>l,u:()=>u});var n=r(34795),a=r(82841),s=r.n(a),o=r(87741),i=r(97566),c=r(48394),u=function(e){return{type:i.Z.RUN_CUSTOM_GUI_ACTION,payload:e}},l=function(e){return function(){var t=(0,n.Z)(s().mark((function t(r){var n,a,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.sectionName,a=e.groupIndex,i=e.controlIndex,t.next=4,o.default.post("/run-custom-gui-action",{sectionName:n,groupIndex:a,controlIndex:i});case 4:r(u(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r((0,c.uX)("runCustomGuiAction",t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}},19272:(e,t,r)=>{"use strict";r.d(t,{Lf:()=>i,QC:()=>s,QJ:()=>c,R4:()=>l,cQ:()=>o,if:()=>u});var n=r(97566),a=r(94646),s=function(e){return{type:n.Z.VIEW_UPDATE_FILTER_BY_NAME,payload:e}},o=function(e){return{type:n.Z.VIEW_SET_FILTER_MATCH_CASE,payload:e}},i=function(e){return{type:n.Z.VIEW_SET_FILTER_USE_REGEX,payload:e}},c=function(e){return(0,a.WI)(e.data),{type:n.Z.BROWSERS_SELECTED,payload:e}},u=function(e){return{type:n.Z.SET_SEARCH_LOADING,payload:e}},l=function(e){return{type:n.Z.CHANGE_VIEW_MODE,payload:e}}},60540:(e,t,r)=>{"use strict";r.d(t,{C:()=>d});var n=r(34795),a=r(82841),s=r.n(a),o=r(76635),i=r(87741),c=r(55862),u=r(33981),l=r(70807),p=r(95834),d=function(e,t,r){return function(){var a=(0,n.Z)(s().mark((function n(a){var d,f,m,E,v;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a((0,u.o)({active:!0,content:"Find same diffs..."})),d=t.filter((function(t){return t.includes(r)&&t!==e})),f=[],n.prev=3,(0,o.isEmpty)(d)){n.next=13;break}return n.next=7,i.default.post("/get-find-equal-diffs-data",[e].concat(d));case 7:if(m=n.sent,E=m.data,(0,o.isEmpty)(E)){n.next=13;break}return n.next=12,i.default.post("/find-equal-diffs",E);case 12:f=n.sent.data;case 13:v=(0,o.difference)(t,[].concat(e,f)),(0,o.isEmpty)(v)||a((0,l.DI)(v)),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(3),console.error("Error while trying to find equal diffs:",n.t0);case 20:return n.prev=20,a((0,u.o)({active:!1})),a((0,p.h)({id:c.types.FIND_SAME_DIFFS,type:c.types.FIND_SAME_DIFFS,data:{browserId:r,equalImages:f.length,comparedImages:d.length}})),n.finish(20);case 24:case"end":return n.stop()}}),n,null,[[3,17,20,24]])})));return function(e){return a.apply(this,arguments)}}()}},32481:(e,t,r)=>{"use strict";r.d(t,{I:()=>a,i:()=>s});var n=r(97566),a=function(e){return{type:n.Z.GROUP_TESTS_BY_KEY,payload:e}},s=function(e){return{type:n.Z.GROUP_TESTS_SET_CURRENT_EXPRESSION,payload:e}}},48907:(e,t,r)=>{"use strict";r.d(t,{o:()=>a});var n=r(97566),a=function(e){return{type:n.Z.SET_GUI_SERVER_CONNECTION_STATUS,payload:e}}},64141:(e,t,r)=>{"use strict";r.r(t),r.d(t,{changeTestRetry:()=>M.iB,changeViewMode:()=>a.R4,closeModal:()=>l.M,closeSections:()=>M.DI,collapseAll:()=>M.kF,commitAcceptedImagesToTree:()=>x.GC,commitRevertedImagesToTree:()=>x.sP,createNotification:()=>p.sc,createNotificationError:()=>p.uX,deselectAll:()=>M.kR,dismissNotification:()=>p.N5,expandAll:()=>M.V1,expandErrors:()=>M.vf,expandRetries:()=>M.tp,finGuiReport:()=>c.Sc,finStaticReport:()=>c.$i,groupTestsByKey:()=>o.I,openModal:()=>l.h,processBegin:()=>d.$,processEnd:()=>d.E,revealTreeNode:()=>G.o9,runAllTests:()=>_,runCustomGui:()=>n.u,runFailedTests:()=>S,runSuite:()=>b,runTest:()=>O,selectAll:()=>M.td,selectBrowsers:()=>a.QJ,set2UpFitMode:()=>q.Bt,setAllTreeNodesState:()=>G.Nu,setBackupSectionSizes:()=>G.Qh,setBrowserFeatures:()=>j.a,setCurrentGroupByExpression:()=>o.i,setCurrentHighlightStep:()=>G.Gm,setCurrentSortByExpression:()=>L.Q,setCurrentStep:()=>G.Bq,setCurrentTreeNode:()=>G._r,setDiffMode:()=>B.H,setGuiServerConnectionStatus:()=>i.o,setMatchCaseFilter:()=>a.cQ,setSearchLoading:()=>a.if,setSectionExpandedState:()=>G.$X,setSectionSizes:()=>G.gM,setSortByDirection:()=>L.u,setStepsExpandedState:()=>G.zE,setStrictMatchFilter:()=>G.tF,setTreeNodeExpandedState:()=>G.cI,setTreeViewMode:()=>G.KW,setUseRegexFilter:()=>a.Lf,setVisualChecksDiffMode:()=>q.MT,staticAccepterCloseConfirm:()=>U.dd,staticAccepterCommitScreenshot:()=>U.sv,staticAccepterDelayScreenshot:()=>U.A2,staticAccepterOpenConfirm:()=>U.x_,staticAccepterStageScreenshot:()=>U.FD,staticAccepterUndoDelayScreenshot:()=>U.cO,staticAccepterUnstageScreenshot:()=>U.vx,staticAccepterUpdateCommitMessage:()=>U.Lt,staticAccepterUpdateToolbarOffset:()=>U.mm,stopTests:()=>A,suiteBegin:()=>P,testBegin:()=>D,testResult:()=>k,testsEnd:()=>N,thunkAcceptImages:()=>x.Ro,thunkFindSameDiffs:()=>s.C,thunkInitGuiReport:()=>c.dP,thunkInitStaticReport:()=>c.Kt,thunkRevertImages:()=>x.Ku,thunkRunAllTests:()=>I,thunkRunCustomGuiAction:()=>n.M,thunkRunFailedTests:()=>T,thunkRunSuite:()=>R,thunkRunTest:()=>C,thunkRunTests:()=>y,thunkStopTests:()=>w,thunkTestsEnd:()=>Z,toggle2UpDiffVisibility:()=>q.ZD,toggleBrowserCheckbox:()=>M.Z$,toggleBrowserSection:()=>M.nS,toggleGroupCheckbox:()=>M.IP,toggleLoading:()=>u.o,toggleStateResult:()=>M.qz,toggleSuiteCheckbox:()=>M.T9,toggleSuiteSection:()=>M.cd,toggleTestsGroup:()=>M.Cd,updateBaseHost:()=>B.B,updateBottomProgressBar:()=>M.LL,updateNameFilter:()=>a.QC,visualChecksPageSetCurrentNamedImage:()=>q.Ll});var n=r(70839),a=r(19272),s=r(60540),o=r(32481),i=r(48907),c=r(82931),u=r(33981),l=r(95834),p=r(48394),d=r(84787),f=r(34795),m=r(82841),E=r.n(m),v=r(87741),h=r(97566),g=r(8047),y=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).tests,t=void 0===e?[]:e;return(0,f.Z)(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.default.post("/run",t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Error while running tests:",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))},_=function(){return{type:h.Z.RUN_ALL_TESTS}},I=function(){return function(){var e=(0,f.Z)(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(_()),e.next=3,t(y());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S=function(){return{type:h.Z.RUN_FAILED_TESTS}},T=function(e){var t=e.tests;return function(){var e=(0,f.Z)(E().mark((function e(r){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(S()),e.next=3,r(y({tests:t}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},b=function(){return{type:h.Z.RETRY_SUITE}},R=function(e){var t=e.tests;return function(){var e=(0,f.Z)(E().mark((function e(r){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(b()),e.next=3,r(y({tests:t}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},O=function(){return{type:h.Z.RETRY_TEST}},C=function(e){var t=e.test;return function(){var e=(0,f.Z)(E().mark((function e(r){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(O()),e.next=3,r(y({tests:[t]}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},A=function(){return{type:h.Z.STOP_TESTS}},w=function(){return function(){var e=(0,f.Z)(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.default.post("/stop");case 3:t(A()),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Error while stopping tests:",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},N=function(e){return{type:h.Z.TESTS_END,payload:e}},Z=function(){return function(){var e=(0,f.Z)(E().mark((function e(t){var r,n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=(0,g.pU)(),e.next=4,(0,g.vO)(r.href);case 4:n=e.sent,t(N({db:n})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t((0,p.uX)("testsEnd",e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},P=function(e){return{type:h.Z.SUITE_BEGIN,payload:e}},D=function(e){return{type:h.Z.TEST_BEGIN,payload:e}},k=function(e){return{type:h.Z.TEST_RESULT,payload:e}},x=r(54432),B=r(22253),L=r(58311),U=r(49012),G=r(40554),M=r(70807),q=r(84006),j=r(29909)},33981:(e,t,r)=>{"use strict";r.d(t,{o:()=>a});var n=r(97566),a=function(e){return{type:n.Z.TOGGLE_LOADING,payload:e}}},95834:(e,t,r)=>{"use strict";r.d(t,{M:()=>s,h:()=>a});var n=r(97566),a=function(e){return{type:n.Z.OPEN_MODAL,payload:e}},s=function(e){return{type:n.Z.CLOSE_MODAL,payload:e}}},48394:(e,t,r)=>{"use strict";r.d(t,{N5:()=>a.N5,sc:()=>c,uX:()=>u});var n=r(56666),a=r(78505),s=r(14054);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=i({position:a.kd.topCenter,dismissAfter:5e3,dismissible:!0,showDismissButton:!0,allowHTML:!0},n);return(0,a.h4)(i({id:e,status:t,message:r},s))},u=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{dismissAfter:0};return c(e,"error",(0,s.ML)(t),r)}},84787:(e,t,r)=>{"use strict";r.d(t,{$:()=>a,E:()=>s});var n=r(97566),a=function(){return{type:n.Z.PROCESS_BEGIN}},s=function(){return{type:n.Z.PROCESS_END}}},54432:(e,t,r)=>{"use strict";r.d(t,{GC:()=>l,Ku:()=>f,Ro:()=>p,sP:()=>d});var n=r(34795),a=r(82841),s=r.n(a),o=r(87741),i=r(97566),c=r(84787),u=r(48394),l=function(e){return{type:i.Z.COMMIT_ACCEPTED_IMAGES_TO_TREE,payload:e}},p=function(e){var t=e.imageIds,r=e.shouldCommitUpdatesToTree,a=void 0===r||r;return function(){var e=(0,n.Z)(s().mark((function e(r){var n,i,p,d;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r((0,c.$)()),e.prev=1,e.next=4,o.default.post("/reference-data-to-update",t);case 4:return n=e.sent,i=n.data,e.next=8,o.default.post("/update-reference",i);case 8:return p=e.sent,d=p.data,a&&r(l(d)),r((0,c.E)()),e.abrupt("return",d);case 15:return e.prev=15,e.t0=e.catch(1),console.error("Error while updating references of failed tests:",e.t0),r((0,u.uX)("acceptScreenshot",e.t0)),r((0,c.E)()),e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}()},d=function(e){return{type:i.Z.COMMIT_REVERTED_IMAGES_TO_TREE,payload:e}},f=function(e){var t=e.imageIds,r=e.shouldCommitUpdatesToTree,a=void 0===r||r;return function(){var e=(0,n.Z)(s().mark((function e(r){var n,i,l,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r((0,c.$)()),e.prev=1,e.next=4,o.default.post("/reference-data-to-update",t);case 4:return n=e.sent,i=n.data,e.next=8,o.default.post("/undo-accept-images",i);case 8:l=e.sent,p=l.data,a&&r(d(p)),r((0,c.E)()),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(1),console.error("Error while reverting reference:",e.t0),r((0,u.uX)("undoScreenshot",e.t0)),r((0,c.E)());case 19:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}()}},22253:(e,t,r)=>{"use strict";r.d(t,{B:()=>a,H:()=>s});var n=r(97566),a=function(e){return{type:n.Z.VIEW_UPDATE_BASE_HOST,payload:{host:e}}},s=function(e){return{type:n.Z.SET_DIFF_MODE,payload:e}}},58311:(e,t,r)=>{"use strict";r.d(t,{Q:()=>a,u:()=>s});var n=r(97566),a=function(e){return{type:n.Z.SORT_TESTS_SET_CURRENT_EXPRESSION,payload:e}},s=function(e){return{type:n.Z.SORT_TESTS_SET_DIRECTION,payload:e}}},49012:(e,t,r)=>{"use strict";r.d(t,{A2:()=>y,FD:()=>I,Lt:()=>C,cO:()=>_,dd:()=>b,mm:()=>O,sv:()=>R,vx:()=>S,x_:()=>T});var n=r(56666),a=r(34795),s=r(82841),o=r.n(s),i=r(87741),c=r(76635),u=r(19456),l=r.n(u),p=r(55862),d=r(14054),f=r(78272),m=r(97566),E=r(95834),v=r(48394);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=function(e){return{type:m.Z.STATIC_ACCEPTER_DELAY_SCREENSHOT,payload:e}},_=function(){return{type:m.Z.STATIC_ACCEPTER_UNDO_DELAY_SCREENSHOT}},I=function(e){return{type:m.Z.STATIC_ACCEPTER_STAGE_SCREENSHOT,payload:e}},S=function(e){return{type:m.Z.STATIC_ACCEPTER_UNSTAGE_SCREENSHOT,payload:e}},T=function(){return(0,E.h)({id:p.types.STATIC_ACCEPTER_CONFIRM,type:p.types.STATIC_ACCEPTER_CONFIRM})},b=function(){return(0,E.M)({id:p.types.STATIC_ACCEPTER_CONFIRM})},R=function(e,t){var r=t.repositoryUrl,n=t.pullRequestUrl,s=t.serviceUrl,u=t.message,p=t.axiosRequestOptions,E=void 0===p?{}:p,h=t.meta;return function(){var t=(0,a.Z)(o().mark((function t(p){var y,_,I,S,T,R,O,C;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:p({type:m.Z.PROCESS_BEGIN}),p(b()),p({type:m.Z.UPDATE_LOADING_IS_IN_PROGRESS,payload:!0}),p({type:m.Z.UPDATE_LOADING_TITLE,payload:"Preparing images to commit: 0 of ".concat(e.length)}),p({type:m.Z.UPDATE_LOADING_VISIBILITY,payload:!0}),t.prev=5,(y=new FormData).append("repositoryUrl",r),y.append("pullRequestUrl",n),y.append("message",u),(0,c.isEmpty)(h)||y.append("meta",JSON.stringify(h)),_=new(l())({concurrency:256}),I=o().mark((function t(r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_.add((0,a.Z)(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,d.Ow)(e[r].image);case 2:n=t.sent,y.append("image",n,e[r].path),p({type:m.Z.UPDATE_LOADING_TITLE,payload:"Preparing images to commit: ".concat(r+1," of ").concat(e.length)});case 5:case"end":return t.stop()}}),t)}))));case 1:case"end":return t.stop()}}),t)})),S=0;case 14:if(!(S<e.length)){t.next=19;break}return t.delegateYield(I(S),"t0",16);case 16:S++,t.next=14;break;case 19:return t.next=21,_.onIdle();case 21:return p({type:m.Z.UPDATE_LOADING_TITLE,payload:"Uploading images"}),t.next=24,i.default.post(s,y,g(g({},E),{},{onUploadProgress:function(e){var t;p({type:m.Z.UPDATE_LOADING_PROGRESS,payload:{"static-accepter-commit":e.loaded/(null!==(t=e.total)&&void 0!==t?t:e.loaded)}})}}));case 24:if(T=t.sent,R=e.map((function(e){return e.id})),O=e.map((function(e){return{imageId:e.id,stateNameImageId:e.stateNameImageId}})),!(T.status>=200&&T.status<400)){t.next=35;break}p({type:m.Z.STATIC_ACCEPTER_COMMIT_SCREENSHOT,payload:R}),(0,f.AM)(O),p({type:m.Z.UPDATE_LOADING_IS_IN_PROGRESS,payload:!1}),p({type:m.Z.UPDATE_LOADING_TITLE,payload:"All images committed!"}),p((0,v.sc)("commitScreenshot","success","Screenshots were successfully committed")),t.next=37;break;case 35:throw C=["Unexpected status code from the service: ".concat(T.status,"."),"Server response: '".concat(T.data,"'")].join("\n"),new Error(C);case 37:t.next=44;break;case 39:return t.prev=39,t.t1=t.catch(5),console.error("An error occurred while commiting screenshot:",t.t1),p((0,v.uX)("commitScreenshot",t.t1)),t.abrupt("return",{error:t.t1});case 44:return t.prev=44,p({type:m.Z.UPDATE_LOADING_VISIBILITY,payload:!1}),p({type:m.Z.PROCESS_END}),t.finish(44);case 48:return t.abrupt("return",{});case 49:case"end":return t.stop()}}),t,null,[[5,39,44,48]])})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return{type:m.Z.STATIC_ACCEPTER_UPDATE_TOOLBAR_OFFSET,payload:e}},C=function(e){return{type:m.Z.STATIC_ACCEPTER_UPDATE_COMMIT_MESSAGE,payload:e}}},40554:(e,t,r)=>{"use strict";r.d(t,{$X:()=>l,Bq:()=>s,Gm:()=>o,KW:()=>d,Nu:()=>c,Qh:()=>m,_r:()=>a,cI:()=>i,gM:()=>f,o9:()=>u,tF:()=>E,zE:()=>p});var n=r(97566),a=function(e){return{type:n.Z.SUITES_PAGE_SET_CURRENT_SUITE,payload:e}},s=function(e){return{type:n.Z.SUITES_PAGE_SET_CURRENT_STEP,payload:e}},o=function(e){return{type:n.Z.SUITES_PAGE_SET_CURRENT_HIGHLIGHT_STEP,payload:e}},i=function(e){return{type:n.Z.SUITES_PAGE_SET_TREE_NODE_EXPANDED,payload:e}},c=function(e){return{type:n.Z.SUITES_PAGE_SET_ALL_TREE_NODES,payload:e}},u=function(e){return{type:n.Z.SUITES_PAGE_REVEAL_TREE_NODE,payload:e}},l=function(e){return{type:n.Z.SUITES_PAGE_SET_SECTION_EXPANDED,payload:e}},p=function(e){return{type:n.Z.SUITES_PAGE_SET_STEPS_EXPANDED,payload:e}},d=function(e){return{type:n.Z.SUITES_PAGE_SET_TREE_VIEW_MODE,payload:e}},f=function(e){return{type:n.Z.PAGE_SET_SECTION_SIZES,payload:e}},m=function(e){return{type:n.Z.PAGE_SET_BACKUP_SECTION_SIZES,payload:e}},E=function(e){return{type:n.Z.VIEW_SET_STRICT_MATCH_FILTER,payload:e}}},70807:(e,t,r)=>{"use strict";r.d(t,{Cd:()=>g,DI:()=>s,IP:()=>v,LL:()=>h,T9:()=>E,V1:()=>c,Z$:()=>m,cd:()=>d,iB:()=>y,kF:()=>p,kR:()=>i,nS:()=>f,qz:()=>a,td:()=>o,tp:()=>l,vf:()=>u});var n=r(97566),a=function(e){return{type:n.Z.TOGGLE_STATE_RESULT,payload:e}},s=function(e){return{type:n.Z.CLOSE_SECTIONS,payload:e}},o=function(){return{type:n.Z.SELECT_ALL}},i=function(){return{type:n.Z.DESELECT_ALL}},c=function(){return{type:n.Z.VIEW_EXPAND_ALL}},u=function(){return{type:n.Z.VIEW_EXPAND_ERRORS}},l=function(){return{type:n.Z.VIEW_EXPAND_RETRIES}},p=function(){return{type:n.Z.VIEW_COLLAPSE_ALL}},d=function(e){return{type:n.Z.TOGGLE_SUITE_SECTION,payload:e}},f=function(e){return{type:n.Z.TOGGLE_BROWSER_SECTION,payload:e}},m=function(e){return{type:n.Z.TOGGLE_BROWSER_CHECKBOX,payload:e}},E=function(e){return{type:n.Z.TOGGLE_SUITE_CHECKBOX,payload:e}},v=function(e){return{type:n.Z.TOGGLE_GROUP_CHECKBOX,payload:e}},h=function(e){return{type:n.Z.UPDATE_BOTTOM_PROGRESS_BAR,payload:e}},g=function(e){return{type:n.Z.TOGGLE_TESTS_GROUP,payload:e}},y=function(e){return{type:n.Z.CHANGE_TEST_RETRY,payload:e}}},84006:(e,t,r)=>{"use strict";r.d(t,{Bt:()=>o,Ll:()=>a,MT:()=>i,ZD:()=>s});var n=r(97566),a=function(e){return{type:n.Z.VISUAL_CHECKS_PAGE_SET_CURRENT_NAMED_IMAGE,payload:e}},s=function(e){return{type:n.Z.VISUAL_CHECKS_TOGGLE_2UP_DIFF_VISIBILITY,payload:{isVisible:e}}},o=function(e){return{type:n.Z.VISUAL_CHECKS_SET_2UP_FIT_MODE,payload:{fitMode:e}}},i=function(e){return{type:n.Z.VISUAL_CHECKS_SET_DIFF_MODE,payload:{diffModeId:e}}}},94646:(e,t,r)=>{"use strict";r.d(t,{Hc:()=>d,V$:()=>p,WI:()=>f,mB:()=>c,ru:()=>u});var n=r(68079),a=r(96234),s=r(19126),o=r.n(s),i=r(76635);function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e&&"string"==typeof e?("?"===e[0]&&(e=e.slice(1)),o().parse(e,{decoder:function(e,r,n,a){if("key"===a){var s=r(e,null,n);return t[s]?t[s]:s}var o=r(e,null,n);return"true"===o||"false"!==o&&(o&&!isNaN(o)?Number(o):o)}})):{}}function u(e,t){var r=new URL(e),n=r.search||"",a=(0,i.assign)(o().parse(n.slice(1)),t);return r.search=o().stringify(a,{arrayFormat:"repeat"}),r.href}function l(e){return e.map((function(e){var t=e.id,r=e.versions,n=encodeURIComponent(t);if((0,i.isEmpty)(r))return n;var a=r.map(encodeURIComponent).join(",");return"".concat(n,":").concat(a)}))}function p(e){return[].concat(e).filter(Boolean).map((function(e){var t=e.split(":"),r=(0,a.Z)(t,2),n=r[0],s=r[1],o=(void 0===s?"":s).split(",").map(decodeURIComponent);return{id:decodeURIComponent(n),versions:(0,i.compact)(o)}}))}function d(e,t){return e.map((function(e){if((0,i.isEmpty)(e.versions)){var r=t.find((function(t){return t.id===e.id}));if(r)return{id:e.id,versions:(0,n.Z)(r.versions)}}return e}))}function f(e){var t=u(window.location.href,{browser:l(e)});window.history.pushState(null,null,t)}},98645:(e,t,r)=>{"use strict";r.d(t,{ZL:()=>o,xU:()=>s});r(64141);var n=r(61394),a=new Set([]),s=function(e){var t=e.results.allIds,a={};t.forEach((function(t){var r,s=e.results.byId[t],o=null===(r=s.attachments)||void 0===r?void 0:r.find((function(e){return e.type===n.s.Tags}));a[s.parentId]=o?o.list.map((function(e){return e.title})):[]})),"undefined"!=typeof Worker&&new Worker(new URL(r.p+r.u(938),r.b)).postMessage({type:"init",data:a})},o=function(e){return a.has(e)}},36666:(e,t,r)=>{"use strict";r.d(t,{B:()=>o});var n=r(97698),a=r(51869),s=r(14054),o=(0,n.createSelector)(a.getKeyToGroupTestsBy,(function(e){return e?(0,s.An)(e):[]}))},51869:(e,t,r)=>{"use strict";r.r(t),r.d(t,{getFilteredBrowsers:()=>n,getKeyToGroupTestsBy:()=>a});var n=function(e){return e.app.suitesPage.filteredBrowsers},a=function(e){return e.view.keyToGroupTestsBy}},78272:(e,t,r)=>{"use strict";r.d(t,{AM:()=>h,Iv:()=>v,O$:()=>g,Yo:()=>m,fQ:()=>f});var n=r(56666),a=r(13980),s=r.n(a),o=r(76635),i=r(27202),c=r(31804);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=null,d="static-image-accepter",f=function(e,t){if(null!==p)return p;if(!e||!e.enabled||t)return p=!1;var r=["repositoryUrl","pullRequestUrl","serviceUrl"].filter((function(t){return!e[t]}));return r.length?(console.error("staticImageAccepter is disabled. Invalid config: '".concat(r.join(", "),"' is(/are) missing!")),p=!1):p=!0},m=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=e.filter((function(e){return e.commitStatus===i.Ez})).map((function(e){return{imageId:e.id,stateNameImageId:e.stateNameImageId}})).concat(r);if(n.find((function(e){var r,n=e.imageId;return!(null!==(r=t[n].refImg)&&void 0!==r&&r.relativePath)})))throw new Error('The version of your tool does not support static image accepter: missing "relativePath"');return n.map((function(e){var r=e.imageId;return{id:r,stateNameImageId:e.stateNameImageId,image:t[r].actualImg.path,path:t[r].refImg.relativePath}}))},E=function(){var e=(0,o.get)(window,["data","date"]),t=(0,o.get)(window,["location","pathname"]),r=c.rV(d,null);return r&&r.date===e&&r.pathName===t?r.commitedImages:{}},v=function(){return Object.values(E())},h=function(e){var t=(0,o.get)(window,["data","date"]),r=(0,o.get)(window,["location","pathname"]),n=E(),a=e.reduce((function(e,t){var r=t.imageId;return e[t.stateNameImageId]=r,e}),{});c.LS(d,{date:t,pathName:r,commitedImages:l(l({},n),a)})},g=s().shape({enabled:s().bool.isRequired,accepterDelayedImages:s().arrayOf(s().shape({imageId:s().string.isRequired,stateName:s().string.isRequired,stateNameImageId:s().string.isRequired})).isRequired,acceptableImages:s().objectOf(s().shape({id:s().string.isRequired,parentId:s().string.isRequired,stateName:s().string.isRequired,commitStatus:s().oneOf([null,i.Ez,i.t6]),originalStatus:s().string.isRequired}))})},79483:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var n=r(9249),a=r(87371),s=r(56666),o=function(){function e(){(0,n.Z)(this,e)}return(0,a.Z)(e,null,[{key:"createPreloadLink",value:function(e){var t=document.createElement("link");return t.rel="preload",t.as="image",t.href=e,document.head.appendChild(t),t}},{key:"register",value:function(t){e.cache[t]||(e.cache[t]=e.createPreloadLink(t))}},{key:"dispose",value:function(t){var r;null===(r=e.cache[t])||void 0===r||r.remove(),delete e.cache[t]}}]),e}();function i(e){return o.register(e),function(){return o.dispose(e)}}(0,s.Z)(o,"cache",{})},14054:(e,t,r)=>{"use strict";r.d(t,{An:()=>R,D8:()=>m,Et:()=>b,F7:()=>v,Gz:()=>S,KD:()=>g,ML:()=>_,Ow:()=>O,TV:()=>I,V_:()=>y,Xd:()=>E,h3:()=>h,kp:()=>T,rm:()=>d.rm});var n=r(86522),a=r(34795),s=r(46840),o=r(68079),i=r(82841),c=r.n(i),u=r(76635),l=r(9560),p=r(27202),d=r(21990),f=Object.values(p.SA);function m(e){return(0,l.R6)(e.status)||(0,l.KM)(e.status)}function E(e){return(0,l.Cx)(e.status)}function v(e){return(0,l.Mg)(e.status)||(0,l.Cr)(e.status)||(0,l.Cx)(e.status)||(0,l.hO)(e.status)}function h(e){var t=e.status,r=e.error;return(0,l.KM)(t)&&((0,l.S5)(r)||(0,l.Ne)(r))||(0,l.R6)(t)||(0,l.sx)(t)}function g(e){var t=e.gui,r=e.image,n=e.isLastResult,a=e.isStaticImageAccepterEnabled;return function(e){var t=e.gui,r=e.image,n=e.isLastResult;return t&&r.stateName&&n&&(0,l.Cr)(r.status)}({gui:t,image:r,isLastResult:n})||function(e){var t=e.gui,r=e.image,n=e.isStaticImageAccepterEnabled;return!t&&n&&r.stateName&&(0,l.Cx)(r.status)}({gui:t,image:r,isStaticImageAccepterEnabled:a})}function y(e){if(!e)return"";var t=(0,u.isEmpty)(navigator.languages)?navigator.language:navigator.languages[0];return new Date(e).toLocaleString(t)}function _(e){var t=e.message,r=e.response;return r?"(".concat(r.status,") ").concat(r.data):t}function I(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=n.strictMatchFilter,s=n.useMatchCaseFilter,o=void 0!==s&&s,i=n.useRegexFilter,c=void 0!==i&&i,u=n.isNewUi,l=arguments.length>4?arguments[4]:void 0;if(!r)return!0;if(!(void 0===u||u))return function(e,t,r,n){if(!r)return!0;var a=r.replace(/ /g,"(?: |  )");return n?new RegExp("^".concat(a,"$")).test(e):new RegExp(a).test("".concat(e," ").concat(t))}(e,t,r,a);var d=o?"":"i";if(c)try{var f=new RegExp(r,d);return f.test(e)||f.test("".concat(e," ").concat(t))}catch(e){return!1}if(a){var m=r.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),E="^".concat(m.replace(/ /g,"(?: |  )"),"$");try{var v=new RegExp(E,d);return v.test(e)||v.test("".concat(e," ").concat(t))}catch(e){return console.warn("An error occurred while comparing test name in strict mode: ".concat(E,". Please file an issue at ").concat(p.WY)),!1}}return l}function S(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;return r===p.wO.ALL||(!(r!==p.wO.PASSED||!(0,l.Mg)(t))||(!(r!==p.wO.FAILED||!(0,l.R6)(t)&&!(0,l.KM)(t))||(r===p.wO.RETRIED?(0,d.xg)(e,n,"resultIds.length")>1:t===r)))}function T(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;if((0,u.isEmpty)(t))return!0;var n=(0,u.find)(t,{id:(0,d.xg)(e,r,"name")});if(!n)return!1;var a=[].concat(n.versions).filter(Boolean);return!!(0,u.isEmpty)(a)||a.includes((0,d.xg)(e,r,"version"))}function b(e,t){var r=t.suiteCb,n=t.browserCb,a=t.browserIdsCb,s=[],i=[];return e.browserIds&&[n,a].some(u.isFunction)&&(s=a?a(e.browserIds,e):(0,u.flatMap)(e.browserIds,(function(t){return n(t,e)}))),e.suiteIds&&(0,u.isFunction)(r)&&(i=(0,u.flatMap)(e.suiteIds,(function(t){return r(t,e)}))),[].concat((0,o.Z)(s),(0,o.Z)(i))}function R(e){var t=e.split(p.QV),r=(0,s.Z)(t),n=r[0],a=r.slice(1);if(a=a.join(p.QV),!f.includes(n))throw new Error("Group section must be one of ".concat(f.join(", "),", but got ").concat(n));if(n===p.SA.RESULT&&!p.Kr.includes(a))throw new Error("Group key must be one of ".concat(p.Kr.join(", "),", but got ").concat(a));return[n,a]}function O(e){return C.apply(this,arguments)}function C(){return C=(0,a.Z)(c().mark((function e(t){var r,a,s,o,i=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r=i.length>1&&void 0!==i[1]?i[1]:3,s=c().mark((function e(){var n,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a--,e.prev=1,e.next=4,new Promise((function(e,r){var n=new XMLHttpRequest;n.onload=function(){return e(n.response)},n.onerror=function(){return r(new Error("Got an error trying to download object at: ".concat(t)))},n.open("GET",t),n.responseType="blob",n.send()}));case 4:return e.t0=e.sent,e.abrupt("return",{v:e.t0});case 8:if(e.prev=8,e.t1=e.catch(1),!(a<0)){e.next=12;break}throw e.t1;case 12:return n=r-a,s=500*Math.pow(2,n),e.next=16,new Promise((function(e){return setTimeout(e,s)}));case 16:case"end":return e.stop()}}),e,null,[[1,8]])}));case 3:if(!(a>=0)){e.next=10;break}return e.delegateYield(s(),"t0",5);case 5:if(o=e.t0,"object"!==(0,n.Z)(o)){e.next=8;break}return e.abrupt("return",o.v);case 8:e.next=3;break;case 10:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}},60460:(e,t,r)=>{"use strict";r.d(t,{gD:()=>n,hi:()=>a});var n=function(e){return{"--natural-width":e.width,"--natural-height":e.height,"--img-width":e.width>e.height?"100%":"auto","--img-height":e.width>e.height?"auto":"100%"}},a=function(e){var t=100*e,r=Math.ceil(100*t)/100;return t<.01?"< ".concat(.01):String(r)}},82022:(e,t,r)=>{"use strict";r.d(t,{V5:()=>i});var n=r(97698),a=r(40645),s=r(41984),o=r(27202),i=(r(1291),(0,n.createSelector)([a.jA,a.Bl,a.LD,a.TZ,a.Wo,a.O7,a.Jx,a.JK,a.WY,a.es],(function(e,t,r,n,a,o,i,c,u,l){var p,d,f,m=u.currentDirection,E=null!==(p=u.availableExpressions.find((function(e){return e.id===u.currentExpressionIds[0]})))&&void 0!==p?p:u.availableExpressions[0],v={results:o,images:i,suites:t,treeViewMode:c,browsersState:a,browsers:n,groups:e,currentSortDirection:m,currentSortExpression:E,browsersList:l};if(r.length>0){var h=r.map((function(t){var r=e[t],o=r.browserIds.flatMap((function(e){return a[e].shouldBeShown?[n[e]]:[]})),i=(0,s.pH)(v,r,r.id);return{data:i,children:(0,s.ph)(v,o,i).children}})).filter((function(e){var t;return null===(t=e.children)||void 0===t?void 0:t.length})),g=(0,s.ow)(v,h),y=(0,s.Ll)(g);return{tree:g,allTreeNodeIds:y.allTreeNodeIds,visibleTreeNodeIds:y.visibleTreeNodeIds}}var _=(0,s.ph)(v,Object.values(n).filter((function(e){return a[e.id].shouldBeShown})));_.children=(0,s.ow)(v,null!==(d=_.children)&&void 0!==d?d:[]);var I=(0,s.Ll)([_]);return{allTreeNodeIds:I.allTreeNodeIds,visibleTreeNodeIds:I.visibleTreeNodeIds,tree:null!==(f=_.children)&&void 0!==f?f:[]}})));(0,n.createSelector)([a.O7,a.Wo],(function(e,t){var r={},n=new Set,a=0;Object.values(e).forEach((function(e){var s,o,i=e.parentId,c=e.attempt,u=e.status,l=e.timestamp;(t[i].shouldBeShown||t[i].isHiddenBecauseOfStatus)&&(c>0&&n.add(i),(!r[i]||r[i].timestamp<l)&&(a-=null!==(s=null===(o=r[i])||void 0===o?void 0:o.attempt)&&void 0!==s?s:0,a+=c,r[i]={attempt:c,status:u,timestamp:l}))}));var s={success:0,fail:0,skipped:0,total:Object.keys(r).length,retried:n.size,retries:a,idle:0};return Object.values(r).forEach((function(e){var t=e.status,r=t===o.ih.ERROR?"fail":t;Object.prototype.hasOwnProperty.call(s,r)&&s[r]++})),s}))},1291:(e,t,r)=>{"use strict";r(27202),r(61394)},11200:(e,t,r)=>{"use strict";r.d(t,{Qt:()=>p,av:()=>i,iT:()=>l,nt:()=>c});var n=r(52902),a=r(36397);function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return o(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,s=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw s}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var i=function(e){for(var t=null,r=e;r;){if(r.entityType===n.p.Group){t=r.entityId;break}r=r.parentData}return t},c=function(e){return(0,a.og)(e)?n.p.Browser:n.p.Suite},u=function e(t,r){var n,a=s(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(r(o))return o.data;if(o.children){var i=e(o.children,r);if(i)return i}}}catch(e){a.e(e)}finally{a.f()}return null},l=function(e,t){return u(e,(function(e){return e.data.entityType===n.p.Browser&&e.data.entityId===t}))},p=function(e,t){return u(e,(function(e){return e.data.id===t}))}},40645:(e,t,r)=>{"use strict";r.d(t,{Bl:()=>o,EZ:()=>n,Fn:()=>d,JK:()=>f,Jx:()=>l,LD:()=>a,O7:()=>u,Qy:()=>p,TZ:()=>i,WY:()=>m,Wo:()=>c,es:()=>E,jA:()=>s});r(27202);var n=function(e){return e.tree.suites.allRootIds},a=function(e){return e.tree.groups.allRootIds},s=function(e){return e.tree.groups.byId},o=function(e){return e.tree.suites.byId},i=function(e){return e.tree.browsers.byId},c=function(e){return e.tree.browsers.stateById},u=function(e){return e.tree.results.byId},l=function(e){return e.tree.images.byId},p=function(e){return e.staticImageAccepter.enabled},d=function(e){return e.gui},f=function(e){return e.ui.suitesPage.treeViewMode},m=function(e){return e.app.sortTestsData},E=function(e){return e.browsers}},36397:(e,t,r)=>{"use strict";r.d(t,{Dk:()=>i,ER:()=>l,Sr:()=>p,kI:()=>c,og:()=>o,po:()=>s,xW:()=>d,zX:()=>u});var n=r(27202),a=r(52902),s=function(e){return Boolean(e.suitePath)},o=function(e){return Boolean(e.resultIds)},i=function(e){return e.type===a.p.Group},c=function(e){return e.status===n.ih.ERROR},u=function(e){return e.Meta="meta",e.Error="error",e}({}),l=function(e){return e[e.ByName=0]="ByName",e[e.ByFailedRuns=1]="ByFailedRuns",e[e.ByTestsCount=2]="ByTestsCount",e[e.ByStartTime=3]="ByStartTime",e[e.ByDuration=4]="ByDuration",e[e.ByRelevance=5]="ByRelevance",e}({}),p=function(e){return e.Asc="asc",e.Desc="desc",e}({}),d=function(e){return e.Tree="tree",e.List="list",e}({})},32444:(e,t,r)=>{"use strict";r.d(t,{r:()=>o});var n=r(34795),a=r(82841),s=r.n(a),o=function(){var e=(0,n.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/update-time-travel-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},71011:(e,t,r)=>{"use strict";r.d(t,{Pz:()=>s,hk:()=>o});r(63690);var n=r(2784),a=(r(27202),r(76635)),s=function(e){return(0,a.isString)(e)?e:(0,a.isObject)(e)?JSON.stringify(e):(0,a.isNull)(e)?"null":(0,a.isUndefined)(e)?"undefined":(0,a.toString)(e)},o=function(e){var t=/https?:\/\/[^\s]*/g,r=e.split(t),a=e.match(t)||[];return n.createElement(n.Fragment,null,r.reduce((function(e,t,r){if(e.push(t),a[r]){var s=a[r].startsWith("www.")?"http://".concat(a[r]):a[r];e.push(n.createElement("a",{key:r,href:s,target:"_blank",rel:"noopener noreferrer"},a[r]))}return e}),[]))}}}]);