(self.webpackChunk=self.webpackChunk||[]).push([[409],{58733:(e,t,n)=>{"use strict";n.d(t,{e:()=>r,u:()=>a});var r=function(e){return e.UNKNOWN="unknown",e}({}),a=function(e){return e.LiveSnapshotsStreaming="live-snapshots-streaming",e}({})},46126:(e,t,n)=>{"use strict";n.d(t,{He:()=>s,JL:()=>o,rW:()=>c,yW:()=>i});var r="INT",a="TEXT",i=65536,o="suites",c="sqlite.db",s=[{name:"suitePath",type:a},{name:"suiteName",type:a},{name:"name",type:a},{name:"suiteUrl",type:a},{name:"metaInfo",type:a},{name:"history",type:a},{name:"description",type:a},{name:"error",type:a},{name:"skipReason",type:a},{name:"imagesInfo",type:a},{name:"screenshot",type:r},{name:"multipleTabs",type:r},{name:"status",type:a},{name:"timestamp",type:r},{name:"duration",type:r},{name:"attachments",type:a}].reduce((function(e,t,n){return e[t.name]=n,e}),{})},58270:(e,t,n)=>{"use strict";n.d(t,{S:()=>o,W:()=>c});var r=n(58615),a=n(37487),i=n(75631),o=150,c={baseHost:"",commandsWithShortHistory:[],customGui:{},customScripts:[],defaultView:a.w.ALL,diffMode:r.n.THREE_UP.id,uiMode:null,enabled:!1,errorPatterns:[],lazyLoadOffset:null,metaInfoBaseUrls:{},path:"",plugins:[],pluginsEnabled:!1,saveErrorDetails:!1,saveFormat:i.t.SQLITE,yandexMetrika:{counterNumber:99267510},staticImageAccepter:{enabled:!1,repositoryUrl:"",pullRequestUrl:"",serviceUrl:"",meta:{},axiosRequestOptions:{}},generateBadges:null}},58615:(e,t,n)=>{"use strict";n.d(t,{T:()=>i,n:()=>a});var r=n(76635),a={THREE_UP:{id:"3-up",title:"List",description:"List. Show images one after another in vertical layout."},THREE_UP_SCALED:{id:"3-up-scaled",title:"SbS",description:"Side by Side. Show images in one row."},THREE_UP_SCALED_TO_FIT:{id:"3-up-scaled-to-fit",title:"SbS (fit screen)",description:"Side by Side. Show images in one row and scale them down if needed to fit the screen."},ONLY_DIFF:{id:"only-diff",title:"Only Diff",description:"Only Diff. Show only diff image, click to highlight diff areas."},SWITCH:{id:"switch",title:"Switch",description:"Switch. Click to switch between expected and actual images."},SWIPE:{id:"swipe",title:"Swipe",description:"Swipe. Move the divider to compare expected and actual images."},ONION_SKIN:{id:"onion-skin",title:"Onion skin",description:"Onion Skin. Change the image opacity to compare expected and actual images."},TWO_UP_INTERACTIVE:{id:"2-up-interactive",title:"2-up Interactive",description:"2-up Interactive. Compare expected and actual images side by side with synchronized pan and zoom."}},i=(0,r.pick)(a,["THREE_UP","THREE_UP_SCALED","THREE_UP_SCALED_TO_FIT","ONLY_DIFF","SWITCH","SWIPE","ONION_SKIN"])},72273:(e,t,n)=>{"use strict";n.d(t,{WY:()=>r,XB:()=>a});var r="https://github.com/gemini-testing/html-reporter/issues/new",a="image comparison failed"},28909:(e,t,n)=>{"use strict";n.r(t),n.d(t,{EditScreensFeature:()=>a,RunTestsFeature:()=>r,TimeTravelFeature:()=>i});var r={name:"run-tests"},a={name:"edit-screens"},i={name:"time-travel"}},54077:(e,t)=>{t.SA={RESULT:"result",META:"meta"},t.wK="error",t.Kr=[t.wK],t.QV="."},27202:(e,t,n)=>{"use strict";n.d(t,{B$:()=>s.EditScreensFeature,ES:()=>d.ES,Ez:()=>d.Ez,HL:()=>E.H,He:()=>a.He,JW:()=>d.JW,Kr:()=>l.Kr,MR:()=>d.MR,Nv:()=>u.Nv,QV:()=>l.QV,S7:()=>i.S,SA:()=>l.SA,SH:()=>d.SH,T1:()=>o.T,T3:()=>E.T,WY:()=>c.WY,Wi:()=>s.RunTestsFeature,Wr:()=>i.W,XB:()=>c.XB,YO:()=>m.Y,YS:()=>g.YS,eb:()=>r.e,em:()=>d.em,fi:()=>p.f,ih:()=>d.ih,kb:()=>d.kb,nx:()=>o.n,pn:()=>d.pn,qW:()=>s.TimeTravelFeature,sS:()=>d.sS,t6:()=>d.t6,uf:()=>r.u,wO:()=>f.w,yW:()=>a.yW});var r=n(58733),a=n(46126),i=n(58270),o=n(58615),c=n(72273),s=n(28909),l=n(54077),u=n(71770),d=(n(32705),n(75631),n(62602)),m=n(14811),p=n(28322),f=n(37487),E=n(96069),g=n(85202)},14811:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r});var r=function(e){return e.Testplane="testplane",e.Playwright="playwright",e.Jest="jest",e}({})},28322:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});var r=function(e){return e.FitToView="fit-to-view",e.FitToWidth="fit-to-width",e}({})},30266:(e,t,n)=>{"use strict";n.d(t,{JX:()=>r});var r={BEGIN_SUITE:"beginSuite",BEGIN_STATE:"beginState",TEST_RESULT:"testResult",RETRY:"retry",ERROR:"err",END:"end",CONNECTED:"connected",DOM_SNAPSHOTS:"DOM_SNAPSHOTS"}},55862:(e,t,n)=>{"use strict";n.d(t,{types:()=>z});var r=n(9249),a=n(87371),i=n(45754),o=n(11987),c=n(95058),s=n(56666),l=n(13980),u=n.n(l),d=n(2784),m=n(49330),p=n(50479);function f(e){var t=E();return function(){var n,r=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,o.Z)(this,n)}}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(E=function(){return!!e})()}var g=function(e){(0,i.Z)(n,e);var t=f(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.browserId,r=e.equalImages,a=e.comparedImages;return d.createElement(m.Z,{size:"small",open:!0,onClose:t},d.createElement(m.Z.Header,{content:"Find same diffs result"}),d.createElement(m.Z.Content,{scrolling:!0},d.createElement("p",null,"Search was carried out in: ",d.createElement("b",null,n)),d.createElement("p",null,"Found ",d.createElement("b",null,r)," equal images from ",d.createElement("b",null,a))),d.createElement(m.Z.Actions,null,d.createElement(p.Z,{onClick:t,content:"Got it",size:"small",positive:!0})))}}]),n}(d.Component);(0,s.Z)(g,"propTypes",{onClose:u().func.isRequired,browserId:u().string.isRequired,equalImages:u().number.isRequired,comparedImages:u().number.isRequired});var v=n(68079),h=n(34795),I=n(80753),S=n(82841),y=n.n(S),T=n(4792),b=n(18717),N=n(76635),w=n(64141),C=n(41381),M=n(26611),O=n(99913),A=n(69875),D=n(78272),k=n(41493),L=n(79483);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){var t=P();return function(){var n,r=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,o.Z)(this,n)}}function P(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(P=function(){return!!e})()}var j=function(e){(0,i.Z)(o,e);var t,n=R(o);function o(e){var t;(0,r.Z)(this,o),t=n.call(this,e),(0,s.Z)((0,I.Z)(t),"onRetryChange",(function(e){t.setState({retryIndex:e})})),(0,s.Z)((0,I.Z)(t),"onActiveImageChange",(function(e){var n=t._getActiveImages(e);t.setState({retryIndex:n.length-1,activeImageIndex:e}),t._preloadAdjacentImages(e,t.state.stateNameImageIds)})),(0,s.Z)((0,I.Z)(t),"onScreenshotAccept",function(){var e=(0,h.Z)(y().mark((function e(n){var r,a,i,o,c,s,l;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t._getActiveImages(),a=r[0].stateName,i=t.state.stateNameImageIds.findIndex((function(e){return t.props.imagesByStateName[e].some((function(e){return e.id===n}))})),!t.props.staticImageAccepter.enabled){e.next=7;break}e.t0=t._stageScreenshot(n,a),e.next=10;break;case 7:return e.next=9,t._acceptScreenshot(n,a);case 9:e.t0=e.sent;case 10:if(null!==(o=e.t0)){e.next=13;break}return e.abrupt("return");case 13:if(t.acceptedImages.push({stateNameImageId:t.state.stateNameImageIds[i],ind:i,imageId:o}),c=t.state.stateNameImageIds.filter((function(e,t){return t!==i})),!(0,N.isEmpty)(c)){e.next=17;break}return e.abrupt("return",t.setState({activeImageIndex:null,stateNameImageIds:c,retryIndex:null}));case 17:s=Math.min(t.state.activeImageIndex,c.length-1),l=t._getActiveImages(s,c),t.setState({activeImageIndex:s,stateNameImageIds:c,retryIndex:l.length-1}),t._preloadAdjacentImages(s,c);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,s.Z)((0,I.Z)(t),"onScreenshotUndo",(0,h.Z)(y().mark((function e(){var n,r,a,i,o,c,s;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,N.isEmpty)(t.acceptedImages)){e.next=2;break}return e.abrupt("return");case 2:if(n=t.state.stateNameImageIds,r=t.acceptedImages.pop(),a=r.stateNameImageId,i=r.ind,o=r.imageId,c=[].concat((0,v.Z)(n.slice(0,i)),[a],(0,v.Z)(n.slice(i))),s=t._getActiveImages(i,c),!t.props.staticImageAccepter.enabled){e.next=10;break}t.props.actions.staticAccepterUndoDelayScreenshot(),e.next=13;break;case 10:return e.next=12,t.props.actions.thunkRevertImages({imageIds:[o],shouldCommitUpdatesToTree:!1});case 12:t.delayedTestResults.pop();case 13:t.setState({activeImageIndex:i,stateNameImageIds:c,retryIndex:s.length-1}),t._preloadAdjacentImages(i,c);case 15:case"end":return e.stop()}}),e)})))),(0,s.Z)((0,I.Z)(t),"onShowMeta",(function(){t.setState({showMeta:!t.state.showMeta})})),(0,s.Z)((0,I.Z)(t),"onClose",(function(){if((0,N.isEmpty)(t.props.staticImageAccepter.accepterDelayedImages)&&(0,N.isEmpty)(t.delayedTestResults))return t.props.onClose();if(t.props.staticImageAccepter.enabled){var e=t.props.staticImageAccepter.accepterDelayedImages.map((function(e){return e.imageId}));t.props.actions.staticAccepterStageScreenshot(e)}else t.props.actions.commitAcceptedImagesToTree(t.delayedTestResults);t.props.onClose()})),(0,s.Z)((0,I.Z)(t),"onCommitChanges",(function(){t.props.actions.staticAccepterOpenConfirm()}));var a=t.props,i=a.image,c=a.activeImageIndex,l=a.stateNameImageIds,u=a.imagesByStateName,m=t._getActiveImages(c,l),p=(0,N.findIndex)(m,{id:i.id});t.acceptedImages=[],t.delayedTestResults=[],t.state={stateNameImageIds:l,activeImageIndex:c,retryIndex:p,showMeta:!1,disposables:{}},t.topRef=d.createRef(),t.totalImagesCount=(0,N.size)(u);for(var f=1;f<=3;f++)t._preloadAdjacentImages(c,l,f);return t.analytics=t.context,t}return(0,a.Z)(o,[{key:"componentWillUnmount",value:function(){Object.values(this.state.disposables).forEach((function(e){return e()}))}},{key:"componentDidUpdate",value:function(){this.topRef.current.parentNode.scrollTo(0,0)}},{key:"_getActiveImages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.activeImageIndex,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.stateNameImageIds;return(0,N.isNumber)(e)?this.props.imagesByStateName[t[e]]:[]}},{key:"_acceptScreenshot",value:(t=(0,h.Z)(y().mark((function e(t,n){var r,a,i,o,c;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.actions.thunkAcceptImages({imageIds:[t],shouldCommitUpdatesToTree:!1});case 2:if(a=e.sent,null===(r=this.analytics)||void 0===r||r.trackScreenshotsAccept(),null!==a){e.next=6;break}return e.abrupt("return",null);case 6:return this.delayedTestResults=this.delayedTestResults.concat(a),i=(0,N.get)(a,"[0].images",[]),o=i.find((function(e){return e.stateName===n}))||{},c=o.id,e.abrupt("return",c);case 10:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"_stageScreenshot",value:function(e,t){var n=this,r=this.props.stateNameImageIds.find((function(t){return n.props.imagesByStateName[t].some((function(t){return t.id===e}))}));return this.props.actions.staticAccepterDelayScreenshot({imageId:e,stateName:t,stateNameImageId:r}),e}},{key:"_preloadAdjacentImages",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=(0,N.size)(t);[(a+e-r)%a,(e+r)%a].filter((function(e){return e>=0})).forEach((function(e){var r=t[e],a=(0,N.last)(n.props.imagesByStateName[r]),i=a.expectedImg,o=a.actualImg,c=a.diffImg,s={};[i,o,c].filter(Boolean).forEach((function(e){var t=e.path,n=(0,L.p)(t);s[t]=n})),n.setState({disposables:x(x({},n.state.disposables),s)})}))}},{key:"render",value:function(){var e=this.props,t=e.actions,n=e.view,r=e.staticImageAccepter,a=this.state,i=a.retryIndex,o=a.stateNameImageIds,c=a.activeImageIndex,s=a.showMeta,l=this._getActiveImages(),u=(0,N.isNumber)(i)?l[i]:null,m=this.totalImagesCount-o.length;return d.createElement(d.Fragment,null,d.createElement("div",{ref:this.topRef}),d.createElement(C.Z,{actions:t,view:n,images:l,stateNameImageIds:o,retryIndex:i,activeImageIndex:c,showMeta:s,onClose:this.onClose,totalImages:this.totalImagesCount,acceptedImages:m,onRetryChange:this.onRetryChange,onActiveImageChange:this.onActiveImageChange,onScreenshotAccept:this.onScreenshotAccept,onScreenshotUndo:this.onScreenshotUndo,onShowMeta:this.onShowMeta,onCommitChanges:this.onCommitChanges,staticImageAccepter:r}),d.createElement(M.Z,{showMeta:s,image:u}),d.createElement(O.Z,{image:u}))}}]),o}(d.Component);(0,s.Z)(j,"contextType",k.f),(0,s.Z)(j,"propTypes",{view:u().shape({diffMode:u().string.isRequired}),image:u().shape({id:u().string.isRequired,parentId:u().string.isRequired,stateName:u().string.isRequired}).isRequired,onClose:u().func.isRequired,imagesByStateName:u().object.isRequired,stateNameImageIds:u().arrayOf(u().string).isRequired,activeImageIndex:u().number.isRequired,staticImageAccepter:D.O$,actions:u().object.isRequired});(0,T.connect)((function(e,t){var n=t.image,r=(0,A.getAcceptableImagesByStateName)(e),a=Object.keys(r),i=e.tree.results.byId[n.parentId].parentId,o="".concat(i," ").concat(n.stateName),c=a.indexOf(o),s=e.staticImageAccepter;return{view:e.view,imagesByStateName:r,stateNameImageIds:a,activeImageIndex:c,staticImageAccepter:s}}),(function(e){return{actions:(0,b.bindActionCreators)(w,e)}}))(j);var Z=n(63690);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,T.connect)((function(e){return{toolName:e.apiValues.toolName,staticImageAccepter:e.staticImageAccepter,staticAccepterConfig:e.config.staticImageAccepter,imagesById:e.tree.images.byId}}),(function(e){return{actions:(0,b.bindActionCreators)(w,e)}}))((function(e){var t=e.toolName,n=e.staticImageAccepter,r=e.staticAccepterConfig,a=e.imagesById,i=e.actions,o="chore: update ".concat(t," screenshot references"),c=r.pullRequestUrl,s=(0,d.useRef)(null);(0,d.useEffect)((function(){var e,t;null===(e=s.current)||void 0===e||null===(t=e.setSelectionRange)||void 0===t||t.call(e,-1,-1)}),[]);var l=(0,d.useMemo)((function(){return(0,D.Yo)(Object.values(n.acceptableImages),a,n.accepterDelayedImages)}),[n,a]),u=function(){var e=(0,h.Z)(y().mark((function e(){var t,n,a;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(null===(t=s.current)||void 0===t?void 0:t.value)||o,a=U(U({},(0,N.pick)(r,["repositoryUrl","pullRequestUrl","serviceUrl","axiosRequestOptions","meta"])),{},{message:n}),e.next=4,i.staticAccepterCommitScreenshot(l,a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return d.createElement(Z.Card,{className:"static-accepter-confirm",theme:"info",type:"action",view:"outlined"},d.createElement(Z.Text,null,"You are commiting ",l.length," images to Pull Request:"),d.createElement("br",null),d.createElement(Z.Link,{href:c,target:"_blank"},c),d.createElement("br",null),d.createElement("br",null),d.createElement("br",null),d.createElement(Z.Text,null,"Enter commit message:"),d.createElement(Z.TextArea,{autoFocus:!0,defaultValue:o,controlRef:s,onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),u())}}),d.createElement("div",{className:"static-accepter-confirm__controls"},d.createElement(Z.Button,{className:"static-accepter-confirm__cancel",onClick:function(){i.staticAccepterCloseConfirm()}},"Cancel"),d.createElement(Z.Button,{view:"action",className:"static-accepter-confirm__confirm",onClick:u},"Commit")))}));var z={FIND_SAME_DIFFS:"FindSameDiffs",SCREENSHOT_ACCEPTER:"ScreenshotAccepter",STATIC_ACCEPTER_CONFIRM:"StaticAccepterConfirm"}},97566:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={INIT_GUI_REPORT:"INIT_GUI_REPORT",INIT_STATIC_REPORT:"INIT_STATIC_REPORT",FIN_GUI_REPORT:"FIN_GUI_REPORT",FIN_STATIC_REPORT:"FIN_STATIC_REPORT",RUN_ALL_TESTS:"RUN_ALL_TESTS",RUN_FAILED_TESTS:"RUN_FAILED_TESTS",STOP_TESTS:"STOP_TESTS",RETRY_SUITE:"RETRY_SUITE",RETRY_TEST:"RETRY_TEST",SUITE_BEGIN:"SUITE_BEGIN",TEST_BEGIN:"TEST_BEGIN",TEST_RESULT:"TEST_RESULT",TESTS_END:"TESTS_END",COMMIT_ACCEPTED_IMAGES_TO_TREE:"COMMIT_ACCEPTED_IMAGES_TO_TREE",COMMIT_REVERTED_IMAGES_TO_TREE:"COMMIT_REVERTED_IMAGES_TO_TREE",STATIC_ACCEPTER_DELAY_SCREENSHOT:"STATIC_ACCEPTER_DELAY_SCREENSHOT",STATIC_ACCEPTER_UNDO_DELAY_SCREENSHOT:"STATIC_ACCEPTER_UNDO_DELAY_SCREENSHOT",STATIC_ACCEPTER_STAGE_SCREENSHOT:"STATIC_ACCEPTER_STAGE_SCREENSHOT",STATIC_ACCEPTER_UNSTAGE_SCREENSHOT:"STATIC_ACCEPTER_UNSTAGE_SCREENSHOT",STATIC_ACCEPTER_COMMIT_SCREENSHOT:"STATIC_ACCEPTER_COMMIT_SCREENSHOT",STATIC_ACCEPTER_UPDATE_TOOLBAR_OFFSET:"STATIC_ACCEPTER_UPDATE_TOOLBAR_OFFSET",STATIC_ACCEPTER_UPDATE_COMMIT_MESSAGE:"STATIC_ACCEPTER_UPDATE_COMMIT_MESSAGE",CLOSE_SECTIONS:"CLOSE_SECTIONS",TOGGLE_STATE_RESULT:"TOGGLE_STATE_RESULT",TOGGLE_LOADING:"TOGGLE_LOADING",OPEN_MODAL:"OPEN_MODAL",CLOSE_MODAL:"CLOSE_MODAL",CHANGE_TEST_RETRY:"CHANGE_TEST_RETRY",VIEW_EXPAND_ALL:"VIEW_EXPAND_ALL",VIEW_EXPAND_ERRORS:"VIEW_EXPAND_ERRORS",VIEW_EXPAND_RETRIES:"VIEW_EXPAND_RETRIES",VIEW_COLLAPSE_ALL:"VIEW_COLLAPSE_ALL",CHANGE_VIEW_MODE:"CHANGE_VIEW_MODE",VIEW_UPDATE_BASE_HOST:"VIEW_UPDATE_BASE_HOST",VIEW_UPDATE_FILTER_BY_NAME:"VIEW_UPDATE_FILTER_BY_NAME",VIEW_SET_FILTER_MATCH_CASE:"VIEW_SET_FILTER_MATCH_CASE",VIEW_SET_FILTER_USE_REGEX:"VIEW_SET_FILTER_USE_REGEX",VIEW_SET_STRICT_MATCH_FILTER:"VIEW_SET_STRICT_MATCH_FILTER",SET_DIFF_MODE:"SET_DIFF_MODE",PROCESS_BEGIN:"PROCESS_BEGIN",PROCESS_END:"PROCESS_END",RUN_CUSTOM_GUI_ACTION:"RUN_CUSTOM_GUI_ACTION",BROWSERS_SELECTED:"BROWSERS_SELECTED",TOGGLE_SUITE_SECTION:"TOGGLE_SUITE_SECTION",TOGGLE_BROWSER_SECTION:"TOGGLE_BROWSER_SECTION",TOGGLE_TESTS_GROUP:"TOGGLE_TESTS_GROUP",TOGGLE_SUITE_CHECKBOX:"TOGGLE_SUITE_CHECKBOX",TOGGLE_GROUP_CHECKBOX:"TOGGLE_GROUP_CHECKBOX",UPDATE_BOTTOM_PROGRESS_BAR:"UPDATE_BOTTOM_PROGRESS_BAR",GROUP_TESTS_BY_KEY:"GROUP_TESTS_BY_KEY",GROUP_TESTS_SET_CURRENT_EXPRESSION:"GROUP_TESTS_SET_CURRENT_EXPRESSION",TOGGLE_BROWSER_CHECKBOX:"TOGGLE_BROWSER_CHECKBOX",SUITES_PAGE_SET_CURRENT_SUITE:"SUITES_PAGE_SET_CURRENT_SUITE",SUITES_PAGE_SET_CURRENT_STEP:"SUITES_PAGE_SET_CURRENT_STEP",SUITES_PAGE_SET_CURRENT_HIGHLIGHT_STEP:"SUITES_PAGE_SET_CURRENT_HIGHLIGHT_STEP",SUITES_PAGE_SET_SECTION_EXPANDED:"SUITES_PAGE_SET_SECTION_EXPANDED",SUITES_PAGE_SET_TREE_NODE_EXPANDED:"SUITES_PAGE_SET_TREE_NODE_EXPANDED",SUITES_PAGE_SET_ALL_TREE_NODES:"SUITES_PAGE_SET_ALL_TREE_NODES",SUITES_PAGE_REVEAL_TREE_NODE:"SUITES_PAGE_REVEAL_TREE_NODE",SUITES_PAGE_SET_STEPS_EXPANDED:"SUITES_PAGE_SET_STEPS_EXPANDED",SUITES_PAGE_SET_TREE_VIEW_MODE:"SUITES_PAGE_SET_TREE_VIEW_MODE",PAGE_SET_SECTION_SIZES:"PAGE_SET_SECTION_SIZES",PAGE_SET_BACKUP_SECTION_SIZES:"PAGE_SET_BACKUP_SECTION_SIZES",VISUAL_CHECKS_PAGE_SET_CURRENT_NAMED_IMAGE:"VISUAL_CHECKS_PAGE_SET_CURRENT_NAMED_IMAGE",VISUAL_CHECKS_TOGGLE_2UP_DIFF_VISIBILITY:"VISUAL_CHECKS_TOGGLE_2UP_DIFF_VISIBILITY",VISUAL_CHECKS_SET_2UP_FIT_MODE:"VISUAL_CHECKS_SET_2UP_FIT_MODE",VISUAL_CHECKS_SET_DIFF_MODE:"VISUAL_CHECKS_SET_DIFF_MODE",UPDATE_LOADING_PROGRESS:"UPDATE_LOADING_PROGRESS",UPDATE_LOADING_VISIBILITY:"UPDATE_LOADING_VISIBILITY",UPDATE_LOADING_TITLE:"UPDATE_LOADING_TITLE",UPDATE_LOADING_IS_IN_PROGRESS:"UPDATE_LOADING_IS_IN_PROGRESS",SELECT_ALL:"SELECT_ALL",DESELECT_ALL:"DESELECT_ALL",SORT_TESTS_SET_CURRENT_EXPRESSION:"SORT_TESTS_SET_CURRENT_EXPRESSION",SORT_TESTS_SET_DIRECTION:"SORT_TESTS_SET_DIRECTION",SET_GUI_SERVER_CONNECTION_STATUS:"SET_GUI_SERVER_CONNECTION_STATUS",SET_AVAILABLE_FEATURES:"SET_AVAILABLE_FEATURES",SET_SNAPSHOTS_PLAYER_HIGHLIGHT_TIME:"SET_SNAPSHOTS_PLAYER_HIGHLIGHT_TIME",SNAPSHOTS_PLAYER_GO_TO_TIME:"SNAPSHOTS_PLAYER_GO_TO_TIME",SNAPSHOTS_PLAYER_TOGGLE_VISIBILITY:"SNAPSHOTS_PLAYER_TOGGLE_VISIBILITY",SET_BROWSER_FEATURES:"SET_BROWSER_FEATURES",SET_SEARCH_LOADING:"SET_SEARCH_LOADING"}},29909:(e,t,n)=>{"use strict";n.d(t,{a:()=>a});var r=n(97566),a=function(e){return{type:r.Z.SET_BROWSER_FEATURES,payload:e}}},70839:(e,t,n)=>{"use strict";n.d(t,{M:()=>u,u:()=>l});var r=n(34795),a=n(82841),i=n.n(a),o=n(87741),c=n(97566),s=n(48394),l=function(e){return{type:c.Z.RUN_CUSTOM_GUI_ACTION,payload:e}},u=function(e){return function(){var t=(0,r.Z)(i().mark((function t(n){var r,a,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.sectionName,a=e.groupIndex,c=e.controlIndex,t.next=4,o.default.post("/run-custom-gui-action",{sectionName:r,groupIndex:a,controlIndex:c});case 4:n(l(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n((0,s.uX)("runCustomGuiAction",t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}},19272:(e,t,n)=>{"use strict";n.d(t,{Lf:()=>c,QC:()=>i,QJ:()=>s,R4:()=>u,cQ:()=>o,if:()=>l});var r=n(97566),a=n(94646),i=function(e){return{type:r.Z.VIEW_UPDATE_FILTER_BY_NAME,payload:e}},o=function(e){return{type:r.Z.VIEW_SET_FILTER_MATCH_CASE,payload:e}},c=function(e){return{type:r.Z.VIEW_SET_FILTER_USE_REGEX,payload:e}},s=function(e){return(0,a.WI)(e.data),{type:r.Z.BROWSERS_SELECTED,payload:e}},l=function(e){return{type:r.Z.SET_SEARCH_LOADING,payload:e}},u=function(e){return{type:r.Z.CHANGE_VIEW_MODE,payload:e}}},60540:(e,t,n)=>{"use strict";n.d(t,{C:()=>m});var r=n(34795),a=n(82841),i=n.n(a),o=n(76635),c=n(87741),s=n(55862),l=n(33981),u=n(70807),d=n(95834),m=function(e,t,n){return function(){var a=(0,r.Z)(i().mark((function r(a){var m,p,f,E,g;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a((0,l.o)({active:!0,content:"Find same diffs..."})),m=t.filter((function(t){return t.includes(n)&&t!==e})),p=[],r.prev=3,(0,o.isEmpty)(m)){r.next=13;break}return r.next=7,c.default.post("/get-find-equal-diffs-data",[e].concat(m));case 7:if(f=r.sent,E=f.data,(0,o.isEmpty)(E)){r.next=13;break}return r.next=12,c.default.post("/find-equal-diffs",E);case 12:p=r.sent.data;case 13:g=(0,o.difference)(t,[].concat(e,p)),(0,o.isEmpty)(g)||a((0,u.DI)(g)),r.next=20;break;case 17:r.prev=17,r.t0=r.catch(3),console.error("Error while trying to find equal diffs:",r.t0);case 20:return r.prev=20,a((0,l.o)({active:!1})),a((0,d.h)({id:s.types.FIND_SAME_DIFFS,type:s.types.FIND_SAME_DIFFS,data:{browserId:n,equalImages:p.length,comparedImages:m.length}})),r.finish(20);case 24:case"end":return r.stop()}}),r,null,[[3,17,20,24]])})));return function(e){return a.apply(this,arguments)}}()}},32481:(e,t,n)=>{"use strict";n.d(t,{I:()=>a,i:()=>i});var r=n(97566),a=function(e){return{type:r.Z.GROUP_TESTS_BY_KEY,payload:e}},i=function(e){return{type:r.Z.GROUP_TESTS_SET_CURRENT_EXPRESSION,payload:e}}},48907:(e,t,n)=>{"use strict";n.d(t,{o:()=>a});var r=n(97566),a=function(e){return{type:r.Z.SET_GUI_SERVER_CONNECTION_STATUS,payload:e}}},33981:(e,t,n)=>{"use strict";n.d(t,{o:()=>a});var r=n(97566),a=function(e){return{type:r.Z.TOGGLE_LOADING,payload:e}}},95834:(e,t,n)=>{"use strict";n.d(t,{M:()=>i,h:()=>a});var r=n(97566),a=function(e){return{type:r.Z.OPEN_MODAL,payload:e}},i=function(e){return{type:r.Z.CLOSE_MODAL,payload:e}}},48394:(e,t,n)=>{"use strict";n.d(t,{N5:()=>a.N5,sc:()=>s,uX:()=>l});var r=n(56666),a=n(78505),i=n(14054);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=c({position:a.kd.topCenter,dismissAfter:5e3,dismissible:!0,showDismissButton:!0,allowHTML:!0},r);return(0,a.h4)(c({id:e,status:t,message:n},i))},l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{dismissAfter:0};return s(e,"error",(0,i.ML)(t),n)}},84787:(e,t,n)=>{"use strict";n.d(t,{$:()=>a,E:()=>i});var r=n(97566),a=function(){return{type:r.Z.PROCESS_BEGIN}},i=function(){return{type:r.Z.PROCESS_END}}},54432:(e,t,n)=>{"use strict";n.d(t,{GC:()=>u,Ku:()=>p,Ro:()=>d,sP:()=>m});var r=n(34795),a=n(82841),i=n.n(a),o=n(87741),c=n(97566),s=n(84787),l=n(48394),u=function(e){return{type:c.Z.COMMIT_ACCEPTED_IMAGES_TO_TREE,payload:e}},d=function(e){var t=e.imageIds,n=e.shouldCommitUpdatesToTree,a=void 0===n||n;return function(){var e=(0,r.Z)(i().mark((function e(n){var r,c,d,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n((0,s.$)()),e.prev=1,e.next=4,o.default.post("/reference-data-to-update",t);case 4:return r=e.sent,c=r.data,e.next=8,o.default.post("/update-reference",c);case 8:return d=e.sent,m=d.data,a&&n(u(m)),n((0,s.E)()),e.abrupt("return",m);case 15:return e.prev=15,e.t0=e.catch(1),console.error("Error while updating references of failed tests:",e.t0),n((0,l.uX)("acceptScreenshot",e.t0)),n((0,s.E)()),e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}()},m=function(e){return{type:c.Z.COMMIT_REVERTED_IMAGES_TO_TREE,payload:e}},p=function(e){var t=e.imageIds,n=e.shouldCommitUpdatesToTree,a=void 0===n||n;return function(){var e=(0,r.Z)(i().mark((function e(n){var r,c,u,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n((0,s.$)()),e.prev=1,e.next=4,o.default.post("/reference-data-to-update",t);case 4:return r=e.sent,c=r.data,e.next=8,o.default.post("/undo-accept-images",c);case 8:u=e.sent,d=u.data,a&&n(m(d)),n((0,s.E)()),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(1),console.error("Error while reverting reference:",e.t0),n((0,l.uX)("undoScreenshot",e.t0)),n((0,s.E)());case 19:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}()}},22253:(e,t,n)=>{"use strict";n.d(t,{B:()=>a,H:()=>i});var r=n(97566),a=function(e){return{type:r.Z.VIEW_UPDATE_BASE_HOST,payload:{host:e}}},i=function(e){return{type:r.Z.SET_DIFF_MODE,payload:e}}},58311:(e,t,n)=>{"use strict";n.d(t,{Q:()=>a,u:()=>i});var r=n(97566),a=function(e){return{type:r.Z.SORT_TESTS_SET_CURRENT_EXPRESSION,payload:e}},i=function(e){return{type:r.Z.SORT_TESTS_SET_DIRECTION,payload:e}}},49012:(e,t,n)=>{"use strict";n.d(t,{A2:()=>I,FD:()=>y,Lt:()=>M,cO:()=>S,dd:()=>N,mm:()=>C,sv:()=>w,vx:()=>T,x_:()=>b});var r=n(56666),a=n(34795),i=n(82841),o=n.n(i),c=n(87741),s=n(76635),l=n(19456),u=n.n(l),d=n(55862),m=n(14054),p=n(78272),f=n(97566),E=n(95834),g=n(48394);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(e){return{type:f.Z.STATIC_ACCEPTER_DELAY_SCREENSHOT,payload:e}},S=function(){return{type:f.Z.STATIC_ACCEPTER_UNDO_DELAY_SCREENSHOT}},y=function(e){return{type:f.Z.STATIC_ACCEPTER_STAGE_SCREENSHOT,payload:e}},T=function(e){return{type:f.Z.STATIC_ACCEPTER_UNSTAGE_SCREENSHOT,payload:e}},b=function(){return(0,E.h)({id:d.types.STATIC_ACCEPTER_CONFIRM,type:d.types.STATIC_ACCEPTER_CONFIRM})},N=function(){return(0,E.M)({id:d.types.STATIC_ACCEPTER_CONFIRM})},w=function(e,t){var n=t.repositoryUrl,r=t.pullRequestUrl,i=t.serviceUrl,l=t.message,d=t.axiosRequestOptions,E=void 0===d?{}:d,v=t.meta;return function(){var t=(0,a.Z)(o().mark((function t(d){var I,S,y,T,b,w,C,M;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d({type:f.Z.PROCESS_BEGIN}),d(N()),d({type:f.Z.UPDATE_LOADING_IS_IN_PROGRESS,payload:!0}),d({type:f.Z.UPDATE_LOADING_TITLE,payload:"Preparing images to commit: 0 of ".concat(e.length)}),d({type:f.Z.UPDATE_LOADING_VISIBILITY,payload:!0}),t.prev=5,(I=new FormData).append("repositoryUrl",n),I.append("pullRequestUrl",r),I.append("message",l),(0,s.isEmpty)(v)||I.append("meta",JSON.stringify(v)),S=new(u())({concurrency:256}),y=o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:S.add((0,a.Z)(o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,m.Ow)(e[n].image);case 2:r=t.sent,I.append("image",r,e[n].path),d({type:f.Z.UPDATE_LOADING_TITLE,payload:"Preparing images to commit: ".concat(n+1," of ").concat(e.length)});case 5:case"end":return t.stop()}}),t)}))));case 1:case"end":return t.stop()}}),t)})),T=0;case 14:if(!(T<e.length)){t.next=19;break}return t.delegateYield(y(T),"t0",16);case 16:T++,t.next=14;break;case 19:return t.next=21,S.onIdle();case 21:return d({type:f.Z.UPDATE_LOADING_TITLE,payload:"Uploading images"}),t.next=24,c.default.post(i,I,h(h({},E),{},{onUploadProgress:function(e){var t;d({type:f.Z.UPDATE_LOADING_PROGRESS,payload:{"static-accepter-commit":e.loaded/(null!==(t=e.total)&&void 0!==t?t:e.loaded)}})}}));case 24:if(b=t.sent,w=e.map((function(e){return e.id})),C=e.map((function(e){return{imageId:e.id,stateNameImageId:e.stateNameImageId}})),!(b.status>=200&&b.status<400)){t.next=35;break}d({type:f.Z.STATIC_ACCEPTER_COMMIT_SCREENSHOT,payload:w}),(0,p.AM)(C),d({type:f.Z.UPDATE_LOADING_IS_IN_PROGRESS,payload:!1}),d({type:f.Z.UPDATE_LOADING_TITLE,payload:"All images committed!"}),d((0,g.sc)("commitScreenshot","success","Screenshots were successfully committed")),t.next=37;break;case 35:throw M=["Unexpected status code from the service: ".concat(b.status,"."),"Server response: '".concat(b.data,"'")].join("\n"),new Error(M);case 37:t.next=44;break;case 39:return t.prev=39,t.t1=t.catch(5),console.error("An error occurred while commiting screenshot:",t.t1),d((0,g.uX)("commitScreenshot",t.t1)),t.abrupt("return",{error:t.t1});case 44:return t.prev=44,d({type:f.Z.UPDATE_LOADING_VISIBILITY,payload:!1}),d({type:f.Z.PROCESS_END}),t.finish(44);case 48:return t.abrupt("return",{});case 49:case"end":return t.stop()}}),t,null,[[5,39,44,48]])})));return function(e){return t.apply(this,arguments)}}()},C=function(e){return{type:f.Z.STATIC_ACCEPTER_UPDATE_TOOLBAR_OFFSET,payload:e}},M=function(e){return{type:f.Z.STATIC_ACCEPTER_UPDATE_COMMIT_MESSAGE,payload:e}}},40554:(e,t,n)=>{"use strict";n.d(t,{$X:()=>u,Bq:()=>i,Gm:()=>o,KW:()=>m,Nu:()=>s,Qh:()=>f,_r:()=>a,cI:()=>c,gM:()=>p,o9:()=>l,tF:()=>E,zE:()=>d});var r=n(97566),a=function(e){return{type:r.Z.SUITES_PAGE_SET_CURRENT_SUITE,payload:e}},i=function(e){return{type:r.Z.SUITES_PAGE_SET_CURRENT_STEP,payload:e}},o=function(e){return{type:r.Z.SUITES_PAGE_SET_CURRENT_HIGHLIGHT_STEP,payload:e}},c=function(e){return{type:r.Z.SUITES_PAGE_SET_TREE_NODE_EXPANDED,payload:e}},s=function(e){return{type:r.Z.SUITES_PAGE_SET_ALL_TREE_NODES,payload:e}},l=function(e){return{type:r.Z.SUITES_PAGE_REVEAL_TREE_NODE,payload:e}},u=function(e){return{type:r.Z.SUITES_PAGE_SET_SECTION_EXPANDED,payload:e}},d=function(e){return{type:r.Z.SUITES_PAGE_SET_STEPS_EXPANDED,payload:e}},m=function(e){return{type:r.Z.SUITES_PAGE_SET_TREE_VIEW_MODE,payload:e}},p=function(e){return{type:r.Z.PAGE_SET_SECTION_SIZES,payload:e}},f=function(e){return{type:r.Z.PAGE_SET_BACKUP_SECTION_SIZES,payload:e}},E=function(e){return{type:r.Z.VIEW_SET_STRICT_MATCH_FILTER,payload:e}}},70807:(e,t,n)=>{"use strict";n.d(t,{Cd:()=>h,DI:()=>i,IP:()=>g,LL:()=>v,T9:()=>E,V1:()=>s,Z$:()=>f,cd:()=>m,iB:()=>I,kF:()=>d,kR:()=>c,nS:()=>p,qz:()=>a,td:()=>o,tp:()=>u,vf:()=>l});var r=n(97566),a=function(e){return{type:r.Z.TOGGLE_STATE_RESULT,payload:e}},i=function(e){return{type:r.Z.CLOSE_SECTIONS,payload:e}},o=function(){return{type:r.Z.SELECT_ALL}},c=function(){return{type:r.Z.DESELECT_ALL}},s=function(){return{type:r.Z.VIEW_EXPAND_ALL}},l=function(){return{type:r.Z.VIEW_EXPAND_ERRORS}},u=function(){return{type:r.Z.VIEW_EXPAND_RETRIES}},d=function(){return{type:r.Z.VIEW_COLLAPSE_ALL}},m=function(e){return{type:r.Z.TOGGLE_SUITE_SECTION,payload:e}},p=function(e){return{type:r.Z.TOGGLE_BROWSER_SECTION,payload:e}},f=function(e){return{type:r.Z.TOGGLE_BROWSER_CHECKBOX,payload:e}},E=function(e){return{type:r.Z.TOGGLE_SUITE_CHECKBOX,payload:e}},g=function(e){return{type:r.Z.TOGGLE_GROUP_CHECKBOX,payload:e}},v=function(e){return{type:r.Z.UPDATE_BOTTOM_PROGRESS_BAR,payload:e}},h=function(e){return{type:r.Z.TOGGLE_TESTS_GROUP,payload:e}},I=function(e){return{type:r.Z.CHANGE_TEST_RETRY,payload:e}}},84006:(e,t,n)=>{"use strict";n.d(t,{Bt:()=>o,Ll:()=>a,MT:()=>c,ZD:()=>i});var r=n(97566),a=function(e){return{type:r.Z.VISUAL_CHECKS_PAGE_SET_CURRENT_NAMED_IMAGE,payload:e}},i=function(e){return{type:r.Z.VISUAL_CHECKS_TOGGLE_2UP_DIFF_VISIBILITY,payload:{isVisible:e}}},o=function(e){return{type:r.Z.VISUAL_CHECKS_SET_2UP_FIT_MODE,payload:{fitMode:e}}},c=function(e){return{type:r.Z.VISUAL_CHECKS_SET_DIFF_MODE,payload:{diffModeId:e}}}},94646:(e,t,n)=>{"use strict";n.d(t,{Hc:()=>d,V$:()=>u,WI:()=>m,mB:()=>s});var r=n(68079),a=n(96234),i=n(19126),o=n.n(i),c=n(76635);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e&&"string"==typeof e?("?"===e[0]&&(e=e.slice(1)),o().parse(e,{decoder:function(e,n,r,a){if("key"===a){var i=n(e,null,r);return t[i]?t[i]:i}var o=n(e,null,r);return"true"===o||"false"!==o&&(o&&!isNaN(o)?Number(o):o)}})):{}}function l(e){return e.map((function(e){var t=e.id,n=e.versions,r=encodeURIComponent(t);if((0,c.isEmpty)(n))return r;var a=n.map(encodeURIComponent).join(",");return"".concat(r,":").concat(a)}))}function u(e){return[].concat(e).filter(Boolean).map((function(e){var t=e.split(":"),n=(0,a.Z)(t,2),r=n[0],i=n[1],o=(void 0===i?"":i).split(",").map(decodeURIComponent);return{id:decodeURIComponent(r),versions:(0,c.compact)(o)}}))}function d(e,t){return e.map((function(e){if((0,c.isEmpty)(e.versions)){var n=t.find((function(t){return t.id===e.id}));if(n)return{id:e.id,versions:(0,r.Z)(n.versions)}}return e}))}function m(e){var t,n,r,a,i,s=(t=window.location.href,n={browser:l(e)},r=new URL(t),a=r.search||"",i=(0,c.assign)(o().parse(a.slice(1)),n),r.search=o().stringify(i,{arrayFormat:"repeat"}),r.href);window.history.pushState(null,null,s)}},98645:(e,t,n)=>{"use strict";n.d(t,{ZL:()=>s,xU:()=>c,yC:()=>l});var r,a=n(64141),i=n(61394),o=new Set([]),c=function(e){var t=e.results.allIds,a={};t.forEach((function(t){var n,r=e.results.byId[t],o=null===(n=r.attachments)||void 0===n?void 0:n.find((function(e){return e.type===i.s.Tags}));a[r.parentId]=o?o.list.map((function(e){return e.title})):[]})),"undefined"!=typeof Worker&&(r=new Worker(new URL(n.p+n.u(938),n.b))).postMessage({type:"init",data:a})},s=function(e){return o.has(e)},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;s((0,a.setSearchLoading)(!0)),new Promise((function(a){n?a([]):r?(r.postMessage({type:"search",data:{text:e,matchCase:t}}),r.onmessage=function(e){a(e.data)},r.onerror=function(){console.error("Error while searching ".concat(e)),a([])}):a([])})).then((function(n){o=new Set(n),s(c?(0,a.setMatchCaseFilter)({data:t,page:i}):(0,a.updateNameFilter)({data:e,page:i})),s((0,a.setSearchLoading)(!1))}))}},47039:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getStatsFilteredByBrowsers:()=>o});var r=n(97698),a=n(76635),i=n(51869),o=(0,r.createSelector)((function(e){return e.stats}),i.getFilteredBrowsers,(function(e,t){if((0,a.isEmpty)(t)||(0,a.isEmpty)(e.perBrowser))return e.all;var n={},r=t.map((function(t){var n=t.id,r=t.versions;return(0,a.isEmpty)(r)?(0,a.keys)(e.perBrowser[n]).map((function(t){return e.perBrowser[n][t]})):r.map((function(t){return e.perBrowser[n][t]}))}));return(0,a.flatten)(r).forEach((function(e){(0,a.forEach)(e,(function(e,t){n[t]=void 0===n[t]?e:n[t]+e}))})),n}))},69875:(e,t,n)=>{"use strict";n.r(t),n.d(t,{areAllRootSuitesIdle:()=>U,getAcceptableImagesByStateName:()=>I,getAcceptableOpenedImageIds:()=>N,getCheckedTests:()=>h,getFailedOpenedImageIds:()=>w,getFailedSuiteResults:()=>P,getFailedTests:()=>v,getSelectedBrowserIds:()=>M,getSelectedImages:()=>D,getSuiteResults:()=>L,getVisibleBrowserIds:()=>C,getVisibleImages:()=>A,getVisibleRootSuiteIds:()=>k,mkGetLastImageByStateName:()=>g,mkGetTestsBySuiteId:()=>E});var r=n(76635),a=n(97698),i=n(37487),o=n(9560),c=n(14054),s=n(40645),l=n(8776),u=function(e){return e.tree.suites.stateById},d=function(e){return e.tree.browsers.allIds},m=function(e){return e.tree.browsers.stateById},p=function(e,t){var n=t.suiteId;return e.tree.suites.byId[n]},f=function(e,t){var n=t.imageId;return e.tree.images.byId[n]},E=function(){return(0,a.createSelector)(p,s.Bl,s.TZ,(function(e,t,n){return x(e,{suites:t,browsers:n}).map((function(e){return{testName:e.parentId,browserName:e.name}}))}))},g=function(){return(0,a.createSelector)(f,s.TZ,s.O7,s.Jx,Z)},v=(0,a.createSelector)(s.Bl,s.TZ,s.O7,(function(e){return e.tree.suites.failedRootIds}),(function(e,t,n,a){return(0,r.flatMap)(a,(function(a){return L(e[a],{suites:e,browsers:t,results:n},r.last)})).filter((function(e){return(0,c.D8)(e)})).map((function(e){var n=e.parentId,r=t[n];return{testName:r.parentId,browserName:r.name,metaInfo:e.metaInfo}}))})),h=(0,a.createSelector)(d,s.TZ,m,(function(e,t,n){return e.filter((function(e){return n[e].checkStatus})).map((function(e){return{testName:t[e].parentId,browserName:t[e].name}}))})),I=(0,a.createSelector)(m,s.TZ,s.O7,s.Jx,(function(e,t,n,a){var i=function(e){var r=B(e,t,n);return{suiteId:r.parentId,browserName:r.name}},o=Object.keys(e).filter((function(t){return e[t].shouldBeShown})).map((function(e){return t[e]}));return(0,r.flatMap)(o,(function(e){return R(e,{results:n,images:a})})).filter(c.h3).sort((function(e,t){var n=i(e),r=n.suiteId,a=n.browserName,o=i(t),c=o.suiteId,s=o.browserName,l=r.localeCompare(c);return 0===l?a.localeCompare(s):l})).reduce((function(e,r){var i=Z(r,t,n,a);if((0,c.F7)(i))return e;var o=n[r.parentId],s="".concat(o.parentId," ").concat(r.stateName);return e[s]?e[s].push(r):e[s]=[r],e}),{})})),S=(0,a.createSelector)(s.EZ,s.Bl,u,(function(e,t,n){var a=function(e){var t=n[e.id],r=t.shouldBeShown,a=t.shouldBeOpened;return r&&a},i=e.map((function(e){return t[e]})).filter(a);return(0,r.flatMap)(i,(function(e){return _(e,{suites:t},a)}))})),y=(0,a.createSelector)(S,s.TZ,m,S,(function(e,t,n){return(0,r.flatMap)(e,(function(e){return e.browserIds})).filter((function(e){var t=n[e],r=t.shouldBeShown,a=t.shouldBeOpened;return r&&a})).map((function(e){return t[e]}))})),T=(0,a.createSelector)(y,m,s.O7,(function(e,t,n){return e.map((function(e){var r=t[e.id].retryIndex,a=e.resultIds[r];return n[a]}))})),b=(0,a.createSelector)(T,s.Jx,(function(e){return e.tree.images.stateById}),(function(e,t,n){return(0,r.flatMap)(e,(function(e){return e.imageIds.filter((function(e){return n[e].shouldBeOpened})).map((function(e){return t[e]}))}))})),N=(0,a.createSelector)(b,(function(e){return e.filter(c.h3).map((function(e){return e.id}))})),w=(0,a.createSelector)(b,(function(e){return e.filter(c.D8).map((function(e){return e.id}))})),C=(0,a.createSelector)(d,m,(function(e,t){return e.filter((function(e){return t[e].shouldBeShown}))})),M=(0,a.createSelector)(d,s.TZ,m,(function(e,t,n){return e.filter((function(e){return n[e].checkStatus===l.ri}))})),O=function(e,t,n,a,i,o){return e.map((function(e){return(0,r.last)(t[e].resultIds)})).flatMap((function(e){return n[e].imageIds.map((function(e){return a[e]})).filter((function(e){return(0,c.h3)(e)||(0,c.KD)({image:e,isLastResult:!0,isStaticImageAccepterEnabled:i,gui:o})}))}))},A=(0,a.createSelector)(C,s.TZ,s.O7,s.Jx,s.Qy,s.Fn,O),D=(0,a.createSelector)(M,s.TZ,s.O7,s.Jx,s.Qy,s.Fn,O),k=(0,a.createSelector)((function(e){return e.app.suitesPage.viewMode===i.w.FAILED?e.tree.suites.failedRootIds:e.tree.suites.allRootIds}),u,(function(e,t){return e.filter((function(e){return t[e].shouldBeShown}))}));function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.identity,a=t.suites,i=t.browsers,o=t.results;return(0,c.Et)(e,{suiteCb:function(e){return L(a[e],t,n)},browserCb:function(e){return[].concat(n(i[e].resultIds)).map((function(e){return o[e]}))}})}function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.identity;return n(e)?(0,c.Et)(e,{suiteCb:function(e){return _(t.suites[e],t,n)},browserIdsCb:function(e,t){return[t]}}):[]}function x(e,t){var n=t.suites,a=t.browsers;return e.browserIds?e.browserIds.map((function(e){return a[e]})):(0,r.flatMap)(e.suiteIds,(function(e){return x(n[e],t)}))}function R(e,t){var n=t.results,a=t.images;return e.imageIds?[].concat(e.imageIds).map((function(e){return a[e]})):(0,r.flatMap)(e.resultIds,(function(e){return R(n[e],t)}))}function P(e){var t=e.suites.failedRootIds.map((function(t){return e.suites.byId[t]})),n=(0,r.compact)((0,r.flatMap)(t,(function(t){return j(t,e.suites.byId)})));return(0,r.flatMap)(n,(function(t){return(0,c.Et)(t,{browserCb:function(t){return e.browsers.byId[t].resultIds.map((function(t){return e.results.byId[t]}))}})}))}function j(e,t){return(0,c.D8)(e)?(0,c.Et)(e,{suiteCb:function(e){return j(t[e],t)},browserIdsCb:function(e,t){return[t]}}):[]}function Z(e,t,n,a){var i=B(e,t,n),o=(0,r.flatMap)(i.resultIds,(function(e){return n[e].imageIds.map((function(e){return a[e]}))}));return(0,r.findLast)(o,{stateName:e.stateName})}function B(e,t,n){return t[n[e.parentId].parentId]}var U=(0,a.createSelector)(s.EZ,s.Bl,(function(e,t){return!e.some((function(e){return!(0,o.nc)(t[e].status)}))}))},51869:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getFilteredBrowsers:()=>r,getKeyToGroupTestsBy:()=>a});var r=function(e){return e.app.suitesPage.filteredBrowsers},a=function(e){return e.view.keyToGroupTestsBy}},78272:(e,t,n)=>{"use strict";n.d(t,{AM:()=>v,Iv:()=>g,O$:()=>h,Yo:()=>f,fQ:()=>p});var r=n(56666),a=n(13980),i=n.n(a),o=n(76635),c=n(27202),s=n(31804);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=null,m="static-image-accepter",p=function(e,t){if(null!==d)return d;if(!e||!e.enabled||t)return d=!1;var n=["repositoryUrl","pullRequestUrl","serviceUrl"].filter((function(t){return!e[t]}));return n.length?(console.error("staticImageAccepter is disabled. Invalid config: '".concat(n.join(", "),"' is(/are) missing!")),d=!1):d=!0},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e.filter((function(e){return e.commitStatus===c.Ez})).map((function(e){return{imageId:e.id,stateNameImageId:e.stateNameImageId}})).concat(n);if(r.find((function(e){var n,r=e.imageId;return!(null!==(n=t[r].refImg)&&void 0!==n&&n.relativePath)})))throw new Error('The version of your tool does not support static image accepter: missing "relativePath"');return r.map((function(e){var n=e.imageId;return{id:n,stateNameImageId:e.stateNameImageId,image:t[n].actualImg.path,path:t[n].refImg.relativePath}}))},E=function(){var e=(0,o.get)(window,["data","date"]),t=(0,o.get)(window,["location","pathname"]),n=s.rV(m,null);return n&&n.date===e&&n.pathName===t?n.commitedImages:{}},g=function(){return Object.values(E())},v=function(e){var t=(0,o.get)(window,["data","date"]),n=(0,o.get)(window,["location","pathname"]),r=E(),a=e.reduce((function(e,t){var n=t.imageId;return e[t.stateNameImageId]=n,e}),{});s.LS(m,{date:t,pathName:n,commitedImages:u(u({},r),a)})},h=i().shape({enabled:i().bool.isRequired,accepterDelayedImages:i().arrayOf(i().shape({imageId:i().string.isRequired,stateName:i().string.isRequired,stateNameImageId:i().string.isRequired})).isRequired,acceptableImages:i().objectOf(i().shape({id:i().string.isRequired,parentId:i().string.isRequired,stateName:i().string.isRequired,commitStatus:i().oneOf([null,c.Ez,c.t6]),originalStatus:i().string.isRequired}))})},79483:(e,t,n)=>{"use strict";n.d(t,{m:()=>s,p:()=>c});var r=n(9249),a=n(87371),i=n(56666),o=function(){function e(){(0,r.Z)(this,e)}return(0,a.Z)(e,null,[{key:"createPreloadLink",value:function(e){var t=document.createElement("link");return t.rel="preload",t.as="image",t.href=e,document.head.appendChild(t),t}},{key:"register",value:function(t){e.cache[t]||(e.cache[t]=e.createPreloadLink(t))}},{key:"dispose",value:function(t){var n;null===(n=e.cache[t])||void 0===n||n.remove(),delete e.cache[t]}}]),e}();function c(e){return o.register(e),function(){return o.dispose(e)}}function s(e){var t=[];return function(e){return Object.hasOwn(e,"expectedImg")}(e)&&t.push(c(e.expectedImg.path)),function(e){return Object.hasOwn(e,"actualImg")}(e)&&t.push(c(e.actualImg.path)),function(e){return Object.hasOwn(e,"diffImg")}(e)&&t.push(c(e.diffImg.path)),function(e){return Object.hasOwn(e,"refImg")}(e)&&t.push(c(e.refImg.path)),function(){return t.forEach((function(e){return e()}))}}(0,i.Z)(o,"cache",{})},14054:(e,t,n)=>{"use strict";n.d(t,{An:()=>N,D8:()=>f,Et:()=>b,F7:()=>E,Gz:()=>y,KD:()=>v,ML:()=>I,Ow:()=>w,TV:()=>S,V_:()=>h,h3:()=>g,kp:()=>T,rm:()=>m.rm});var r=n(86522),a=n(34795),i=n(46840),o=n(68079),c=n(82841),s=n.n(c),l=n(76635),u=n(9560),d=n(27202),m=n(21990),p=Object.values(d.SA);function f(e){return(0,u.R6)(e.status)||(0,u.KM)(e.status)}function E(e){return(0,u.Mg)(e.status)||(0,u.Cr)(e.status)||(0,u.Cx)(e.status)||(0,u.hO)(e.status)}function g(e){var t=e.status,n=e.error;return(0,u.KM)(t)&&((0,u.S5)(n)||(0,u.Ne)(n))||(0,u.R6)(t)||(0,u.sx)(t)}function v(e){var t=e.gui,n=e.image,r=e.isLastResult,a=e.isStaticImageAccepterEnabled;return function(e){var t=e.gui,n=e.image,r=e.isLastResult;return t&&n.stateName&&r&&(0,u.Cr)(n.status)}({gui:t,image:n,isLastResult:r})||function(e){var t=e.gui,n=e.image,r=e.isStaticImageAccepterEnabled;return!t&&r&&n.stateName&&(0,u.Cx)(n.status)}({gui:t,image:n,isStaticImageAccepterEnabled:a})}function h(e){if(!e)return"";var t=(0,l.isEmpty)(navigator.languages)?navigator.language:navigator.languages[0];return new Date(e).toLocaleString(t)}function I(e){var t=e.message,n=e.response;return n?"(".concat(n.status,") ").concat(n.data):t}function S(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.strictMatchFilter,i=r.useMatchCaseFilter,o=void 0!==i&&i,c=r.useRegexFilter,s=void 0!==c&&c,l=r.isNewUi,u=arguments.length>4?arguments[4]:void 0;if(!n)return!0;if(!(void 0===l||l))return function(e,t,n,r){if(!n)return!0;var a=n.replace(/ /g,"(?: | › )");return r?new RegExp("^".concat(a,"$")).test(e):new RegExp(a).test("".concat(e," ").concat(t))}(e,t,n,a);var m=o?"":"i";if(s)try{var p=new RegExp(n,m);return p.test(e)||p.test("".concat(e," ").concat(t))}catch(e){return!1}if(a){var f=n.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),E="^".concat(f.replace(/ /g,"(?: | › )"),"$");try{var g=new RegExp(E,m);return g.test(e)||g.test("".concat(e," ").concat(t))}catch(e){return console.warn("An error occurred while comparing test name in strict mode: ".concat(E,". Please file an issue at ").concat(d.WY)),!1}}return u}function y(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;return n===d.wO.ALL||(!(n!==d.wO.PASSED||!(0,u.Mg)(t))||(!(n!==d.wO.FAILED||!(0,u.R6)(t)&&!(0,u.KM)(t))||(n===d.wO.RETRIED?(0,m.xg)(e,r,"resultIds.length")>1:t===n)))}function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;if((0,l.isEmpty)(t))return!0;var r=(0,l.find)(t,{id:(0,m.xg)(e,n,"name")});if(!r)return!1;var a=[].concat(r.versions).filter(Boolean);return!!(0,l.isEmpty)(a)||a.includes((0,m.xg)(e,n,"version"))}function b(e,t){var n=t.suiteCb,r=t.browserCb,a=t.browserIdsCb,i=[],c=[];return e.browserIds&&[r,a].some(l.isFunction)&&(i=a?a(e.browserIds,e):(0,l.flatMap)(e.browserIds,(function(t){return r(t,e)}))),e.suiteIds&&(0,l.isFunction)(n)&&(c=(0,l.flatMap)(e.suiteIds,(function(t){return n(t,e)}))),[].concat((0,o.Z)(i),(0,o.Z)(c))}function N(e){var t=e.split(d.QV),n=(0,i.Z)(t),r=n[0],a=n.slice(1);if(a=a.join(d.QV),!p.includes(r))throw new Error("Group section must be one of ".concat(p.join(", "),", but got ").concat(r));if(r===d.SA.RESULT&&!d.Kr.includes(a))throw new Error("Group key must be one of ".concat(d.Kr.join(", "),", but got ").concat(a));return[r,a]}function w(e){return C.apply(this,arguments)}function C(){return C=(0,a.Z)(s().mark((function e(t){var n,a,i,o,c=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n=c.length>1&&void 0!==c[1]?c[1]:3,i=s().mark((function e(){var r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a--,e.prev=1,e.next=4,new Promise((function(e,n){var r=new XMLHttpRequest;r.onload=function(){return e(r.response)},r.onerror=function(){return n(new Error("Got an error trying to download object at: ".concat(t)))},r.open("GET",t),r.responseType="blob",r.send()}));case 4:return e.t0=e.sent,e.abrupt("return",{v:e.t0});case 8:if(e.prev=8,e.t1=e.catch(1),!(a<0)){e.next=12;break}throw e.t1;case 12:return r=n-a,i=500*Math.pow(2,r),e.next=16,new Promise((function(e){return setTimeout(e,i)}));case 16:case"end":return e.stop()}}),e,null,[[1,8]])}));case 3:if(!(a>=0)){e.next=10;break}return e.delegateYield(i(),"t0",5);case 5:if(o=e.t0,"object"!==(0,r.Z)(o)){e.next=8;break}return e.abrupt("return",o.v);case 8:e.next=3;break;case 10:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}},35161:(e,t,n)=>{"use strict";n.d(t,{g:()=>Fc});var r=n(91545),a=n(34871),i=n(63690),o=(n(43810),n(636),n(2784)),c=n(4792),s=n(73557),l=n(39857),u=n(56666),d=n(96234);const m={container:"lnO8uESZgfvSVtEYpGam",hidden:"CCI5LqUNgjS7zF83pAM6",message:"_0P3PuPuWLCazLlHikM5Q","message-container":"ctAvRjl5qkms0WmO9Dyu",messageContainer:"ctAvRjl5qkms0WmO9Dyu",loader:"pYmZDVrmXITQHOBg1tOt",l3:"gOFBlufBkLmypSqR7R2v","progress-container":"yVAMk4VsEQ_6jVIb0ZeI",progressContainer:"yVAMk4VsEQ_6jVIb0ZeI","progress-pulse":"sp69klhG7YYuGCk2ohtA",progressPulse:"sp69klhG7YYuGCk2ohtA"};var p=function(e){var t=Object.values(e.app.loading.progress);return 0===t.length?1:t.reduce((function(e,t){return e+t}),0)/t.length},f=n(72779),E=n.n(f);function g(){var e=(0,c.useSelector)((function(e){return e.app.loading.isVisible})),t=(0,c.useSelector)((function(e){return e.app.loading.isInProgress})),n=(0,o.useRef)(e),r=(0,c.useSelector)(p),a=(0,c.useSelector)((function(e){return e.app.loading.taskTitle})),i=o.useState(!0),s=(0,d.Z)(i,2),l=s[0],f=s[1];return(0,o.useEffect)((function(){n.current=e;var t=setTimeout((function(){e===n.current&&f(!e)}),500);return function(){return clearTimeout(t)}}),[e]),o.createElement("div",{className:E()(m.container,(0,u.Z)({},m.hidden,l))},o.createElement("div",{className:m.messageContainer},o.createElement("div",{className:m.message},o.createElement("span",null,a),t&&o.createElement("div",{className:m.loader}))),o.createElement("div",{className:m.progressContainer,style:{width:"".concat(100*r,"%")}},o.createElement("div",{className:m.progressPulse})))}var v=n(34795),h=n(82841),I=n.n(h),S=n(17943),y=n(28316);const T={container:"_Whrj1os2LaeakwNCWXc",dragging:"nny5LU0yAUoYFCPqorjl",visible:"h5wWg4eXX6Ef2iJDlryi","icon-container":"Zn_L8aLsSwvb6op30RbA",iconContainer:"Zn_L8aLsSwvb6op30RbA"};function b(e){var t,n=(0,o.useState)(!1),r=(0,d.Z)(n,2),a=r[0],c=r[1],s=(0,o.useState)({x:0,y:0}),l=(0,d.Z)(s,2),m=l[0],p=l[1],f=function(t){if(a&&e.draggable){var n={x:t.clientX-m.x,y:t.clientY-m.y};e.draggable.onOffsetChange(n)}},g=function(){c(!1)};return(0,o.useEffect)((function(){return a?(document.body.style.userSelect="none",document.addEventListener("mousemove",f),document.addEventListener("mouseup",g)):(document.body.style.userSelect="auto",document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",g)),function(){document.body.style.userSelect="auto",document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",g)}}),[a]),(0,y.createPortal)(o.createElement("div",{style:e.draggable?{"--x":e.draggable.offset.x,"--y":e.draggable.offset.y}:{},className:E()(T.container,e.className,(t={},(0,u.Z)(t,T.visible,e.isVisible),(0,u.Z)(t,T.dragging,a),t))},o.createElement("div",{className:T.iconContainer},e.draggable&&o.createElement("span",{onMouseDown:function(t){e.draggable&&(c(!0),p({x:t.clientX-e.draggable.offset.x,y:t.clientY-e.draggable.offset.y}))}},o.createElement(i.Icon,{data:S.Z}))),e.children),document.body)}var N=n(88089),w=n(37283);const C={container:"FAV97LLAqyGsXyP9FlJ5","buttons-container":"xw120Yd5IR_HMqKpWYp_",buttonsContainer:"xw120Yd5IR_HMqKpWYp_",title:"wiY78pdZ9qzQZNdMwhhJ",button:"iX3eJNi_qplLUklfzHEu regular-button","primary-button":"XMmHFWjGcfFG6skzXtpi",primaryButton:"XMmHFWjGcfFG6skzXtpi","modal-container":"btAIBB2I8fIo0a8_s3UK",modalContainer:"btAIBB2I8fIo0a8_s3UK","modal-description":"v9MDW0qGIYeLZgFPOfNr",modalDescription:"v9MDW0qGIYeLZgFPOfNr","modal-field-label":"jEZBeZsifpKQoioykkK6",modalFieldLabel:"jEZBeZsifpKQoioykkK6","modal-input":"RpmfSkLvOcu30db6Nz0Z",modalInput:"RpmfSkLvOcu30db6Nz0Z","modal-buttons-container":"aZkH5agDK5fZGNbNWDu5",modalButtonsContainer:"aZkH5agDK5fZGNbNWDu5","modal-button-primary":"UHGj8uihkjyzsLOKc5j_ regular-button from global, action-button",modalButtonPrimary:"UHGj8uihkjyzsLOKc5j_ regular-button from global, action-button"};var M=n(64141),O=n(27202),A=n(78272),D=n(76635),k=n.n(D);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(){var e=(0,c.useDispatch)(),t=(0,i.useToaster)(),n=(0,c.useSelector)((function(e){return e.processing})),r=(0,c.useSelector)((function(e){return e.tree.images.byId})),a=(0,c.useSelector)((function(e){return e.staticImageAccepter.acceptableImages})),l=(0,c.useSelector)((function(e){return e.staticImageAccepter.accepterDelayedImages})),u=Object.values(a).filter((function(e){return e.commitStatus===O.ih.STAGED})),m=(0,c.useSelector)((function(e){return e.config.staticImageAccepter})),p=(0,c.useSelector)((function(e){return e.config.staticImageAccepter.pullRequestUrl})),f=(0,c.useSelector)((function(e){return e.ui.staticImageAccepterToolbar.offset})),g=(0,s.TH)(),h=(0,o.useState)(null),S=(0,d.Z)(h,2),y=S[0],T=S[1],k=(0,o.useState)(!1),L=(0,d.Z)(k,2),x=L[0],R=L[1],P=(0,c.useSelector)((function(e){return e.app.staticImageAccepterModal.commitMessage}));(0,o.useEffect)((function(){var e=u.length>0&&!n&&!x&&[O.HL.suites,O.HL.visualChecks].some((function(e){return g.pathname.startsWith(e)}));Boolean(e)!==Boolean(y)&&T(e)}),[u,g,x]);var j=function(){var n=(0,v.Z)(I().mark((function n(){var i,c,s;return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=(0,A.Yo)(Object.values(a),r,l),c=_(_({},(0,D.pick)(m,["repositoryUrl","pullRequestUrl","serviceUrl","axiosRequestOptions","meta"])),{},{message:P}),R(!1),n.next=5,e((0,M.staticAccepterCommitScreenshot)(i,c));case 5:(s=n.sent).error&&t.add({name:"static-accepter-error",title:"Failed to commit images",content:s.error.message+". See console for details.",isClosable:!0,autoHiding:5e3,renderIcon:function(){return o.createElement(N.Z,{className:"toaster__icon--error",width:20,height:20})},className:"toaster"});case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return o.createElement(b,{isVisible:y,className:C.container,draggable:{offset:f,onOffsetChange:function(t){e((0,M.staticAccepterUpdateToolbarOffset)({offset:t}))}}},o.createElement("div",null,u.length," ",u.length>1?"images are":"image is"," staged for commit"),o.createElement("div",{className:C.buttonsContainer},o.createElement(i.Button,{view:"flat-contrast",className:C.button,onClick:function(){e((0,M.staticAccepterUnstageScreenshot)(u.map((function(e){return e.id}))))}},"Cancel"),o.createElement(i.Button,{view:"normal-contrast",className:E()(C.primaryButton,C.button),onClick:function(){R(!0)}},"Commit...")),o.createElement(i.Modal,{open:x,onClose:function(){return R(!1)},contentClassName:C.modalContainer},o.createElement("div",{className:"text-header-1"},"Commit images"),o.createElement("div",{className:C.modalDescription},"Commit with ",u.length," ",u.length>1?"images":"image"," will be added to your pull request at ",o.createElement("a",{href:p,target:"_blank",rel:"noreferrer"},p),"."),o.createElement("div",{className:C.modalFieldLabel},"Commit Message"),o.createElement(i.TextInput,{className:C.modalInput,value:P,onUpdate:function(t){e((0,M.staticAccepterUpdateCommitMessage)({commitMessage:t}))}}),o.createElement("div",{className:C.modalButtonsContainer},o.createElement(i.Button,{view:"flat",className:C.button,onClick:function(){R(!1)}},"Cancel"),o.createElement(i.Button,{view:"action",className:C.modalButtonPrimary,onClick:j},o.createElement(i.Icon,{data:w.Z}),"Commit"))))}var R=n(11727),P=n(16060),j=n(40645),Z=n(2542),B=n(24298),U=n(57159);const z={container:"ngrs5mVBeAlYXfHWBJXn",divider:"BO7pOO65LGTLghKX4XEf"};function F(e){return o.createElement("div",{className:E()(z.container,e.className)},o.createElement("h2",{className:E()("text-display-1"),"data-qa":"aside-panel-title"},e.title),o.createElement(i.Divider,{className:z.divider,orientation:"horizontal"}),e.children)}var G=n(10431),H=n(63550);const V={container:"GZUFCStbf0CDjlxJFCpX","text-container":"TJzZcWwIu5mBPKg3eyYF",textContainer:"TJzZcWwIu5mBPKg3eyYF",title:"JVNFhJhbJhIpMyWaD02f",description:"pa8e9Xu2uszdGKlBM7Gp"};function Y(e){return o.createElement("div",{className:V.container},o.createElement("div",{className:V.textContainer},o.createElement("div",{className:V.title},e.title),e.description&&o.createElement("div",{className:V.description},e.description)),o.createElement(i.Switch,{checked:e.checked,onUpdate:e.onUpdate}))}var W=n(32444);const Q={sections:"kBR0zSo3Phnma59SvT_C"};var K=n(59740),X=n(9249),q=n(87371),J=n(45754),$=n(11987),ee=n(95058),te=n(13980),ne=n.n(te),re=n(6857),ae=n(58841),ie=["name","children"];function oe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ce(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ce(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function se(e){var t=le();return function(){var n,r=(0,ee.Z)(e);if(t){var a=(0,ee.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,$.Z)(this,n)}}function le(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(le=function(){return!!e})()}var ue=function(e){(0,J.Z)(n,e);var t=se(n);function n(){return(0,X.Z)(this,n),t.apply(this,arguments)}return(0,q.Z)(n,[{key:"render",value:function(){var e=ae.xj();if(e.length){var t=this.props,n=t.name,r=t.children,a=(0,K.Z)(t,ie);return function(e,t,n){var r,a=t,i=oe(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;a=de(o.PluginComponent,n,a,o.position,o.config)}}catch(e){i.e(e)}finally{i.f()}return a}(me(e,n),r,a)}return this.props.children}}]),n}(o.Component);function de(e,t,n,r,a){switch(r){case"wrap":return o.createElement(re.Z,{fallback:n},o.createElement(e,t,n));case"before":return o.createElement(o.Fragment,null,o.createElement(re.Z,null,o.createElement(e,t)),n);case"after":return o.createElement(o.Fragment,null,n,o.createElement(re.Z,null,o.createElement(e,t)));default:return console.error("".concat(ge(a),' unexpected position "').concat(r,'" specified.')),n}}function me(e,t){return e.map((function(e){try{var t=ae.U2(e.name,e.component);return{PluginComponent:t,name,point:pe(t,e),position:fe(t,e),config:e}}catch(e){return console.error(e),{}}})).filter((function(e){var n=e.point,r=e.position;return n&&r&&n===t}))}function pe(e,t){return Ee(e,t,"point")}function fe(e,t){return Ee(e,t,"position")}function Ee(e,t,n){return e[n]&&t[n]&&e[n]!==t[n]?(console.error("".concat(ge(t),' "').concat(n,'" field does not match the one from the config: "').concat(o.Component[n],'" vs "').concat(t[n],'".')),null):e[n]||t[n]?e[n]||t[n]:(console.error("".concat(ge(t),' "').concat(n,'" field is not set.')),null)}function ge(e){return'Component "'.concat(e.component,'" of "').concat(e.name,'" plugin')}(0,u.Z)(ue,"propTypes",{name:ne().string.isRequired,children:ne().oneOfType([ne().element,ne().string,ne().array])});var ve=function(e){return e.SettingsPanel="settings-panel",e.ResultMeta="result_meta",e.RunTestOptions="run-test-options",e}({});function he(){var e=(0,c.useDispatch)(),t=(0,H.z)(),n=(0,c.useSelector)((function(e){return e.view.baseHost})),r=(0,c.useSelector)((function(e){return e.app.availableFeatures.some((function(e){return e.name===O.qW.name}))})),a=(0,U.Z)(B.Fe.UIMode,B.HT.New),s=(0,d.Z)(a,2)[1],l=(0,U.Z)(B.Fe.TimeTravelUseRecommendedSettings,!0),u=(0,d.Z)(l,2),m=u[0],p=u[1],f=(0,o.useCallback)(function(){var n=(0,v.Z)(I().mark((function n(a){var i;return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r){n.next=2;break}return n.abrupt("return");case 2:return null==t||t.trackFeatureUsage({featureName:a?"Enable Time Travel Recommended Settings":"Disable Time Travel Recommended Settings"}),p(a),n.next=6,(0,W.r)({useRecommendedSettings:a});case 6:i=n.sent,(0,W.R)(i)?console.error("Failed to update time travel settings:",i.error.message):e(M.setBrowserFeatures({browserFeatures:i.data.browserFeatures}));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[t,p]),g=[];return g.push(o.createElement(G.c,{key:"base-host",title:"Base Host",description:o.createElement(o.Fragment,null,"URLs in Meta and in test steps' commands are affected by this.")},o.createElement(i.TextInput,{onChange:function(t){e(M.updateBaseHost(t.target.value))},value:n,hasClear:!0}))),g.push(o.createElement(G.c,{key:"new-ui",title:"New UI",description:"Minimalistic yet informative, the new UI offers a cleaner look and optimised screen space usage."},o.createElement(i.Button,{className:E()(Q.settingControl,"regular-button"),onClick:function(){null==t||t.trackFeatureUsage({featureName:"Switch to old UI"}),s(B.HT.Old),window.location.pathname=window.location.pathname.replace(/\/new-ui(\.html)?$/,(function(e,t){return t?"/index.html":"/"}))}},o.createElement(i.Icon,{data:Z.Z}),"Switch back to the old UI"))),g.push(o.createElement(G.c,{key:"theme",title:"Theme",description:"Currently only light theme is available — stay tuned for night mode."},o.createElement(i.Select,{className:E()(Q.settingControl,"regular-button"),value:["Light"],width:"max",disabled:!0}))),r&&g.push(o.createElement(G.c,{key:"time-travel",title:"Time Travel"},o.createElement(Y,{title:"Use recommended settings",description:m?"Settings for the best debugging experience will be applied on top of your config (recommended).":"Using project config without changes. This may affect availability of time travel features.",checked:m,onUpdate:f}))),me(ae.xj(),ve.SettingsPanel).forEach((function(e){var t=e.PluginComponent,n=e.position,r=e.config;"after"===n&&g.push(o.createElement(re.Z,{key:"plugin-".concat(r.name)},o.createElement(t,null)))})),o.createElement(F,{title:"Settings"},o.createElement("div",{className:Q.sections},g))}var Ie=[{title:"Navigation",items:[{title:"Suites page",value:"s"},{title:"Visual Checks page",value:"v"},{title:"Keyboard shortcuts",value:"mod+/"},{title:"Info panel",value:"i"},{title:"Settings panel",value:","}]},{title:"Tests Tree",items:[{title:"Toggle tree sidebar",value:"t"},{title:"Focus search",value:"mod+k"},{title:"Clear search",value:"escape"}]},{title:"Working with Tests",items:[{title:"Previous test",value:"↑"},{title:"Next test",value:"↓"},{title:"Previous attempt",value:"←"},{title:"Next attempt",value:"→"},{title:"Run current test",value:"r"},{title:"Run all/selected tests",value:"shift+r"},{title:"Accept screenshot",value:"a"},{title:"Undo accept",value:"u"},{title:"Accept all/selected",value:"shift+a"},{title:"Go to Suites / Visual Checks",value:"g"}]},{title:"Time Travel Player",items:[{title:"Show/hide player",value:"p"},{title:"Play/pause",value:"k"}]}];const Se={"hotkeys-panel":"vjoKGfz6V6VQ7nK0C83o",hotkeysPanel:"vjoKGfz6V6VQ7nK0C83o",divider:"ELpW46YZ2kg61GBlQE9Q","hotkeys-list":"DJumAjTN8RSukgclylrp",hotkeysList:"DJumAjTN8RSukgclylrp","hotkey-item":"jZCTqpPRsP1iInzmEima",hotkeyItem:"jZCTqpPRsP1iInzmEima","hotkey-title":"GqHcAS3q9LLTM5b46DeW",hotkeyTitle:"GqHcAS3q9LLTM5b46DeW"};function ye(){var e=Ie.map((function(e,t){return o.createElement(G.c,{key:t,title:e.title},o.createElement("div",{className:Se.hotkeysList},e.items.map((function(e,t){return o.createElement("div",{key:t,className:Se.hotkeyItem},o.createElement("span",{className:Se.hotkeyTitle},e.title),o.createElement(i.Hotkey,{value:e.value,view:"light"}))}))))})),t=e.pop();return o.createElement(F,{title:"Keyboard Shortcuts",className:Se.hotkeysPanel},e.map((function(e,t){return o.createElement(o.Fragment,{key:t},e,o.createElement(i.Divider,{orientation:"horizontal",className:Se.divider}))})),t)}const Te="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTTExLjIyLDI5LjQ2YzIuMTMsMCw0LjEyLTEuMTMsNS4xOS0yLjk4bDMuNjItNi4yNywyLjkuMDJjMi4xMiwwLDQuMDktMS4xMyw1LjE1LTIuOTdsMS4wNi0xLjgxaC04LjYxYy0yLjEzLDAtNC4xMiwxLjEzLTUuMTksMi45OGwtNi4zNiwxMS4wMWgyLjI0Wk0yNy45OCwxNi4xMmwtLjQ5LjgxYy0uOTQsMS42My0yLjY5LDIuNjQtNC41NywyLjYzbC0yLjUyLS4wMiwxLjk3LTMuNDNoNS42WiIgc3R5bGU9ImZpbGw6I2ZmZjsgc3Ryb2tlLXdpZHRoOjBweDsiLz48cGF0aCBkPSJNMjguMDMsMTEuMDVjLTEuMDYtMS44NS0zLjA0LTMtNS4xNy0zaC03LjI0cy0xLjQzLTIuNTItMS40My0yLjUyYy0xLjA2LTEuODQtMy4wMy0yLjk4LTUuMTQtMi45OGwtMi4xLS4wMiw0LjMsNy40NWMxLjA2LDEuODUsMy4wNCwzLDUuMTcsM2gxMi43MnMtMS4xMS0xLjk0LTEuMTEtMS45NFpNOC4wOSwzLjJsLjk1LjAyYzEuODgsMCwzLjYzLDEuMDEsNC41NywyLjY0bDEuMjQsMi4xOWgtMy45NnMtMi44LTQuODUtMi44LTQuODVaIiBzdHlsZT0iZmlsbDojZmZmOyBzdHJva2Utd2lkdGg6MHB4OyIvPjxwYXRoIGQ9Ik0zLjY3LDUuN2MtMS4wNywxLjg0LTEuMDgsNC4xMy0uMDEsNS45OGwzLjYyLDYuMjctMS40NywyLjVjLTEuMDYsMS44My0xLjA2LDQuMTEsMCw1Ljk0bDEuMDMsMS44Miw0LjMtNy40NWMxLjA3LTEuODQsMS4wOC00LjEzLjAxLTUuOThMNC44LDMuNzdsLTEuMTMsMS45M1pNNi44NSwyNi44OWwtLjQ2LS44M2MtLjk0LTEuNjMtLjk0LTMuNjUsMC01LjI4bDEuMjctMi4xNywxLjk4LDMuNDItMi44LDQuODVaIiBzdHlsZT0iZmlsbDojZmZmOyBzdHJva2Utd2lkdGg6MHB4OyIvPjwvc3ZnPg==",be={"aside-header-bg-wrapper":"WmsnGRyf__x9VugItYEg",asideHeaderBgWrapper:"WmsnGRyf__x9VugItYEg","aside-header-bg":"hN0bow_PIW9RKTKYo57R",asideHeaderBg:"hN0bow_PIW9RKTKYo57R","footer-item":"JebroZPzNgvfFBlBqe48",footerItem:"JebroZPzNgvfFBlBqe48","footer-item--active":"MbgAvT0VZWc0256Q1xEf",footerItemActive:"MbgAvT0VZWc0256Q1xEf"};var Ne=n(36691),we=n(34863),Ce=n(38461),Me=n(86224),Oe=n(28786);const Ae={container:"oAYBNG9X8F88k_cmCgvG",arrow:"hvS2LCYxMAYSD1dM7myQ","arrow-shake":"Eebk71F2Nvmg2lv0N8l5",arrowShake:"Eebk71F2Nvmg2lv0N8l5","hint-title":"GpX1OLIjDf0OyfN77NPa",hintTitle:"GpX1OLIjDf0OyfN77NPa","close-button":"XVrHRjoyGo1vWYVsh8fB",closeButton:"XVrHRjoyGo1vWYVsh8fB"};function De(e){return o.createElement(b,{isVisible:e.isVisible,className:Ae.container},o.createElement(Me.Z,{className:Ae.arrow}),o.createElement("div",{className:Ae.hintTitle},"Hint"),o.createElement("svg",{viewBox:"0 0 2 2",height:2},o.createElement("circle",{r:"1",cx:"1",cy:"1"})),o.createElement("div",null,"You can always switch back to the old UI in Settings"),o.createElement(Oe.Z,{className:Ae.closeButton,onClick:function(){var t;return null===(t=e.onClose)||void 0===t?void 0:t.call(e)}}))}function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e){var t=(0,c.useSelector)(j.Dr),n=(0,o.useState)(null),r=(0,d.Z)(n,2),a=r[0],s=r[1],l=(0,U.Z)("ui-mode-hint-shown",!1),m=(0,d.Z)(l,2),p=m[0],f=m[1];(0,o.useEffect)((function(){var e="1"===new URL(window.location.href).searchParams.get("switched-from-old-ui");if(t&&e&&!p){s(!0),f(!0);var n=setTimeout((function(){s(!1)}),2e4);return function(){clearTimeout(n)}}}),[t]),(0,o.useEffect)((function(){a&&e.visiblePanel&&s(!1)}),[e.visiblePanel]);var g=e.visiblePanel===tt.Hotkeys,v=e.visiblePanel===tt.Info,h=e.visiblePanel===tt.Settings;return o.createElement(o.Fragment,null,o.createElement(De,{isVisible:a,onClose:function(){return s(!1)}}),o.createElement(R.F,{compact:!1,item:{id:tt.Hotkeys,title:"Keyboard Shortcuts",tooltipText:o.createElement(o.Fragment,null,"Keyboard Shortcuts ",o.createElement(i.Hotkey,{value:"mod+/",view:"dark"})),onItemClick:e.onFooterItemClick,current:g,qa:"footer-item-hotkeys",itemWrapper:function(e,n){var r;return n(Le(Le({},e),{},{icon:o.createElement(i.Icon,{className:E()((r={},(0,u.Z)(r,be.footerItem,!g),(0,u.Z)(r,be["footer-item--active"],g),(0,u.Z)(r,"disabled",!t),r)),data:Ne.Z})}))}}}),o.createElement(R.F,{compact:!1,item:{id:tt.Info,title:"Info",tooltipText:o.createElement(o.Fragment,null,"Info ",o.createElement(i.Hotkey,{value:"i",view:"dark"})),onItemClick:e.onFooterItemClick,current:v,qa:"footer-item-info",itemWrapper:function(e,n){var r;return n(Le(Le({},e),{},{icon:o.createElement(i.Icon,{className:E()((r={},(0,u.Z)(r,be.footerItem,!v),(0,u.Z)(r,be["footer-item--active"],v),(0,u.Z)(r,"disabled",!t),r)),data:we.Z})}))}}}),o.createElement(R.F,{compact:!1,item:{id:tt.Settings,title:"Settings",tooltipText:o.createElement(o.Fragment,null,"Settings ",o.createElement(i.Hotkey,{value:",",view:"dark"})),onItemClick:e.onFooterItemClick,current:h,itemWrapper:function(e,n){var r;return n(Le(Le({},e),{},{icon:o.createElement(i.Icon,{className:E()((r={},(0,u.Z)(r,be.footerItem,!h),(0,u.Z)(r,be["footer-item--active"],h),(0,u.Z)(r,"disabled",!t),r)),data:Ce.Z})}))}}}))}const xe={"common-card":"Fj5sjZwVCKyeWxfmeV7A",commonCard:"Fj5sjZwVCKyeWxfmeV7A",wrapper:"KVTvH44NwI6y99IsSdWq"};function Re(e){return o.createElement("div",{className:xe.wrapper,"data-qa":e.qa},o.createElement("div",{className:E()(xe.commonCard,e.className),style:e.style},e.children))}const Pe={card:"cyRw19fvYYe2TPp2AnDQ text-hint"};function je(e){return o.createElement(Re,{className:E()(Pe.card,e.className)},e.children)}const Ze="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTA0LjY5IDEyMi44OCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTA0LjY5IDEyMi44ODsgZmlsbDogcmdiYSgwLCAwLCAwLCAwLjQpOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PGc+PHBhdGggZD0iTTk4LjM4LDg4LjQxbC05Ljc5LDEwLjQ4TDk4LjM4LDg4LjQxTDk4LjM4LDg4LjQxeiBNODQuMywxMDMuNDhsLTkuNzksMTAuNDhMODQuMywxMDMuNDhMODQuMywxMDMuNDh6IE01Ni44NSwxMTYuNTggYzEuNzQsMCwzLjE1LDEuNDEsMy4xNSwzLjE1YzAsMS43NC0xLjQxLDMuMTUtMy4xNSwzLjE1SDcuMzNjLTIuMDIsMC0zLjg1LTAuODItNS4xOC0yLjE1QzAuODIsMTE5LjQsMCwxMTcuNTcsMCwxMTUuNTVWNy4zMyBjMC0yLjAyLDAuODItMy44NSwyLjE1LTUuMThDMy40OCwwLjgyLDUuMzEsMCw3LjMzLDBoOTAuMDJjMi4wMiwwLDMuODUsMC44Miw1LjE4LDIuMTVjMS4zMywxLjMzLDIuMTUsMy4xNiwyLjE1LDUuMThWNzIuNiBjMCwxLjc0LTEuNDEsMy4xNS0zLjE1LDMuMTVjLTEuNzQsMC0zLjE1LTEuNDEtMy4xNS0zLjE1VjcuMzNjMC0wLjI4LTAuMTItMC41NC0wLjMtMC43M2MtMC4xOS0wLjE5LTAuNDUtMC4zLTAuNzMtMC4zSDcuMzMgYy0wLjI4LDAtMC41NCwwLjEyLTAuNzMsMC4zUzYuMyw3LjA1LDYuMyw3LjMzdjEwOC4yMWMwLDAuMjgsMC4xMiwwLjU0LDAuMywwLjczYzAuMTksMC4xOSwwLjQ0LDAuMywwLjczLDAuM0g1Ni44NUw1Ni44NSwxMTYuNTh6IE0zMS41NCw4Ni45NWMtMS43NCwwLTMuMTYtMS40My0zLjE2LTMuMTljMC0xLjc2LDEuNDEtMy4xOSwzLjE2LTMuMTloMjAuNWMxLjc0LDAsMy4xNiwxLjQzLDMuMTYsMy4xOSBjMCwxLjc2LTEuNDEsMy4xOS0zLjE2LDMuMTlIMzEuNTRMMzEuNTQsODYuOTV6IE0zMS41NCw0Mi4yN2MtMS43NCwwLTMuMTUtMS40MS0zLjE1LTMuMTVjMC0xLjc0LDEuNDEtMy4xNSwzLjE1LTMuMTVoNDEuNjEgYzEuNzQsMCwzLjE1LDEuNDEsMy4xNSwzLjE1YzAsMS43NC0xLjQxLDMuMTUtMy4xNSwzLjE1SDMxLjU0TDMxLjU0LDQyLjI3eiBNMzEuNTQsNjQuNTljLTEuNzQsMC0zLjE1LTEuNDEtMy4xNS0zLjE1IGMwLTEuNzQsMS40MS0zLjE1LDMuMTUtMy4xNWg0MS42MWMxLjc0LDAsMy4xNSwxLjQxLDMuMTUsMy4xNWMwLDEuNzQtMS40MSwzLjE1LTMuMTUsMy4xNUgzMS41NEwzMS41NCw2NC41OXogTTcxLjUyLDkxLjU1IGMtMS4yNy0xLjE4LTEuMzQtMy4xNy0wLjE2LTQuNDRjMS4xOC0xLjI3LDMuMTctMS4zNCw0LjQ0LTAuMTZsMTAuNDksOS43OWw5Ljc4LTEwLjQ4YzEuMTgtMS4yNywzLjE3LTEuMzQsNC40NC0wLjE2IGMxLjI3LDEuMTgsMS4zNCwzLjE3LDAuMTYsNC40NGwtOS43OSwxMC40OGwxMC40OCw5Ljc4YzEuMjcsMS4xOCwxLjM0LDMuMTcsMC4xNiw0LjQ0Yy0xLjE4LDEuMjctMy4xNywxLjM0LTQuNDQsMC4xNmwtMTAuNDgtOS43OSBsLTkuNzgsMTAuNDhjLTEuMTgsMS4yNy0zLjE3LDEuMzQtNC40NCwwLjE2Yy0xLjI3LTEuMTgtMS4zNC0zLjE3LTAuMTYtNC40NEw4MiwxMDEuMzRMNzEuNTIsOTEuNTVMNzEuNTIsOTEuNTV6Ii8+PC9nPjwvc3ZnPgo=";var Be=n(47486);const Ue={container:"QKOcpEIhc51Re6PikjJy","hint-card":"CZF_AuDP2XptHxh7JFus",hintCard:"CZF_AuDP2XptHxh7JFus","empty-report-icon":"NMiy6d6xTVc_ZXEmjn8E",emptyReportIcon:"NMiy6d6xTVc_ZXEmjn8E","card-title":"n8yDmeEYkuOk6kb_ItbC",cardTitle:"n8yDmeEYkuOk6kb_ItbC","hints-container":"yBA5vUr2DQ0jWSo5WNTB",hintsContainer:"yBA5vUr2DQ0jWSo5WNTB",hint:"Ad77ZbGy9Nx84CBDNE2_","hint-item-icon":"KNC3S7aGd3oCjOkoLy4g",hintItemIcon:"KNC3S7aGd3oCjOkoLy4g","hint-item-text":"VWK0qAioJXCQR8TSG6Lh",hintItemText:"VWK0qAioJXCQR8TSG6Lh"};function ze(){return o.createElement("div",{className:Ue.container},o.createElement(je,{className:Ue.hintCard},o.createElement("img",{src:Ze,alt:"icon",className:Ue.emptyReportIcon}),o.createElement("span",{className:E()("text-header-1",Ue.cardTitle)},"This report is empty"),o.createElement("div",{className:Ue.hintsContainer},["Check if your project contains any tests","Check if the tool you are using is configured correctly and is able to find your tests","Check logs to see if some critical error has occurred and prevented report from collecting any results"].map((function(e,t){return o.createElement("div",{key:t,className:Ue.hint},o.createElement(i.Icon,{data:Be.Z,className:Ue.hintItemIcon}),o.createElement("div",{className:Ue.hintItemText},e))})))))}var Fe=n(68005),Ge=n(93938);const He={"data-source-item":"LTL9A2TRwCX4DfrCEZxM",dataSourceItem:"LTL9A2TRwCX4DfrCEZxM","data-source-title-container":"wsCjpO5WCpkJaVzKz8gi",dataSourceTitleContainer:"wsCjpO5WCpkJaVzKz8gi","data-source-icon":"G4SXQma4zhRaaqly12Tg",dataSourceIcon:"G4SXQma4zhRaaqly12Tg","data-source-status":"gGakSFrXewIw9Fkez5EX",dataSourceStatus:"gGakSFrXewIw9Fkez5EX","data-source-status-circle":"v4CYpSxdllHQxSacb6ab",dataSourceStatusCircle:"v4CYpSxdllHQxSacb6ab","data-source-status-circle-offline":"IySDb0dG_HpKVzuBYhNO",dataSourceStatusCircleOffline:"IySDb0dG_HpKVzuBYhNO","data-source-status-circle-online":"GC12k5XwNRP2nJmuOnTl",dataSourceStatusCircleOnline:"GC12k5XwNRP2nJmuOnTl",pulse:"Di_aKyccUn6pF8KZT3gJ",title:"FzJkyNqOjGi_N4OIQHRw",ellipsis:"ORSnh7QVKqOW7FQrJdvF"};function Ve(e){var t,n=null===(t=e.url)||void 0===t?void 0:t.replace(/^https?:\/\//,"");return o.createElement("div",{className:He.dataSourceItem},o.createElement("div",{className:He.dataSourceTitleContainer},o.createElement(i.Icon,{data:e.icon,className:He.dataSourceIcon}),e.url&&n?o.createElement("a",{href:e.url,className:He.title,title:e.title},o.createElement("span",{className:He.ellipsis,style:{"--max-width":"130px"}},n.slice(0,-24)),n.slice(-24)):o.createElement("span",{className:He.ellipsis},e.title)),o.createElement("div",{className:He.dataSourceStatus},o.createElement("span",null,e.success?"OK":e.statusCode&&"number"==typeof e.statusCode?"E".concat(e.statusCode):"ERR"),o.createElement("div",{className:E()(He.dataSourceStatusCircle,e.success?He.dataSourceStatusCircleOnline:He.dataSourceStatusCircleOffline)})))}const Ye={divider:"N2706ZMdYcBUFCM2piKF","extra-items-list":"gVLUrneQukXMSGbW12Be",extraItemsList:"gVLUrneQukXMSGbW12Be","data-source-heading":"zugSCLp3ZHvaLI_h3IeQ",dataSourceHeading:"zugSCLp3ZHvaLI_h3IeQ","data-source-list":"pC4JFYgK7ZksVWDUckMA",dataSourceList:"pC4JFYgK7ZksVWDUckMA"};var We=n(81114);function Qe(){var e=(0,c.useSelector)((function(e){return e.gui})),t=Object.entries((0,c.useSelector)((function(e){return e.apiValues.extraItems}))),n=[];t.length>0&&n.push(o.createElement(G.c,{title:"Links",description:"Project-specific links and actions. Configure what you see here via extraItems API."},o.createElement("ul",{className:Ye.extraItemsList},t.map((function(e,t){return o.createElement("li",{key:t},o.createElement("a",{href:e[1]},e[0]))}))))),n.push(o.createElement(G.c,{title:"Testplane UI v"+We.i8,description:o.createElement("span",null,"To get the most out of Testplane UI, try to keep it updated to the latest version. Check out fresh ",o.createElement("a",{href:"https://github.com/gemini-testing/html-reporter/releases"},"releases on GitHub"),".")}));var r=(0,c.useSelector)((function(e){return e.timestamp})),a=(0,D.isEmpty)(navigator.languages)?navigator.language:navigator.languages[0],s=new Date(r).toLocaleString(a);e||n.push(o.createElement(G.c,{title:"Created at "+s,description:"Date and time when this report was generated. Report generates once all tests finish running."}));var l=(0,c.useSelector)((function(e){return e.app.guiServerConnection.isConnected})),u=(0,c.useSelector)((function(e){return e.fetchDbDetails}));n.push(o.createElement(G.c,{title:"Data sources",description:"To display test run data, Testplane UI needs access to corresponding data sources."},o.createElement("div",null,o.createElement("div",{className:Ye.dataSourceHeading},o.createElement("span",null,"Source"),o.createElement("span",null,"Status")),o.createElement("div",{className:Ye.dataSourceList},e&&o.createElement(Ve,{icon:Fe.Z,title:"Testplane UI Server",success:l}),!e&&u.map((function(e,t){var n=e.url,r=e.success,a=e.status;return o.createElement(Ve,{key:t,icon:Ge.Z,title:n,url:n,success:r,statusCode:a})}))))));var d=n.pop();return o.createElement(F,{title:"Info",className:Ye.infoPanel},n.map((function(e,t){return o.createElement(o.Fragment,{key:t},e,o.createElement(i.Divider,{orientation:"horizontal",className:Ye.divider}))})),d)}function Ke(e){var t=e.toLowerCase();if(/^[a-z]$/.test(t))return"Key".concat(t.toUpperCase());if(/^[0-9]$/.test(t))return"Digit".concat(t);var n={",":"Comma",".":"Period","/":"Slash",";":"Semicolon","'":"Quote","[":"BracketLeft","]":"BracketRight","\\":"Backslash","`":"Backquote","-":"Minus","=":"Equal"," ":"Space",space:"Space",enter:"Enter",escape:"Escape",backspace:"Backspace",tab:"Tab",delete:"Delete",arrowup:"ArrowUp",arrowdown:"ArrowDown",arrowleft:"ArrowLeft",arrowright:"ArrowRight"};return n[t]?n[t]:null}function Xe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.enabled,a=void 0===r||r,i=n.allowInInput,c=void 0!==i&&i,s=(0,o.useCallback)((function(n){if(a&&(c||!((r=document.activeElement)instanceof HTMLInputElement||r instanceof HTMLTextAreaElement||"true"===(null==r?void 0:r.getAttribute("contenteditable"))))){var r,i=function(e){var t=e.toLowerCase().split("+"),n=t[t.length-1];return{key:n,code:Ke(n),shift:t.includes("shift"),meta:t.includes("meta"),ctrl:t.includes("ctrl"),alt:t.includes("alt"),mod:t.includes("mod")}}(e);if(i.code){if(n.code!==i.code)return}else if(n.key.toLowerCase()!==i.key.toLowerCase())return;(function(e,t){var n=navigator.platform.toUpperCase().indexOf("MAC")>=0,r=n?e.metaKey:e.ctrlKey;if(t.mod){if(!r||n&&e.ctrlKey||!n&&e.metaKey)return!1}else if(!t.meta&&e.metaKey||!t.ctrl&&e.ctrlKey)return!1;return!(t.shift!==e.shiftKey||t.alt!==e.altKey||t.meta&&!e.metaKey||t.ctrl&&!e.ctrlKey)})(n,i)&&(n.preventDefault(),t())}}),[e,t,a,c]);(0,o.useEffect)((function(){return document.addEventListener("keydown",s),function(){document.removeEventListener("keydown",s)}}),[s])}var qe=n(40554),Je=n(46294),$e=n(26542),et=n(11200),tt=function(e){return e.Hotkeys="hotkeys",e.Settings="settings",e.Info="info",e}({});function nt(e){var t,n=(0,c.useDispatch)(),r=(0,s.s0)(),a=(0,s.TH)(),l=(0,H.z)(),m=(t={},(0,u.Z)(t,O.HL.suites,"s"),(0,u.Z)(t,O.HL.visualChecks,"v"),t),p=e.pages.map((function(e){return{id:e.url,title:e.title,tooltipText:o.createElement(o.Fragment,null,e.title," ",o.createElement(i.Hotkey,{value:m[e.url],view:"dark"})),icon:e.icon,current:Boolean((0,P.LX)("".concat(e.url.replace(/\/$/,""),"/*"),a.pathname)),onItemClick:function(){null==l||l.trackFeatureUsage({featureName:"Go to ".concat(e.url," page")}),r(e.url)},qa:"".concat(e.url.slice(1),"-page-menu-item")}})),f=(0,c.useSelector)((function(e){return e.ui[O.T3.suitesPage].sectionSizes})),g=(0,c.useSelector)((function(e){return e.ui[O.T3.suitesPage].backupSectionSizes}));if(/\/suites/.test(a.pathname)){var v=(0,et.aV)(f[0]),h=v?"Expand tree":"Collapse tree";p.push({id:"divider",type:"divider",title:"-"},{id:"expand-collapse-tree",title:h,tooltipText:o.createElement(o.Fragment,null,h," ",o.createElement(i.Hotkey,{value:"t",view:"dark"})),icon:v?Je.Z:$e.Z,onItemClick:function(){n((0,qe.gM)({sizes:v?g:[0,100],page:O.T3.suitesPage}))},qa:"expand-collapse-suites-tree"})}var I=(0,c.useSelector)((function(e){return e.ui[O.T3.visualChecksPage].sectionSizes})),S=(0,c.useSelector)((function(e){return e.ui[O.T3.visualChecksPage].backupSectionSizes}));if(/\/visual-checks/.test(a.pathname)){var y=(0,et.aV)(I[0]),T=y?"Expand tree":"Collapse tree";p.push({id:"divider",type:"divider",title:"-"},{id:"expand-collapse-tree",title:T,tooltipText:o.createElement(o.Fragment,null,T," ",o.createElement(i.Hotkey,{value:"t",view:"dark"})),icon:y?Je.Z:$e.Z,onItemClick:function(){n((0,qe.gM)({sizes:y?S:[0,100],page:O.T3.visualChecksPage}))},qa:"expand-collapse-visual-checks"})}var b=(0,c.useSelector)(j.Dr),N=(0,c.useSelector)((function(e){return e.tree.browsers.byId})),w=b&&0===Object.keys(N).length,C=(0,o.useState)(null),M=(0,d.Z)(C,2),A=M[0],D=M[1],k=function(e){A===e.id?D(null):(D(e.id),null==l||l.trackFeatureUsage({featureName:"Open ".concat(e.id," panel")}))},L=(0,o.useCallback)((function(e){D((function(t){return t===e?null:e}))}),[]),_=(0,o.useCallback)((function(){var e=/\/suites/.test(a.pathname),t=/\/visual-checks/.test(a.pathname);if(e){var r=(0,et.aV)(f[0]);n((0,qe.gM)({sizes:r?g:[0,100],page:O.T3.suitesPage}))}else if(t){var i=(0,et.aV)(I[0]);n((0,qe.gM)({sizes:i?S:[0,100],page:O.T3.visualChecksPage}))}}),[a.pathname,f,g,I,S,n]),x=(0,o.useCallback)((function(){return r(O.HL.suites)}),[r]),Z=(0,o.useCallback)((function(){return r(O.HL.visualChecks)}),[r]),B=(0,o.useCallback)((function(){return L(tt.Hotkeys)}),[L]),U=(0,o.useCallback)((function(){return L(tt.Info)}),[L]),z=(0,o.useCallback)((function(){return L(tt.Settings)}),[L]);return Xe("s",x),Xe("v",Z),Xe("t",_),Xe("mod+/",B),Xe("i",U),Xe(",",z),o.createElement(R.A,{className:E()({"aside-header--initialized":b}),logo:{text:"Testplane UI",iconSrc:Te,iconSize:32,onClick:function(){return r(O.HL.suites)}},compact:!0,headerDecoration:!1,menuItems:p,customBackground:o.createElement("div",{className:be.asideHeaderBg}),customBackgroundClassName:be.asideHeaderBgWrapper,renderContent:function(){return w?o.createElement(ze,null):e.children},hideCollapseButton:!0,renderFooter:function(){return o.createElement(_e,{visiblePanel:A,onFooterItemClick:k})},panelItems:[{id:tt.Hotkeys,children:o.createElement(ye,null),visible:A===tt.Hotkeys},{id:tt.Info,children:o.createElement(Qe,null),visible:A===tt.Info},{id:tt.Settings,children:o.createElement(he,null),visible:A===tt.Settings}],onClosePanel:function(){return D(null)}})}const rt={card:"JsBSTVhMZmtk8M0HKNIj"};function at(e){return o.createElement(Re,{className:E()(rt.card,e.className),style:e.style,qa:e.qa},e.children)}var it=n(1291),ot=n(51344);const ct={"overlay-container":"YhnQZ2DR9KPdAJiIHKx6",overlayContainer:"YhnQZ2DR9KPdAJiIHKx6",pulsing:"np7Tims64LSzx1fxP9Vw","overlay-pulse":"iG7hgUdlfOAYJ2zEOMkz",overlayPulse:"iG7hgUdlfOAYJ2zEOMkz",hint:"lDwBbrcxapUWyB9bSmAM",appear:"euJ_Z7JcmqkNU0UuaTBi"};function st(){return o.createElement("div",{className:E()(xe.commonCard,ct.overlayContainer)},o.createElement("div",{className:ct.pulsing}),o.createElement("span",{className:ct.hint},"Keep dragging to hide"))}const lt={"animated-appear-card":"nvHu0JYixG_n3L8bHaiy",animatedAppearCard:"nvHu0JYixG_n3L8bHaiy","border-pulse":"_hvSdUy_Sy8mnl5BcKJj",borderPulse:"_hvSdUy_Sy8mnl5BcKJj","background-overlay":"fOXVHPDXnIXRnLvKJK5w",backgroundOverlay:"fOXVHPDXnIXRnLvKJK5w",hidden:"oNABdOFiTaceIpXIecxT"};function ut(){var e=(0,c.useSelector)((function(e){return e.app.isInitialized}));return o.createElement("div",{className:E()(xe.commonCard,lt.animatedAppearCard,(0,u.Z)({},lt.hidden,e))},o.createElement("div",{className:lt.backgroundOverlay}))}const dt={split:"Yt_7hFDWMBBzwRxhtPGA",gutter:"BjLGDET4dsmTg5n7BGOC","gutter-appear":"GkXIdhlZ0Ksl8HY5uIGM",gutterAppear:"GkXIdhlZ0Ksl8HY5uIGM","gutter-handle":"cEss7sGcuntXKcSdrYGx",gutterHandle:"cEss7sGcuntXKcSdrYGx","gutter-activate":"QhcMa1LcrZef4FaMYu9B",gutterActivate:"QhcMa1LcrZef4FaMYu9B","gutter-deactivate":"xDCzx4XYGvK_feKceOC3",gutterDeactivate:"xDCzx4XYGvK_feKceOC3",container:"R1neC10QiHgV72yl__vn","container-collapsed":"jhPJSKkfojnb9ejRA7Kg",containerCollapsed:"jhPJSKkfojnb9ejRA7Kg","is-disabled-transitions":"QfgLrNwN7f_q5YM2eMTC",isDisabledTransitions:"QfgLrNwN7f_q5YM2eMTC"};function mt(e){var t=o.useState(!1),n=(0,d.Z)(t,2),r=n[0],a=n[1],i=o.useState(!1),s=(0,d.Z)(i,2),l=s[0],m=s[1],p=o.useState(!1),f=(0,d.Z)(p,2),g=f[0],v=f[1],h=o.useState(e.sizes.map(et.aV)),I=(0,d.Z)(h,2),S=I[0],y=I[1];(0,o.useLayoutEffect)((function(){v(!l),y(e.sizes.map(et.aV))}),[e.sizes]);var T=(0,c.useSelector)(j.Dr),b=o.Children.toArray(e.children);return o.createElement(ot.Z,{direction:"horizontal",className:E()(dt.split,{"is-resizing":l,"is-idle":r&&!l,"is-initialized":T}),minSize:0,snapOffset:200,onDrag:function(t){var n;null===(n=e.onSizesChange)||void 0===n||n.call(e,t)},onDragStart:function(t){var n;a(!0),m(!0),null===(n=e.onSizesChange)||void 0===n||n.call(e,t)},onDragEnd:function(t){var n;m(!1),null===(n=e.onSizesChange)||void 0===n||n.call(e,t)},gutter:function(){var e=document.createElement("div");e.classList.add(dt.gutterHandle),e.setAttribute("data-qa","split-view-gutter-handle");var t=document.createElement("div");return t.appendChild(e),t.classList.add(dt.gutter),t},sizes:e.sizes},b.map((function(e,t){var n;return o.createElement("div",{key:t,className:E()(dt.container,(n={},(0,u.Z)(n,dt.containerCollapsed,S[t]),(0,u.Z)(n,"is-collapsed",S[t]),(0,u.Z)(n,dt.isDisabledTransitions,g),n))},o.createElement(st,null),o.createElement(ut,null),e)})))}var pt=n(93714),ft=n(6740),Et=n(13432),gt=n(82714),vt=n(61589),ht=n(61394);const It="fEAHjOAdrUKbaOuQguD_",St="fgV2BcoInAd2UU5sMah0",yt="N7zc4m9OvwKmeiPCoa5z";function Tt(e){var t=e.title,n=e.icon,r=e.onClick,a=e.href,c=e.className,s=e.tooltip,l=e.qa,u=o.createElement(i.Button,{size:"xs",onClick:r,qa:l,className:E()(It,c)},n&&o.createElement(i.Icon,{data:n,size:14}),t),d=a?o.createElement("a",{href:a,target:"_blank",rel:"noreferrer"},u):u;return s?o.createElement(i.Tooltip,{content:s},d):d}var bt=function(){var e=(0,s.TH)();return e.pathname.startsWith(O.HL.visualChecks)?O.T3.visualChecksPage:O.T3.suitesPage},Nt=function(){var e,t=(0,c.useSelector)(it.EP),n=(0,c.useDispatch)(),r=bt(),a=(0,c.useSelector)((function(e){return e.app[r].nameFilter}));if(!t)return null;var i=null===(e=t.attachments)||void 0===e?void 0:e.find((function(e){return e.type===ht.s.Tags}));return null!=i&&i.list&&0!==i.list.length?o.createElement(o.Fragment,null,i.list.map((function(e){return o.createElement(Tt,{key:e.title,title:e.title,icon:vt.Z,onClick:function(){return function(e){var t="@".concat(e);a.includes(t)||n((0,M.updateNameFilter)({data:a.length?"".concat(a," ").concat(t):t,page:r}))}(e.title)},qa:"test-tag-".concat(e.title),className:e.dynamic?St:void 0,tooltip:e.dynamic?o.createElement("p",{className:yt},o.createElement("span",null,"Tag was added via ",o.createElement("code",null,"browser.addTag()")," command."),o.createElement("span",null,"Such tags can't be used with ",o.createElement("code",null,"--tag")," filtering in CLI.")):void 0})}))):null},wt=n(29406);const Ct={container:"YWnVRZp6Xpq2emGNusEL",breadcrumbs:"Ed4tVlxzgeV8lu4LStw4",separator:"dpX1ZvrQ0Rb7KZsrGdrB",content:"p9SwrHyY6_rkCo8WnJ4B","title-container":"eN__kxnFqti2d9lyLscG",titleContainer:"eN__kxnFqti2d9lyLscG","labels-container":"fkNFekMpeg9PQWBvk6SA",labelsContainer:"fkNFekMpeg9PQWBvk6SA",label:"cyOS5FVBjs_XwfWf3hqw","pagination-container":"FjhbMq232twU07JGqpxG",paginationContainer:"FjhbMq232twU07JGqpxG",counter:"wUSN7d_qH5YeEFdi_k8a","clipboard-button":"RL_exhTKaHY4GIv4lZv0",clipboardButton:"RL_exhTKaHY4GIv4lZv0"};function Mt(e){var t=e.suitePath[e.suitePath.length-1],n=e.suitePath.slice(0,-1);return o.createElement("div",{className:E()(Ct.container,e.className)},o.createElement("div",{className:Ct.content},n.length>0&&o.createElement("div",{className:E()(Ct.breadcrumbs)},n.map((function(e,t){return o.createElement("div",{key:t,className:Ct.breadcrumbsItem},e,t!==n.length-1&&o.createElement("div",{className:Ct.separator},o.createElement(pt.Z,{height:12})))}))),o.createElement("div",{className:Ct.titleContainer},o.createElement("h2",{className:E()("text-display-1",Ct.title),"data-qa":"suite-title"},null!=t?t:"Unknown Suite",o.createElement(wt.m,{className:Ct.clipboardButton,text:e.suitePath.join(" ")})),o.createElement("div",{className:Ct.labelsContainer},o.createElement(Nt,null),e.stateName&&o.createElement(i.Label,{theme:"utility",size:"xs",className:E()(Ct.label)},o.createElement(ft.Z,null),e.stateName)))),o.createElement("div",{className:Ct.paginationContainer},o.createElement("span",{className:Ct.counter,"data-qa":"suite-title-counter"},-1===e.index?"–":e.index+1,"/",e.totalItems),o.createElement(i.Button,{qa:"suite-prev",view:"flat",disabled:e.index<=0,onClick:e.onPrevious},o.createElement(i.Icon,{data:Et.Z})),o.createElement(i.Button,{qa:"suite-next",view:"flat",disabled:e.index<0||e.index===e.totalItems-1,onClick:e.onNext},o.createElement(i.Icon,{data:gt.Z}))))}var Ot=n(14963),At=n(13583);const Dt={container:"nR0kpnVQuYefx31uTlD5",heading:"baYQP9hm9fAaU79TT8HC","attempts-container":"SsRE0DhTAdrseFiE6W4S",attemptsContainer:"SsRE0DhTAdrseFiE6W4S","buttons-container":"HLl3hP8eJ4oQKxqSjmk4",buttonsContainer:"HLl3hP8eJ4oQKxqSjmk4",divider:"p2Pb8A2uVCx5z6IMAGSA",hotkey:"VpgcwOxqhXHtC4FHtQt_","browser-name":"ScDUBcgrmB3l1TSO2UEb",browserName:"ScDUBcgrmB3l1TSO2UEb","browser-select-sizer":"AIoSn_wPlgpbHlZGoNZG",browserSelectSizer:"AIoSn_wPlgpbHlZGoNZG","browser-select-content":"JTrXsAVlK8FoBugbHO8q",browserSelectContent:"JTrXsAVlK8FoBugbHO8q","browser-select-hidden":"OUDXPLGDZ4G7ZkpjJ1b_",browserSelectHidden:"OUDXPLGDZ4G7ZkpjJ1b_"};var kt=n(7896);const Lt="nJPe2OO4z2uAJdX7sMaV",_t="yVJoWVTQitoP9vCeR3gQ regular-button from global, action-button",xt="RNP4PwWGVxlpiqDi2w95",Rt="XUzfUKy80Ao5fv2hBbeH",Pt="k84JuVT8B9aN7m2D_NoB",jt="xlR57v5TCLtPl5B9uDw2";var Zt=n(75262),Bt=function(e){return Boolean((0,c.useSelector)((function(e){return e.app.availableFeatures})).find((function(t){return t.name===e.name})))},Ut=(0,o.forwardRef)((function(e,t){var n=e.browser,r=e.buttonProps,a=e.buttonText,s=e.hotkey,l=(0,c.useSelector)((function(e){return e.running})),m=(0,H.z)(),p=(0,c.useDispatch)();if(!Bt(O.Wi))return null;var f=me(ae.xj(),ve.RunTestOptions).length>0,g=(0,o.useState)(!1),v=(0,d.Z)(g,2),h=v[0],I=v[1],S=(0,o.useCallback)((function(e){I(e)}),[]);return o.createElement("div",{className:Lt},o.createElement(i.Button,(0,kt.Z)({ref:t,view:"action",className:_t,onClick:function(){n&&(null==m||m.trackFeatureUsage({featureName:"Retry test button click in test control panel"}),p((0,M.thunkRunTest)({test:{testName:n.parentId,browserName:n.name}})))},disabled:l,style:{width:null===a?"28px":void 0},pin:f?"round-brick":void 0},r),l?o.createElement(i.Spin,{size:"xs"}):o.createElement(i.Icon,{data:Zt.Z}),void 0===a?"Retry":a,s),f&&o.createElement(i.Popover,{onOpenChange:S,content:o.createElement("div",{className:jt},o.createElement(ue,{name:ve.RunTestOptions})),trigger:"click",placement:"bottom-end"},o.createElement(i.Button,(0,kt.Z)({view:"action",disabled:l,className:E()(_t,xt),style:{width:null===a?"28px":void 0},pin:"brick-round"},r),o.createElement(i.Icon,{data:gt.Z,className:E()(Rt,(0,u.Z)({},Pt,h))}))))}));Ut.displayName="RunTestButton";var zt=o.forwardRef((function(e,t){return o.createElement(i.Tooltip,{content:e.tooltip,placement:"top",openDelay:0},o.createElement(i.Button,{className:e.className,view:e.view,onClick:e.onClick,onKeyDown:e.onKeyDown,disabled:e.disabled,ref:t,selected:e.selected,qa:e.qa},e.icon))})),Ft=n(97566),Gt=function(e){return{type:Ft.Z.SET_SNAPSHOTS_PLAYER_HIGHLIGHT_TIME,payload:e}},Ht=function(e){return{type:Ft.Z.SNAPSHOTS_PLAYER_TOGGLE_VISIBILITY,payload:{isVisible:e}}},Vt=n(36397);const Yt={icon:"S0C37_dyP4H4oFiRBC1p"};var Wt={google:"chrome",chrome:"chrome",firefox:"firefox",safari:"safari",edge:"edge",yandex:"yandex",yabro:"yandex",ie:"internet-explorer",explorer:"internet-explorer",opera:"opera",phone:"mobile",mobile:"mobile",tablet:"tablet",ipad:"tablet"};function Qt(e){var t=e.name,n=function(e){return o.createElement("i",{className:"fa fa-".concat(e," ").concat(Yt.icon),"aria-hidden":"true"})};if(!(0,D.isString)(t))return n("browser");var r=t.toLowerCase();for(var a in Wt)if(r.includes(a))return n(Wt[a]);return n("browser")}function Kt(e){var t=e.availableBrowsers,n=e.currentBrowserId,r=e.onBrowserChange,a=(0,o.useCallback)((function(e){var t=e[0];t&&t!==n&&r(t)}),[n,r]),c=(0,o.useMemo)((function(){return t.map((function(e){return{value:e.id,content:e.name,data:{name:e.name}}}))}),[t]),s=(0,o.useCallback)((function(e){var r,a,c=e.ref,s=e.triggerProps,l=s.onClick,u=s.onKeyDown,d=t.find((function(e){return e.id===n}));return o.createElement("div",{className:Dt.browserSelectSizer},t.map((function(e){return o.createElement(i.Button,{key:e.id,view:"outlined",className:Dt.browserSelectHidden,tabIndex:-1},o.createElement(i.Flex,{gap:1,alignItems:"center",className:Dt.browserSelectContent},o.createElement(i.Flex,{gap:1,alignItems:"center"},o.createElement(Qt,{name:e.name}),o.createElement("span",{className:Dt.browserName},e.name)),o.createElement(i.Icon,{data:gt.Z,size:16})))})),o.createElement(i.Button,{ref:c,onClick:l,onKeyDown:u,view:"outlined"},o.createElement(i.Flex,{gap:1,alignItems:"center",className:Dt.browserSelectContent},o.createElement(i.Flex,{gap:1,alignItems:"center"},o.createElement(Qt,{name:null!==(r=null==d?void 0:d.name)&&void 0!==r?r:""}),o.createElement("span",{className:Dt.browserName},null!==(a=null==d?void 0:d.name)&&void 0!==a?a:"")),o.createElement(i.Icon,{data:gt.Z,size:16}))))}),[t,n]),l=(0,o.useCallback)((function(e){var t,n;return o.createElement(i.Flex,{alignItems:"center",gap:2},o.createElement(i.Flex,{height:16,width:16,alignItems:"center",justifyContent:"center"},o.createElement(Qt,{name:null!==(t=null===(n=e.data)||void 0===n?void 0:n.name)&&void 0!==t?t:""})),o.createElement("span",null,e.content))}),[]);return 0===t.length?null:o.createElement(i.Select,{value:n?[n]:[],onUpdate:a,renderControl:s,renderOption:l,disablePortal:!0},c.map((function(e){return o.createElement(i.Select.Option,{key:e.value,value:e.value,content:e.content,data:e.data})})))}function Xt(e){var t,n=e.onAttemptChange,r=e.onBrowserChange,a=(0,c.useDispatch)(),s=(0,H.z)(),l=(0,c.useSelector)((function(e){return e.app.suitesPage.currentBrowserId})),u=(0,c.useSelector)((function(e){return l&&e.tree.browsers.byId[l]?e.tree.browsers.byId[l].resultIds:[]})),d=(0,c.useSelector)(it.G4),m=(0,c.useSelector)(it.EP),p=null!==(t=(0,c.useSelector)(it.sT))&&void 0!==t?t:"",f=(0,c.useSelector)((function(e){if(null==m||!m.suitePath)return[];var t=m.suitePath.join(" "),n=e.tree.suites.byId[t];return n&&(0,Vt.fz)(n)?n.browserIds.map((function(t){var n=e.tree.browsers.byId[t];return n?{id:n.id,name:n.name}:null})).filter(Boolean):[]})),g=Bt(O.Wi),v=(0,c.useSelector)(it.d8),h=(0,c.useSelector)((function(e){return e.ui.suitesPage.isSnapshotsPlayerVisible})),I=(0,c.useSelector)((function(e){return e.running})),S=g&&v,y=(0,o.useCallback)((function(){null==s||s.trackFeatureUsage({featureName:"Toggle time travel player visibility"}),a(Ht(!h))}),[s,a,h]);Xe("r",(0,o.useCallback)((function(){d&&!I&&(null==s||s.trackFeatureUsage({featureName:"Run test via hotkey R"}),a((0,M.thunkRunTest)({test:{testName:d.parentId,browserName:d.name}})))}),[d,I,s,a]),{enabled:g&&!I}),Xe("p",y,{enabled:v});var T=(0,o.useCallback)((function(e){null==r||r(e)}),[r]);return o.createElement("div",{className:Dt.container},f.length>0&&o.createElement(o.Fragment,null,o.createElement(Kt,{availableBrowsers:f,currentBrowserId:l,onBrowserChange:T}),o.createElement(i.Divider,{orientation:"vertical",className:Dt.divider})),o.createElement("h3",{className:E()("text-header-1",Dt.heading)},"Attempts"),o.createElement("div",{className:Dt.attemptsContainer},u.map((function(e,t){return o.createElement(At.j,{key:e,resultId:e,isActive:e===p,onClick:function(){return function(e,t){l&&p!==e&&(null==n||n(l,e,t))}(e,t)}})}))),o.createElement("div",{className:Dt.buttonsContainer},v&&o.createElement(zt,{tooltip:o.createElement(o.Fragment,null,h?"Hide Time Travel Player":"Show Time Travel Player"," ⋅ ",o.createElement(i.Hotkey,{value:"p",view:"light"})),icon:o.createElement(i.Icon,{data:Ot.Z}),onClick:y,view:"outlined",selected:h}),S&&o.createElement(i.Divider,{orientation:"vertical",className:Dt.divider}),o.createElement(Ut,{browser:d,hotkey:o.createElement(i.Hotkey,{className:Dt.hotkey,view:"dark",value:"r"})})))}var qt=n(34262),Jt=n(71011);const $t="l7DAayf3LcpYsP3T2ULe",en="bC5kSSf27ahntfpDiS4R",tn="J42LWWFPcHemrVS7Ltkg",nn="UK5gnGvmTSc2C5kM1a0A",rn="_V1KWSGRKwt4vQr7b1Jz";var an=qt,on=function(){var e,t=(0,c.useSelector)(it.EP);if(!t)return null;var n=null===(e=t.attachments)||void 0===e?void 0:e.find((function(e){return e.type===ht.s.Badges}));return o.createElement("div",{className:$t},o.createElement("div",{className:en},(0,Jt.XF)(t.status),o.createElement("div",{className:tn,"data-qa":"suite-status-bar-status"},k().startCase(t.status)),o.createElement("div",{className:nn},function(e){if(void 0!==e.duration)return"in ".concat((e.duration/1e3).toFixed(1),"s")}(t))),n&&n.list.length>0&&o.createElement("div",{className:rn,"data-qa":"suite-badges"},n.list.map((function(e){return o.createElement(Tt,{key:e.title,title:e.title,icon:e.icon&&an[e.icon]?an[e.icon]:void 0,href:e.url})}))))};const cn="muBYOfEen_m8tSJh2hCl",sn="RgbiKKtfc9YGiEtUeWtY",ln="LpMOqM7AgrJWSvYxy1W3",un="Ztc10W8OVgV8sL0aGIaU",dn="i1qQgxI36YoEgEI2b5wo",mn="_VhDOpLVD6atRgsTBko9",pn="It1E1_VWwCWcraQxfr2g";var fn=n(62349),En=n.n(fn);function gn(){var e=(0,o.useState)([]),t=(0,d.Z)(e,2),n=t[0],r=t[1],a=(0,o.useState)([]),c=(0,d.Z)(a,2),s=c[0],l=c[1];return(0,o.useEffect)((function(){for(var e=[],t=0;t<En()(3,6);t++)e.push(o.createElement(i.Flex,{gap:2,key:t},o.createElement(i.Skeleton,{style:{height:"12px",width:"".concat(En()(20,35),"%")}}),o.createElement(i.Skeleton,{style:{height:"".concat(24*En()(1,3),"px"),width:"40%",marginLeft:"auto"}})));r(e);for(var n=[],a=0;a<En()(8,12);a++)n.push(o.createElement(i.Flex,{gap:2,key:a},o.createElement(i.Skeleton,{style:{height:"24px",width:"".concat(En()(60,80),"%")}}),o.createElement(i.Skeleton,{style:{height:"12px",width:"".concat(En()(5,8),"%"),marginLeft:"auto"}})));l(n)}),[]),o.createElement(i.Flex,{direction:"column",gap:4},o.createElement(i.Flex,{gap:2},o.createElement(i.Skeleton,{style:{height:"12px",width:"20%"}}),o.createElement(i.Skeleton,{style:{height:"12px",width:"35%"}})),o.createElement(i.Flex,{gap:2},o.createElement(i.Skeleton,{style:{height:"24px",width:"40%"}})),o.createElement(i.Flex,{gap:2},o.createElement(i.Skeleton,{style:{height:"20px",width:"20%"}})),o.createElement(i.Flex,{gap:2},o.createElement(i.Skeleton,{style:{height:"20px",width:"25%"}})),n,o.createElement(i.Flex,{gap:2},o.createElement(i.Skeleton,{style:{height:"20px",width:"20%"}})),s)}var vn=n(52902),hn=n(86522),In=o.createContext(null),Sn=In.Provider,yn=function(){var e=o.useContext(In);if(null===e)throw new Error("useErrorContext must be used within ErrorContextProvider");return e};function Tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tn(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nn(e){var t=wn();return function(){var n,r=(0,ee.Z)(e);if(t){var a=(0,ee.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,$.Z)(this,n)}}function wn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(wn=function(){return!!e})()}var Cn=function(e){(0,J.Z)(n,e);var t=Nn(n);function n(e){var r;return(0,X.Z)(this,n),(r=t.call(this,e)).state={watchFor:e.watchFor,hasError:!1,error:null,errorInfo:null},r}return(0,q.Z)(n,[{key:"restore",value:function(){this.setState({hasError:!1,error:null})}},{key:"componentDidCatchErrorInstance",value:function(e,t){this.setState({hasError:!0,error:e,errorInfo:t});var r=(new Date).toTimeString();console.groupCollapsed('%cError boundary catched error named "'.concat(e.name,'". See details below:')+"%c @ "+r,n.messageStyle,n.timestampStyle),console.error(e),console.error("Component stack: ",t.componentStack),console.groupEnd()}},{key:"componentDidCatchSomethingWeird",value:function(e,t){this.setState({hasError:!0,error:new Error("Unknown error, based on ".concat((0,hn.Z)(e)," value provided.\nReceived value: ").concat(e,", which is not an Error instance.\nTry check your code for throwing ").concat((0,hn.Z)(e),"s.")),errorInfo:t});var r=(new Date).toTimeString();console.groupCollapsed("%cError boundary catched ".concat((0,hn.Z)(e)," instead of Error class instance. Try check your code for throwing ").concat((0,hn.Z)(e),"s. See details below:")+"%c @ "+r,n.messageStyle,n.timestampStyle),console.log("Received ".concat((0,hn.Z)(e)," value: "),e),console.error("Component stack: ",t.componentStack),console.groupEnd()}},{key:"componentDidCatch",value:function(e,t){return e instanceof Error?this.componentDidCatchErrorInstance(e,t):this.componentDidCatchSomethingWeird(e,t)}},{key:"render",value:function(){return this.state.hasError?o.createElement(Sn,{value:{state:this.state,restore:this.restore.bind(this)}},this.props.fallback):this.props.children}}],[{key:"isNothingChanged",value:function(e,t){return e===t||void 0!==e&&void 0!==t&&(e.length===t.length&&e.every((function(e,n){return e===t[n]})))}},{key:"getDerivedStateFromProps",value:function(e,t){return n.isNothingChanged(t.watchFor,e.watchFor)?null:bn(bn({},t),{},{error:null,hasError:!1,errorInfo:null,watchFor:e.watchFor})}}]),n}(o.Component);(0,u.Z)(Cn,"messageStyle","background: crimson; color: white;"),(0,u.Z)(Cn,"timestampStyle","color: gray; font-size: smaller");var Mn=n(57807),On=n.n(Mn),An=n(48439),Dn=n.n(An);const kn={code:"dHRn8Yz83ZfjIQyOVx0s"};function Ln(e){return On().setColors({reset:["eee","00000000"]}),o.createElement("div",{className:E()(kn.code,e.className),style:e.style,dangerouslySetInnerHTML:{__html:On()(Dn()(e.name+"\n"+e.stack))}})}const _n="_LTkXHA4mWxFhAhQ7Uyw",xn="_LLJ1NpsLjP4Db9HQqT0",Rn="xolKAa1dSvDMxS_PEXf7",Pn="jfZSMLHKOF2TSiYmbEMA",jn="etcx80anDp8a8i5L972W",Zn="O4ff04wtuq_j5EXrm1K8",Bn="iNOdl5jVecZAcgqopMhi",Un="LruSxwTdpVZS32YMqoUA",zn="Rg4gP6QvZjvfl1PNCcEw";var Fn=n(41421);const Gn="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIHZpZXdCb3g9IjAgMCAxNyAxNyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04LjQ5OTcgMC42OTkzNTVDNC4wODIzMiAwLjY5OTM1NSAwLjUgNC4yODEwOCAwLjUgOC42OTkwM0MwLjUgMTIuMjMzOCAyLjc5MTk1IDE1LjIzMTUgNS45NzA2NSAxNi4yODk4QzYuMzcwNzUgMTYuMzYzOSA2LjUxNzggMTYuMTE1OSA2LjUxNzggMTUuOTA0NEM2LjUxNzggMTUuNzEzNyA2LjUwOTgzIDE1LjA4MzYgNi41MDY1OCAxNC40MTU2QzQuMjgwNzggMTQuODk5NiAzLjgxMTU3IDEzLjQ3MTMgMy44MTE1NyAxMy40NzEzQzMuNDQ3NzcgMTIuNTQ2NSAyLjkyMzM1IDEyLjMwMDYgMi45MjMzNSAxMi4zMDA2QzIuMTk3NTUgMTEuODAzNiAyLjk3ODU3IDExLjgxNDUgMi45Nzg1NyAxMS44MTQ1QzMuNzgxNzIgMTEuODcwNiA0LjIwNDU4IDEyLjYzODQgNC4yMDQ1OCAxMi42Mzg0QzQuOTE4NTcgMTMuODYxNCA2LjA3NjY1IDEzLjUwNzQgNi41MzI4NSAxMy4zMDMzQzYuNjA0OSAxMi43ODYzIDYuODExNiAxMi40MzMxIDcuMDQwNzMgMTIuMjMzMkM1LjI2MzcyIDEyLjAzMTYgMy4zOTU4IDExLjM0NTMgMy4zOTU4IDguMjc5NzNDMy4zOTU4IDcuNDA2NTggMy43MDg4IDYuNjkyNjEgNC4yMTk5MiA2LjEzMjczQzQuMTM2NjcgNS45MzA3OCAzLjg2MjY1IDUuMTE3NTggNC4yOTcgNC4wMTU4OEM0LjI5NyA0LjAxNTg4IDQuOTY4NzUgMy44MDA2MyA2LjQ5NzczIDQuODM1ODhDNy4xMzU1MyA0LjY1OTAxIDcuODE5NjcgNC41Njk4MyA4LjQ5OTEzIDQuNTY2ODhDOS4xNzkxMiA0LjU2OTgzIDkuODY0NDggNC42NTg3MSAxMC41MDMyIDQuODM1ODhDMTIuMDMwMSAzLjgwMTIzIDEyLjcwMTIgNC4wMTU4OCAxMi43MDEyIDQuMDE1ODhDMTMuMTM2MiA1LjExNzg4IDEyLjg2MzMgNS45MzE2NiAxMi43ODAxIDYuMTMyNzZDMTMuMjkzIDYuNjkyNjEgMTMuNjAzMyA3LjQwNjU4IDEzLjYwMzMgOC4yNzk3M0MxMy42MDMzIDExLjM1MjQgMTEuNzMxMiAxMi4wMjggOS45NTA0IDEyLjIyNjFDMTAuMjM3NCAxMi40NzQyIDEwLjQ5MzcgMTIuOTYxMSAxMC40OTM3IDEzLjcwN0MxMC40OTM3IDE0Ljc3NjggMTAuNDg0NiAxNS42MzkgMTAuNDg0NiAxNS45MDIxQzEwLjQ4NDYgMTYuMTE1IDEwLjYyODcgMTYuMzYzOSAxMS4wMzQ0IDE2LjI4NTlDMTQuMjExMyAxNS4yMjcxIDE2LjUwMDMgMTIuMjI5MSAxNi41MDAzIDguNjk2MzZDMTYuNTAwMyA0LjI3ODk4IDEyLjkxODYgMC42OTY2NTUgOC41MDAzIDAuNjk2NjU1TDguNDk5NzMgMC42OTkzM0w4LjQ5OTcgMC42OTkzNTVaIiBmaWxsPSJibGFjayIvPgo8L3N2Zz4K";function Hn(){window.open(O.WY,"_blank")}function Vn(e){return o.createElement(i.Button,(0,kt.Z)({},e,{view:"outlined",onClick:Hn}),o.createElement(i.Button.Icon,null,o.createElement("img",{src:Gn,alt:"icon",width:17,height:17})),"File an issue")}function Yn(){window.location.reload()}function Wn(e){return o.createElement(i.Button,(0,kt.Z)({},e,{view:"outlined",onClick:Yn}),o.createElement(i.Icon,{data:Fn.Z}),"Refresh this page")}var Qn={Boundary:Cn,FallbackAppCrash:function(){var e=yn().state;return o.createElement("div",{className:_n},o.createElement("div",{className:E()(xn,Rn)},o.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzMiIHZpZXdCb3g9IjAgMCAzMiAzMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTExLjIyIDI5Ljk2QzEzLjM1IDI5Ljk2IDE1LjM0IDI4LjgzIDE2LjQxIDI2Ljk4TDIwLjAzIDIwLjcxTDIyLjkzIDIwLjczQzI1LjA1IDIwLjczIDI3LjAyIDE5LjYgMjguMDggMTcuNzZMMjkuMTQgMTUuOTVIMjAuNTNDMTguNCAxNS45NSAxNi40MSAxNy4wOCAxNS4zNCAxOC45M0w4Ljk3OTk4IDI5Ljk0SDExLjIyVjI5Ljk2Wk0yNy45OCAxNi42MkwyNy40OSAxNy40M0MyNi41NSAxOS4wNiAyNC44IDIwLjA3IDIyLjkyIDIwLjA2TDIwLjQgMjAuMDRMMjIuMzcgMTYuNjFIMjcuOTdMMjcuOTggMTYuNjJaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNMjguMDMwMiAxMS41NUMyNi45NzAyIDkuNyAyNC45OTAyIDguNTUgMjIuODYwMiA4LjU1SDE1LjYyMDJMMTQuMTkwMiA2LjAzQzEzLjEzMDIgNC4xOSAxMS4xNjAyIDMuMDUgOS4wNTAyIDMuMDVMNi45NTAyIDMuMDNMMTEuMjUwMiAxMC40OEMxMi4zMTAyIDEyLjMzIDE0LjI5MDIgMTMuNDggMTYuNDIwMiAxMy40OEgyOS4xNDAyTDI4LjAzMDIgMTEuNTRWMTEuNTVaTTguMDkwMiAzLjdMOS4wNDAyIDMuNzJDMTAuOTIwMiAzLjcyIDEyLjY3MDIgNC43MyAxMy42MTAyIDYuMzZMMTQuODUwMiA4LjU1SDEwLjg5MDJMOC4wOTAyIDMuN1oiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik0zLjY2OTgyIDYuMTk5OTlDMi41OTk4MiA4LjAzOTk5IDIuNTg5ODIgMTAuMzMgMy42NTk4MiAxMi4xOEw3LjI3OTgyIDE4LjQ1TDUuODA5ODIgMjAuOTVDNC43NDk4MiAyMi43OCA0Ljc0OTgyIDI1LjA2IDUuODA5ODIgMjYuODlMNi44Mzk4MiAyOC43MUwxMS4xMzk4IDIxLjI2QzEyLjIwOTggMTkuNDIgMTIuMjE5OCAxNy4xMyAxMS4xNDk4IDE1LjI4TDQuNzk5ODIgNC4yNjk5OUwzLjY2OTgyIDYuMTk5OTlaTTYuODQ5ODIgMjcuMzlMNi4zODk4MiAyNi41NkM1LjQ0OTgyIDI0LjkzIDUuNDQ5ODIgMjIuOTEgNi4zODk4MiAyMS4yOEw3LjY1OTgyIDE5LjExTDkuNjM5ODIgMjIuNTNMNi44Mzk4MiAyNy4zOEw2Ljg0OTgyIDI3LjM5WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==",alt:"icon",width:32,height:32}),o.createElement("div",{className:Pn}),o.createElement(i.Text,{variant:"subheader-3"},"Something went wrong"),o.createElement(i.Text,{variant:"body-1",color:"secondary"},"Testplane UI has crashed"),o.createElement("div",{className:Pn}),o.createElement(Ln,{className:Un,name:e.error.name,stack:e.error.stack}),o.createElement("div",{className:Pn}),o.createElement("div",{className:E()(zn)},o.createElement(Wn,{width:"max"}),o.createElement(Vn,{width:"max"})),o.createElement(i.Text,{variant:"body-1",color:"secondary"},"We would appreciate a detailed",o.createElement("br",null),"report with reproduction steps.")))},FallbackCardCrash:function(e){var t=e.recommendedAction,n=yn().state;return o.createElement("div",{className:E()(xn)},o.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjggOCAzOCAyOSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjYuOTk5NiIgY3k9IjMxLjM3OTQiIHI9IjEuNzkzMSIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTIzLjU0MDUgNy45NTA4MUMyNS4wODIyIDUuMjk1MTEgMjguOTE3NCA1LjI5NTExIDMwLjQ1OTEgNy45NTA4Mkw0NC40MTU1IDMxLjk5MThDNDUuOTYzNSAzNC42NTg0IDQ0LjAzOTUgMzggNDAuOTU2MSAzOEgxMy4wNDM1QzkuOTYwMDUgMzggOC4wMzYwOCAzNC42NTg0IDkuNTg0MTQgMzEuOTkxOEwyMy41NDA1IDcuOTUwODFaIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIiLz4KPHBhdGggZD0iTTI2LjEwMzEgMTQuMzQ1NEMyNS42NTQ4IDE0Ljc5MzYgMjYuNTUxNyAyNi44OTcyIDI3IDI2Ljg5NzJDMjcuNDQ4MyAyNi44OTczIDI4LjM0NDUgMTQuNzkzNiAyNy44OTYyIDE0LjM0NTRDMjcuNDQ3OSAxMy44OTcxIDI2LjU1MTQgMTMuODk3MSAyNi4xMDMxIDE0LjM0NTRaIiBmaWxsPSJibGFjayIgc3Ryb2tlPSJibGFjayIvPgo8L3N2Zz4K",alt:"icon",width:32,height:32}),o.createElement(i.Text,{variant:"subheader-3"},"Something went wrong"),o.createElement(i.Text,{variant:"body-1",color:"secondary"},"The data is corrupted or there’s a bug on our side"),o.createElement(Ln,{className:Un,name:n.error.name,stack:n.error.stack}),"string"==typeof t?o.createElement(i.Text,{variant:"body-1"},t):t,t&&o.createElement("div",{className:E()(Zn)},o.createElement(i.Divider,{className:E()(Bn)}),o.createElement(i.Text,{variant:"caption-1",color:"secondary"},"OR"),o.createElement(i.Divider,{className:E()(Bn)})),o.createElement(Vn,null))},FallbackDataCorruption:function(){var e=yn().state;return o.createElement("div",{className:E()(xn,jn)},o.createElement(i.Text,{variant:"body-1",color:"secondary"},"The data is corrupted or there’s a bug on our side. ",o.createElement(i.Link,{href:O.WY,target:"_blank"},"File an issue")),o.createElement(Ln,{className:Un,name:e.error.name,stack:e.error.stack}))}},Kn=n(46175),Xn=n(28978),qn=n(9123),Jn=n(54523),$n=n(44742),er=n(28974),tr=n(18717);const nr={wrapper:"WqxIjCTtdCRPrQGjgPs2"};function rr(e){return o.createElement("div",{className:nr.wrapper},e.children)}const ar={wrapper:"ntceMu1H5HZhHAf0bZM3",item:"lKApnVoVLEWkxYb29jma","item--failed":"kiPtUIMAuyhD23KGlTwO",itemFailed:"kiPtUIMAuyhD23KGlTwO"};function ir(e){return function t(n){return n>=e.args.length?null:o.createElement("div",{className:E()(ar.wrapper)},o.createElement("span",{className:E()([ar.item,(0,u.Z)({},ar["item--failed"],!e.isActive&&e.isFailed)])},(0,Jt.Pz)(e.args[n])),t(n+1))}(0)}var or=n(97698),cr=function(e){return e[e.Action=0]="Action",e[e.Attachment=1]="Attachment",e[e.ErrorInfo=2]="ErrorInfo",e[e.SingleImage=3]="SingleImage",e[e.AssertViewResult=4]="AssertViewResult",e}({}),sr=n(9560);function lr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ur(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ur(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function ur(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var dr=function(e,t){function n(e){if(t(e),e.children){var r,a=lr(e.children);try{for(a.s();!(r=a.n()).done;){n(r.value)}}catch(e){a.e(e)}finally{a.f()}}}var r,a=lr(e);try{for(a.s();!(r=a.n()).done;){n(r.value)}}catch(e){a.e(e)}finally{a.f()}},mr=function(e,t){return{"--indent":e.structure.itemsState[t].indentation}};function pr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return fr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Er=(0,or.createSelector)([j.Al,it.EP,it.FA],(function(e,t,n){if(!t||!t.history)return[];var r=function e(t,n){return t.map((function(t,r){var a,i=Boolean(t[ht.z.Children]&&(null===(a=t[ht.z.Children])||void 0===a?void 0:a.length)>0),o={id:"".concat(n," ").concat(r),data:{type:cr.Action,title:t[ht.z.Name],duration:t[ht.z.Duration],startTime:t[ht.z.TimeStart],status:t[ht.z.IsFailed]?O.ih.ERROR:O.ih.SUCCESS,args:t[ht.z.Args],isGroup:t[ht.z.IsGroup],repeat:t[ht.z.Repeat],hasChildren:i}};return i&&(o.children=e(t[ht.z.Children],o.id)),o}))}(t.history,t.id);if(t.error&&!(0,sr.ci)(t.error)&&!(0,sr.iR)(t.error)){var a=function(e){var t=null;return dr(e,(function(e){e.data.type===cr.Action&&e.data.status===O.ih.ERROR&&(t=e)})),t}(r),i=(0,sr.Fm)(t.error),o={id:"".concat(null==a?void 0:a.id," error 0"),data:{type:cr.ErrorInfo,name:i.name,stack:i.stack}},c={id:"".concat(null==a?void 0:a.id," error"),data:{type:cr.Attachment,title:"Error",hasChildren:!0},children:[o]};a&&a.children&&a.children.length>0?a.children.push(c):a?a.children=[o]:r.push(c)}var s,l=pr(n);try{var u=function(){var t,n=s.value;if(!n.stateName)return"continue";if(dr(r,(function(r){var a,i,o;r.data.type===cr.Action&&(e===O.YO.Playwright?(r.data.title.includes("toHaveScreenshot")&&r.data.title.includes(null!==(a=n.stateName)&&void 0!==a?a:"")||r.data.title.includes("toMatchScreenshot")&&null!==(i=r.children)&&void 0!==i&&null!==(i=i[0])&&void 0!==i&&null!==(i=i.data)&&void 0!==i&&null!==(i=i.title)&&void 0!==i&&i.includes(null!==(o=n.stateName)&&void 0!==o?o:""))&&(t=r):"assertView"===r.data.title&&r.data.args[0]===n.stateName&&(t=r))})),t?t.data.type===cr.Action&&(t.data.hasChildren=!0):(t={id:"".concat(n.id," assertView"),data:{type:cr.Action,title:"assertView",status:n.status,args:[n.stateName],isGroup:!1,hasChildren:!0}},r.push(t)),n.status===O.ih.ERROR&&n.error){var a={id:"".concat(n.id," assertView error-info"),data:{type:cr.ErrorInfo,name:n.error.name,stack:n.error.stack||n.error.message}},i={id:"".concat(n.id," assertView error"),data:{type:cr.Attachment,title:"Error",hasChildren:!0},children:[a]};t.children||(t.children=[]),t.children.push(i)}var o={id:"".concat(n.id," image"),data:{type:cr.AssertViewResult,result:n}};t.data.type===cr.Action&&(t.data.status=n.status),t.children&&t.children.length>0?t.children.push({id:"".concat(t.id," attachment"),data:{type:cr.Attachment,title:"Screenshots",hasChildren:!0},children:[o]}):t.children=[o]};for(l.s();!(s=l.n()).done;)u()}catch(e){l.e(e)}finally{l.f()}var d=n.find((function(e){return e.status===O.ih.ERROR&&!e.stateName}));return d&&r.push({id:"page-screenshot",data:{type:cr.Attachment,title:"Page Screenshot",hasChildren:!0},children:[{id:"page-screenshot-image",data:{type:cr.SingleImage,image:d.actualImg}}]}),r})),gr=(0,or.createSelector)([Er,it.WQ],(function(e,t){var n={};return dr(e,(function(e){var r;if(e.children){var a=e.id,i=!(e.data.type===cr.Action&&"assertView"===e.data.title&&e.data.status===O.ih.UPDATED);n[a]=null!==(r=t[a])&&void 0!==r?r:i}})),n}));const vr={"tree-view-item":"QhnkL9SOrvWtbErZaAKx",treeViewItem:"QhnkL9SOrvWtbErZaAKx","tree-view-item--active":"DZ7vlCVBM88vYE0_r6mQ",treeViewItemActive:"DZ7vlCVBM88vYE0_r6mQ","tree-view-item--error":"UbaPLUI4_sN41zFxfXtx",treeViewItemError:"UbaPLUI4_sN41zFxfXtx","tree-view-item--corrupted":"ve7hJEGzoe9lERnWCZfG",treeViewItemCorrupted:"ve7hJEGzoe9lERnWCZfG"};function hr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ir(e){var t,n=e.list.structure.itemsState[e.id].indentation,r=e.list.structure.itemsById[e.id].hasChildren;return o.createElement(qn.CM,(0,kt.Z)({onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,className:E()([e.className,vr.treeViewItem,(t={},(0,u.Z)(t,vr["tree-view-item--active"],e.isActive),(0,u.Z)(t,vr["tree-view-item--corrupted"],!e.isActive&&"corrupted"===e.status),(0,u.Z)(t,vr["tree-view-item--error"],!e.isActive&&"error"===e.status),t)]),activeOnHover:!0,style:{"--indent":n+Number(!r)}},(0,qn.vy)({id:e.id,list:e.list,onItemClick:e.onItemClick,mapItemDataToContentProps:function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({indentation:0},e.mapItemDataToContentProps(t))}}).props))}const Sr={"step-content":"wRBXBDdHrTikZ7hs1rdK",stepContent:"wRBXBDdHrTikZ7hs1rdK","step-args-wrapper":"LR4BHdAv8jwAMuF4Pc3E",stepArgsWrapper:"LR4BHdAv8jwAMuF4Pc3E","error-info":"gpWDkSaE77J9qpEhWFRw",errorInfo:"gpWDkSaE77J9qpEhWFRw","page-screenshot":"ZjYDeaZ2zu8wgTOVQM8B",pageScreenshot:"ZjYDeaZ2zu8wgTOVQM8B","step-duration":"AMx1IJ4ecNKFSIXEnbEh",stepDuration:"AMx1IJ4ecNKFSIXEnbEh","step-duration-avg":"Kc7shViRKvkr7VW8ExOW",stepDurationAvg:"Kc7shViRKvkr7VW8ExOW","step-repeat":"hsRvyfBD6GFXFc8_aM5k",stepRepeat:"hsRvyfBD6GFXFc8_aM5k",step:"f4y9L5V1wtKbRyvPLvEA","step--dimmed":"GRSYjuQxCFGe42ORpaHR",stepDimmed:"GRSYjuQxCFGe42ORpaHR"};var yr=n(81845),Tr=n(84579),br=n(7065),Nr=n(35682),wr=n(74677),Cr=n(44049),Mr=n(50929),Or=n(55476),Ar=n(64714),Dr=.1,kr=50,Lr=.2,_r=.015,xr=1,Rr=function(e){return e.FitView="fit-view",e.FitWidth="fit-width",e}({});function Pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zr={scale:1,translateX:0,translateY:0},Br=(0,o.createContext)(null);function Ur(){var e=(0,o.useContext)(Br);if(!e)throw new Error("useViewportContext must be used within ViewportContext.Provider");return e}var zr=n(27724),Fr=n(50048),Gr=n(27348),Hr=n(52394),Vr=n(1704);const Yr={toolbar:"OLWktdWrJghGwoBjikLo","toolbar-button":"O5sFsSp5NPlb7YMaFLhs",toolbarButton:"O5sFsSp5NPlb7YMaFLhs"};function Wr(e,t,n,r,a,i){var o=r/e;return{scale:r,translateX:a-(a-t)*o,translateY:i-(i-n)*o}}function Qr(e){var t=Ur(),n=t.updateViewport,r=t.setFitMode,a=(0,o.useCallback)((function(){var t,r,a,i,o=e.containerRef.current;if(o){var c=o.getBoundingClientRect(),s=c.width/2-(null!==(t=null===(r=e.imageWrapperRef.current)||void 0===r?void 0:r.offsetLeft)&&void 0!==t?t:0),l=c.height/2-(null!==(a=null===(i=e.imageWrapperRef.current)||void 0===i?void 0:i.offsetTop)&&void 0!==a?a:0);n((function(e){var t=Math.min(kr,e.scale*(1+Lr));return t!==e.scale?Wr(e.scale,e.translateX,e.translateY,t,s,l):{}}))}}),[n,e.containerRef]),c=(0,o.useCallback)((function(){var t,r,a,i,o=e.containerRef.current;if(o){var c=o.getBoundingClientRect(),s=c.width/2-(null!==(t=null===(r=e.imageWrapperRef.current)||void 0===r?void 0:r.offsetLeft)&&void 0!==t?t:0),l=c.height/2-(null!==(a=null===(i=e.imageWrapperRef.current)||void 0===i?void 0:i.offsetTop)&&void 0!==a?a:0);n((function(e){var t=Math.max(Dr,e.scale/(1+Lr));return t!==e.scale?Wr(e.scale,e.translateX,e.translateY,t,s,l):{}}))}}),[n,e.containerRef]),s=(0,o.useCallback)((function(){n({scale:1,translateX:0,translateY:0}),r(Rr.FitView)}),[n,r]),l=(0,o.useCallback)((function(){n({scale:1,translateX:0,translateY:0}),r(Rr.FitWidth)}),[n,r]),u=(0,o.useCallback)((function(){var t=document.createElement("a");t.target="_blank",t.href=e.image.path;var n=e.image.path.split("/").pop()||"screenshot.png";t.download=n,document.body.appendChild(t),t.click(),document.body.removeChild(t)}),[e.image.path]);return o.createElement("div",{className:E()(Yr.toolbar,e.className),"data-toolbar":!0},o.createElement(i.Button,{view:"flat",size:"m",className:Yr.toolbarButton,onClick:u,title:"Download image"},o.createElement(i.Icon,{data:zr.Z})),o.createElement(i.Button,{view:"flat",size:"m",className:Yr.toolbarButton,onClick:s,title:"Fit to view"},o.createElement(i.Icon,{data:Fr.Z})),o.createElement(i.Button,{view:"flat",size:"m",className:Yr.toolbarButton,onClick:l,title:"Fit to width"},o.createElement(i.Icon,{data:Gr.Z})),o.createElement(i.Button,{view:"flat",size:"m",className:Yr.toolbarButton,onClick:a,title:"Zoom in"},o.createElement(i.Icon,{data:Hr.Z})),o.createElement(i.Button,{view:"flat",size:"m",className:Yr.toolbarButton,onClick:c,title:"Zoom out"},o.createElement(i.Icon,{data:Vr.Z})))}const Kr={"interactive-container":"F0czAcqcGlFEo03QJtAm",interactiveContainer:"F0czAcqcGlFEo03QJtAm","unified-container":"M3NdgGHaMb1hQl8AF3A2",unifiedContainer:"M3NdgGHaMb1hQl8AF3A2",screenshot:"fghOPIqkzUsBbTq0xcW2","screenshot-overlay":"b6GDgE09GjrbCqUdeMkW",screenshotOverlay:"b6GDgE09GjrbCqUdeMkW",toolbar:"VKflj9ytkcHTuMmrzGeQ"};function Xr(e){var t=Ur(),n=t.viewport,r=t.updateViewport,a=t.fitMode,i=t.setFitMode,c=(0,o.useRef)(null),s=(0,o.useState)(!1),l=(0,d.Z)(s,2),u=l[0],m=l[1],p=(0,o.useRef)({x:0,y:0}),f=(0,o.useRef)(e.image.path),g=(0,o.useRef)({x:0,y:0}),v=(0,o.useRef)(null),h=(0,o.useRef)(null);(0,o.useEffect)((function(){f.current!==e.image.path&&(r({scale:1,translateX:0,translateY:0}),i(e.defaultFitMode||Rr.FitWidth),f.current=e.image.path)}),[e.image.path,e.defaultFitMode,r,i]);var I=(0,o.useCallback)((function(){var e=g.current.x,t=g.current.y;Math.abs(e)>.5||Math.abs(t)>.5?(r((function(n){return{translateX:n.translateX+e,translateY:n.translateY+t}})),g.current.x*=.3,g.current.y*=.3,v.current=requestAnimationFrame(I)):(g.current={x:0,y:0},v.current=null)}),[r]),S=(0,o.useCallback)((function(e){var t,n,a,i;e.preventDefault(),e.stopPropagation();var o=c.current;if(o){var s=o.getBoundingClientRect(),l=e.clientX-s.left-(null!==(t=null===(n=h.current)||void 0===n?void 0:n.offsetLeft)&&void 0!==t?t:0),u=e.clientY-s.top-(null!==(a=null===(i=h.current)||void 0===i?void 0:i.offsetTop)&&void 0!==a?a:0),d=1,m=0,p=0;e.ctrlKey||e.metaKey?d=Math.exp(-e.deltaY*_r):(m=-e.deltaX*xr,p=-e.deltaY*xr,v.current&&(cancelAnimationFrame(v.current),v.current=null),g.current.x=.3*m,g.current.y=.3*p),1!==d?r((function(e){var t=e.scale,n=Math.max(Dr,Math.min(kr,t*d));return n!==t?Wr(t,e.translateX,e.translateY,n,l,u):{}})):0===m&&0===p||(r((function(e){return{translateX:e.translateX+m,translateY:e.translateY+p}})),v.current||(v.current=requestAnimationFrame(I)))}}),[I,r]);(0,o.useEffect)((function(){var e=c.current;if(e)return e.addEventListener("wheel",S,{passive:!1}),function(){e.removeEventListener("wheel",S),v.current&&cancelAnimationFrame(v.current)}}),[]);var y=(0,o.useCallback)((function(e){0===e.button&&(e.target.closest("[data-toolbar]")||(v.current&&(cancelAnimationFrame(v.current),v.current=null),g.current={x:0,y:0},m(!0),p.current={x:e.clientX,y:e.clientY},e.currentTarget.setPointerCapture(e.pointerId)))}),[]),T=(0,o.useCallback)((function(e){if(u){var t=e.clientX-p.current.x,n=e.clientY-p.current.y;r((function(e){return{translateX:e.translateX+t,translateY:e.translateY+n}})),p.current={x:e.clientX,y:e.clientY}}}),[u,r]),b=(0,o.useCallback)((function(e){u&&(m(!1),e.currentTarget.releasePointerCapture(e.pointerId))}),[u]),N="translate(".concat(n.translateX,"px, ").concat(n.translateY,"px) scale(").concat(n.scale,")");return o.createElement("div",{ref:c,className:"".concat(Kr.interactiveContainer," ").concat(e.containerClassName||""),style:{cursor:u?"grabbing":"grab"},onPointerDown:y,onPointerMove:T,onPointerUp:b,onPointerCancel:b},o.createElement("div",{className:Kr.unifiedContainer,style:{aspectRatio:"".concat(e.unifiedDimensions.width," / ").concat(e.unifiedDimensions.height),width:a===Rr.FitWidth?"calc(min(100%, ".concat(e.unifiedDimensions.width,"px))"):void 0,maxHeight:a===Rr.FitView?"calc(min(100%, ".concat(e.unifiedDimensions.height,"px))"):void 0,maxWidth:a===Rr.FitView?"100%":void 0,height:a===Rr.FitView?"100%":void 0,transform:N},ref:h},o.createElement("img",{src:e.image.path,alt:"Screenshot",className:Kr.screenshot,style:{imageRendering:n.scale>1?"pixelated":"auto"}}),e.overlayImage&&e.showOverlay&&o.createElement("img",{src:e.overlayImage.path,alt:"Diff overlay",className:E()(Kr.screenshot,Kr.screenshotOverlay),style:{imageRendering:n.scale>1?"pixelated":"auto"}})),o.createElement(Qr,{className:Kr.toolbar,image:e.image,containerRef:c,imageWrapperRef:h}))}const qr={"two-up-interactive-mode":"ZWkIdkqLb5TbbOTZiG5t",twoUpInteractiveMode:"ZWkIdkqLb5TbbOTZiG5t","image-panel":"nyCnzK5RVB363xD7e4nN",imagePanel:"nyCnzK5RVB363xD7e4nN",divider:"Qa5WIMOjRnfN_Yjd35DB","side-container":"SpuPxUFZOIBsYBlQdGAj",sideContainer:"SpuPxUFZOIBsYBlQdGAj","image-container":"PtPlCjrkPYe_MG4IK2pm",imageContainer:"PtPlCjrkPYe_MG4IK2pm"},Jr={"image-label":"jApgJ8zTfUMQDYwQhObj",imageLabel:"jApgJ8zTfUMQDYwQhObj","image-label-subtitle":"W5IwBC_4o97mxmZflwQV",imageLabelSubtitle:"W5IwBC_4o97mxmZflwQV"};function $r(e){var t=e.title,n=e.subtitle;return o.createElement("div",{className:Jr.imageLabel,"data-testid":"image-label-".concat(t.toLowerCase())},o.createElement("span",null,t),n&&o.createElement("span",{className:Jr.imageLabelSubtitle},n))}var ea=n(60460);function ta(e){var t,n,r,a,i,c,s,l,u,m=(n=(0,o.useState)(t||Zr),r=(0,d.Z)(n,2),a=r[0],i=r[1],c=(0,o.useState)(Rr.FitWidth),s=(0,d.Z)(c,2),l=s[0],u=s[1],{viewport:a,updateViewport:(0,o.useCallback)((function(e){i((function(t){var n="function"==typeof e?e(t):e;return jr(jr({},t),n)}))}),[]),fitMode:l,setFitMode:u}),p=e.globalTwoUpFitMode===O.fi.FitToView?Rr.FitView:Rr.FitWidth,f=e.differentPixels&&e.diffRatio?" ⋅ ".concat((0,ea.kZ)(e.differentPixels)," ").concat(e.differentPixels>1?"are":"is"," different (").concat((0,ea.hi)(e.diffRatio),"%)"):"",E=(0,Jt.k)(e.actual)+f,g=(0,o.useMemo)((function(){return{width:Math.max(e.expected.size.width,e.actual.size.width),height:Math.max(e.expected.size.height,e.actual.size.height)}}),[e.expected.size,e.actual.size]);return(0,o.useEffect)((function(){e.globalTwoUpFitMode===O.fi.FitToView?m.setFitMode(Rr.FitView):e.globalTwoUpFitMode===O.fi.FitToWidth&&m.setFitMode(Rr.FitWidth),m.updateViewport({scale:1,translateX:0,translateY:0})}),[e.globalTwoUpFitMode]),o.createElement(Br.Provider,{value:m},o.createElement("div",{className:qr.twoUpInteractiveMode,"data-testid":"two-up-interactive-mode"},o.createElement("div",{className:qr.sideContainer},o.createElement($r,{title:"Expected",subtitle:(0,Jt.k)(e.expected)}),o.createElement("div",{className:qr.imagePanel,"data-testid":"image-panel-expected"},o.createElement(Xr,{image:e.expected,unifiedDimensions:g,containerClassName:qr.imageContainer,defaultFitMode:p}))),o.createElement("div",{className:qr.divider}),o.createElement("div",{className:qr.sideContainer},o.createElement($r,{title:"Actual",subtitle:E}),o.createElement("div",{className:qr.imagePanel,"data-testid":"image-panel-actual"},o.createElement(Xr,{image:e.actual,unifiedDimensions:g,containerClassName:qr.imageContainer,overlayImage:e.diff,showOverlay:e.is2UpDiffVisible,defaultFitMode:p})))))}function na(e){var t=(0,c.useSelector)((function(e){return e.ui.visualChecksPage.is2UpDiffVisible})),n=(0,c.useSelector)((function(e){return e.ui.visualChecksPage.twoUpFitMode}));return o.createElement(ta,(0,kt.Z)({},e,{is2UpDiffVisible:t,globalTwoUpFitMode:n}))}function ra(e){var t,n=Object.assign({},e.expectedImg,{label:o.createElement($r,{title:"Expected",subtitle:(0,Jt.k)(e.expectedImg)})}),r=Object.assign({},e.actualImg,{label:o.createElement($r,{title:"Actual",subtitle:(0,Jt.k)(e.actualImg)})});void 0!==e.differentPixels&&void 0!==e.diffRatio&&(t="".concat(e.differentPixels,"px ⋅ ").concat((0,ea.hi)(e.diffRatio),"%"));var a=Object.assign({},e.diffImg,{label:o.createElement($r,{title:"Diff",subtitle:t}),diffClusters:e.diffClusters});switch(e.diffMode){case O.nx.ONLY_DIFF.id:return o.createElement(br._,{diff:a});case O.nx.SWITCH.id:return o.createElement(Nr.H,{expected:n,actual:r});case O.nx.SWIPE.id:return o.createElement(wr.p,{expected:n,actual:r});case O.nx.ONION_SKIN.id:return o.createElement(Cr.n,{expected:n,actual:r});case O.nx.THREE_UP_SCALED.id:return o.createElement(Mr.P,{expected:n,actual:r,diff:a});case O.nx.THREE_UP_SCALED_TO_FIT.id:var i,c=null!==(i=e.desiredHeight)&&void 0!==i?i:"calc(100vh - 180px)";return o.createElement(Or.g,{desiredHeight:c,expected:n,actual:r,diff:a});case O.nx.TWO_UP_INTERACTIVE.id:return o.createElement(na,{expected:n,actual:r,diff:a,differentPixels:e.differentPixels,diffRatio:e.diffRatio});case O.nx.THREE_UP.id:default:return o.createElement(Ar.t,{expected:n,actual:r,diff:a})}}const aa={screenshot:"vjAthq06BGCMTC8Mv9Qq","screenshot-container":"DlKdIVLCG7dotil9mUek",screenshotContainer:"DlKdIVLCG7dotil9mUek"};function ia(e){var t=e.result,n=e.diffMode,r=e.style;return t.status===O.ih.FAIL?o.createElement(ra,(0,kt.Z)({diffMode:n},t)):t.status===O.ih.ERROR?o.createElement("div",{className:aa.screenshotContainer},o.createElement($r,{title:"Actual",subtitle:(0,Jt.k)(t.actualImg)}),o.createElement(yr.w,{containerStyle:r,containerClassName:aa.screenshot,image:t.actualImg})):t.status===O.ih.SUCCESS||t.status===O.ih.UPDATED?o.createElement("div",{className:aa.screenshotContainer},o.createElement($r,{title:"Expected",subtitle:(0,Jt.k)(t.expectedImg)}),o.createElement(yr.w,{containerStyle:r,containerClassName:aa.screenshot,image:t.expectedImg})):t.status===O.ih.STAGED?o.createElement("div",{className:aa.screenshotContainer},o.createElement($r,{title:"Staged",subtitle:(0,Jt.k)(t.actualImg)}),o.createElement(yr.w,{containerStyle:r,containerClassName:aa.screenshot,image:t.actualImg})):t.status===O.ih.COMMITED?o.createElement("div",{className:aa.screenshotContainer},o.createElement($r,{title:"Committed",subtitle:(0,Jt.k)(t.actualImg)}),o.createElement(yr.w,{containerStyle:r,containerClassName:aa.screenshot,image:t.actualImg})):null}function oa(e){var t=Object.values(O.nx);return e===O.T3.visualChecksPage?t:t.filter((function(e){return e.id!==O.nx.TWO_UP_INTERACTIVE.id}))}var ca=n(14054);const sa={container:"Bzu9PGbArU7lRN2Ar305"};var la=n(83832),ua=n(99652),da=n(47347),ma=n(65471),pa=n(41020),fa=n(86686),Ea=n(45163),ga=n(92275),va=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null===e)return o.createElement(i.Icon,{data:la.Z,width:16,className:t?"icon-skip":""});if((0,sr.S5)(e.error))return o.createElement(i.Icon,{data:ua.Z,width:16,className:t?"icon-fail":""});if((0,sr.Ne)(e.error))return o.createElement(i.Icon,{data:da.Z,width:16,className:t?"icon-fail":""});switch(e.status){case O.ih.SUCCESS:return o.createElement(i.Icon,{data:ma.Z,width:16,className:t?"icon-success":""});case O.ih.STAGED:return o.createElement(i.Icon,{data:pa.Z,width:16,className:t?"icon-success":""});case O.ih.COMMITED:return o.createElement(i.Icon,{data:fa.Z,width:16,className:t?"icon-committed":""});case O.ih.FAIL:return o.createElement(i.Icon,{data:Ea.Z,width:16,className:t?"icon-fail":""});case O.ih.UPDATED:return o.createElement(i.Icon,{data:pa.Z,width:16,className:t?"icon-updated":""})}return o.createElement(i.Icon,{data:ga.Z,width:16})},ha=function(e){if(null===e)return"Image is absent";if((0,sr.S5)(e.error))return"Reference not found";if((0,sr.Ne)(e.error))return"Reference is broken";switch(e.status){case O.ih.SUCCESS:return"Images match";case O.ih.STAGED:return"Image is staged";case O.ih.COMMITED:return"Image was committed";case O.ih.FAIL:return"Difference detected";case O.ih.UPDATED:return"Reference updated"}return"Failed to compare"};function Ia(e){var t=e.image;return o.createElement("div",{className:sa.container},va(t),o.createElement("span",{"data-qa":"assert-view-status"},ha(t)))}const Sa={container:"zpJECOhq9qZd3bvl0Pdw","toolbar-container":"E6G546D3l4lfgSoA2pMl",toolbarContainer:"E6G546D3l4lfgSoA2pMl","accept-button":"duhqOxbJdunbXhlqw2xx regular-button from global, action-button",acceptButton:"duhqOxbJdunbXhlqw2xx regular-button from global, action-button","go-to-visual":"R_LOEH9XObHPRiJR4nml regular-button from global, action-button",goToVisual:"R_LOEH9XObHPRiJR4nml regular-button from global, action-button","buttons-container":"c3vmDPGU0o8ISP97chr3",buttonsContainer:"c3vmDPGU0o8ISP97chr3","diff-mode-container":"ELlBfFH2SqOCLQnFzAJq",diffModeContainer:"ELlBfFH2SqOCLQnFzAJq","diff-mode-switcher":"jQlVLqJv__6SYlybe_s1",diffModeSwitcher:"jQlVLqJv__6SYlybe_s1","diff-mode-select":"EnBKE_JkU1Cwk_eYZGMq",diffModeSelect:"EnBKE_JkU1Cwk_eYZGMq",hotkey:"kMsEJFA6LTELYCVuSdFC","hotkey-hidden":"y48vzsAKurQFZkD0byCm",hotkeyHidden:"y48vzsAKurQFZkD0byCm"};var ya=n(54432),Ta=function(e){var t;return"".concat(e.page===O.T3.visualChecksPage?O.HL.visualChecks:O.HL.suites,"/")+[e.hash,e.browser,null===(t=e.attempt)||void 0===t?void 0:t.toString(),e.stateName].filter(Boolean).map(encodeURIComponent).join("/")},ba=n(68079),Na=(0,o.createContext)(null);function wa(e){var t=e.children,n=(0,o.useState)(null),r=(0,d.Z)(n,2),a=r[0],i=r[1],c=(0,o.useState)([]),s=(0,d.Z)(c,2),l=s[0],u=s[1],m=(0,o.useCallback)((function(e){u((function(t){return t.includes(e)?t:[].concat((0,ba.Z)(t),[e])}))}),[]),p=(0,o.useCallback)((function(e){u((function(t){return t.filter((function(t){return t!==e}))}))}),[]);return(0,o.useEffect)((function(){l.length>0&&(null===a||!l.includes(a))&&i(l[0])}),[l,a]),o.createElement(Na.Provider,{value:{focusedImageId:a,setFocusedImageId:i,imageIds:l,registerImageId:m,unregisterImageId:p}},t)}function Ca(e){return null===e?null:e.scrollHeight>e.clientHeight?e:Ca(e.parentNode)}var Ma=200;function Oa(e){var t=(0,c.useDispatch)(),n=(0,H.z)(),r=(0,s.s0)(),l=(0,s.UO)(),u=l.hash,m=l.browser,p=l.stateName,f=(0,o.createRef)(),E=(0,o.useRef)(!1),g=(0,c.useSelector)((0,it.bi)({hash:u,browser:m})),v=function(){var e=(0,o.useContext)(Na);if(!e)throw new Error("useFocusedImage must be used within a FocusedImageProvider");return e}(),h=v.focusedImageId,I=v.setFocusedImageId,S=v.registerImageId,y=v.unregisterImageId,T=h===e.image.id,b=(0,c.useSelector)((function(e){return e.view.diffMode})),N=(0,c.useSelector)((function(e){return e.app.availableFeatures})).find((function(e){return e.name===O.B$.name})),w=(0,c.useSelector)((function(e){return e.staticImageAccepter.enabled})),C=(0,c.useSelector)((function(e){return e.running})),A=(0,c.useSelector)((function(e){return e.processing})),D=(0,c.useSelector)((function(e){return e.gui})),k=e.image.status===O.ih.FAIL&&e.image.diffImg,L=(0,c.useSelector)(it.G4),_=(0,c.useSelector)(it.EP),x=_&&L&&_.id===L.resultIds[L.resultIds.length-1],R=(0,ca.KD)({gui:D,image:e.image,isLastResult:x,isStaticImageAccepterEnabled:w}),P=(0,ca.h3)(e.image);(0,o.useEffect)((function(){return S(e.image.id),function(){y(e.image.id)}}),[e.image.id,S,y]);var j=function(e){t((0,M.setDiffMode)({diffModeId:e}))},B=(0,o.useCallback)((function(){null==n||n.trackScreenshotsAccept(),t(w?(0,M.staticAccepterStageScreenshot)([e.image.id]):(0,ya.Ro)({imageIds:[e.image.id]}))}),[n,w,t,e.image.id]),U=(0,o.useCallback)((function(){t(w?(0,M.staticAccepterUnstageScreenshot)([e.image.id]):(0,ya.Ku)({imageIds:[e.image.id]}))}),[w,t,e.image.id]),z=(0,o.useCallback)((function(){r(Ta({page:O.T3.visualChecksPage,hash:u,browser:m,stateName:e.image.stateName,attempt:null==_?void 0:_.attempt}))}),[r,u,m,e.image.stateName,null==_?void 0:_.attempt]),F="".concat(null==_?void 0:_.parentId," ").concat(e.image.stateName),G=(0,o.useCallback)((function(){I(e.image.id)}),[I,e.image.id]),V=T&&Boolean(N)&&P&&!C&&!A,Y=T&&Boolean(N)&&R&&!C&&!A,W=T&&!C&&!A;return Xe("a",B,{enabled:V}),Xe("u",U,{enabled:Y}),Xe("g",z,{enabled:W}),(0,o.useEffect)((function(){if(f&&f.current&&"".concat(g," ").concat(p)===F&&E&&!1===E.current){E.current=!0;var e=Ca(f.current),t=f.current.getBoundingClientRect().top;null==e||e.scrollTo(0,t-Ma)}}),[]),o.createElement("div",{style:e.style,className:Sa.container,ref:f,onMouseEnter:G},e.image.status!==O.ih.SUCCESS&&o.createElement("div",{className:Sa.toolbarContainer},!k&&o.createElement(Ia,{image:e.image}),k&&o.createElement("div",{className:Sa.diffModeContainer},o.createElement(i.SegmentedRadioGroup,{onUpdate:j,value:b,className:Sa.diffModeSwitcher},oa(O.T3.suitesPage).map((function(e){return o.createElement(i.SegmentedRadioGroup.Option,{value:e.id,content:e.title,title:e.description,key:e.id})}))),o.createElement(i.Select,{className:Sa.diffModeSelect,label:o.createElement(i.Icon,{data:Tr.Z}),value:[b],onUpdate:function(e){var t=(0,d.Z)(e,1)[0];return j(t)},multiple:!1},oa(O.T3.suitesPage).map((function(e){return o.createElement(i.Select.Option,{value:e.id,content:e.title,title:e.description,key:e.id})})))),o.createElement(i.Flex,{className:Sa.buttonsContainer,gap:2},o.createElement(i.Button,{view:"outlined",className:Sa.goToVisual,disabled:C||A,onClick:z,qa:"go-visual-button"},o.createElement(i.Icon,{data:a.Z}),"Go to Visual Checks",o.createElement(i.Hotkey,{className:T?Sa.hotkey:Sa.hotkeyHidden,view:"light",value:"g"})),N&&o.createElement(o.Fragment,null,R&&o.createElement(i.Button,{view:"action",className:Sa.acceptButton,disabled:C||A,onClick:U},o.createElement(i.Icon,{data:Z.Z}),"Undo",o.createElement(i.Hotkey,{className:T?Sa.hotkey:Sa.hotkeyHidden,view:"dark",value:"u"})),P&&o.createElement(i.Button,{view:"action",className:Sa.acceptButton,disabled:C||A,onClick:B},o.createElement(i.Icon,{data:Be.Z}),"Accept",o.createElement(i.Hotkey,{className:T?Sa.hotkey:Sa.hotkeyHidden,view:"dark",value:"a"}))))),o.createElement(Qn.Boundary,{fallback:o.createElement(Qn.FallbackDataCorruption,null)},o.createElement(ia,{result:e.image,diffMode:b})))}var Aa=n(82022);function Da(e){var t=e.items,n=e.itemId;return o.createElement(Ir,{id:n,list:t,status:"corrupted",mapItemDataToContentProps:function(){return{title:o.createElement("div",{className:Sr.stepContent},o.createElement("span",{className:Sr.stepTitle},"Couldn’t display this item: data is corrupted. See console for details.")),startSlot:o.createElement(rr,null,o.createElement(Jn.Z,null))}}})}function ka(e){var t=e.onItemClick,n=e.items,r=e.itemId,a=e.onMouseMove,i=e.isActive,c=e.className,s=n.structure.itemsById[r];if(s.type===cr.Action){var l=((0,sr.KM)(s.status)||(0,sr.R6)(s.status))&&!s.isGroup,u=s.repeat&&s.hasChildren,d=-1===s.repeat;return o.createElement(Ir,{className:c,id:r,key:r,list:n,status:l?"error":void 0,onItemClick:t,onMouseMove:a,mapItemDataToContentProps:function(){return{title:o.createElement("div",{className:Sr.stepContent},o.createElement("span",{className:Sr.stepTitle},s.title),o.createElement(ir,{args:s.args,isFailed:l,isActive:i}),s.repeat&&s.repeat>0&&o.createElement("div",{className:Sr.stepRepeat},"×",s.repeat),void 0!==s.duration&&o.createElement("span",{className:E()(Sr.stepDuration,d&&Sr.stepDurationAvg)},s.duration," ms")),startSlot:o.createElement(rr,null,u?o.createElement($n.Z,null):(0,Jt.XF)(s.status))}},isActive:i})}if(s.type===cr.Attachment)return o.createElement(Ir,{id:r,key:r,list:n,onItemClick:t,mapItemDataToContentProps:function(){return{title:s.title,startSlot:o.createElement(rr,null,o.createElement(er.Z,null))}}});if(s.type===cr.ErrorInfo){var m=n.structure.itemsState[r].indentation;return o.createElement(Ln,(0,kt.Z)({className:Sr.errorInfo,key:r},s,{style:{marginLeft:"".concat(24*m,"px")}}))}if(s.type===cr.SingleImage)return o.createElement(yr.w,{containerClassName:Sr.pageScreenshot,image:s.image,key:r});if(s.type===cr.AssertViewResult)return o.createElement(Oa,{key:r,image:s.result,style:mr(n,r)});throw new Error("Unknown step type: ".concat(s.type))}var La=(0,c.connect)((function(e){var t;return{resultId:null!==(t=(0,it.sT)(e))&&void 0!==t?t:"",testSteps:Er(e),stepsExpandedById:gr(e)}}),(function(e){return{actions:(0,tr.bindActionCreators)(M,e)}}))((function(e){if(0===e.testSteps.length)return null;var t=(0,c.useDispatch)(),n=(0,s.s0)(),r=(0,c.useSelector)(it.EP),a=(0,c.useSelector)(Aa.T7),i=(0,c.useSelector)((function(e){return e.app.suitesPage.currentStepId})),l=(0,c.useSelector)((function(e){return e.app.suitesPage.currentHighlightedStepId})),d=(0,qn.Lm)({items:e.testSteps,withExpandedState:!0,controlledState:{expandedById:e.stepsExpandedById}});(0,o.useEffect)((function(){t((0,M.setCurrentStep)({stepId:null}))}),[e.resultId]);var m=(0,o.useCallback)((function(i,o){if(void 0===e.stepsExpandedById[i]){if(o.type!==cr.Action||void 0===o.startTime||void 0===o.duration)return;t((0,M.setCurrentStep)({stepId:i})),t((c={time:o.startTime+o.duration},{type:Ft.Z.SNAPSHOTS_PLAYER_GO_TO_TIME,payload:c}))}var c;e.actions.setStepsExpandedState({resultId:e.resultId,expandedById:Object.assign({},e.stepsExpandedById,(0,u.Z)({},i,!e.stepsExpandedById[i]))}),o.type===cr.Action&&"assertView"===o.title&&n(Ta({page:O.T3.suitesPage,hash:a,browser:null==r?void 0:r.name,attempt:null==r?void 0:r.attempt,stateName:o.args[0]}))}),[d,e.actions,e.stepsExpandedById]),p=(0,c.useSelector)((function(e){return e.app.snapshotsPlayer})),f=(0,o.useCallback)((function(e){if(e.type===cr.Action&&void 0!==e.startTime&&void 0!==e.duration){var n=e.startTime,r=e.startTime+e.duration;n===p.highlightStartTime&&r===p.highlightEndTime||t(Gt({startTime:n,endTime:r,isActive:!0}))}}),[p]),g=(0,o.useCallback)((function(){t(Gt({startTime:p.highlightStartTime,endTime:p.highlightEndTime,isActive:!1}))}),[p]);return o.createElement(wa,null,o.createElement(qn.lW,{className:e.className,extraProps:{onMouseLeave:function(){return g()}}},d.structure.visibleFlattenIds.map((function(e,t){return o.createElement(Qn.Boundary,{key:e,fallback:o.createElement(Da,{items:d,itemId:e})},o.createElement(ka,{className:E()(Sr.step,(0,u.Z)({},Sr["step--dimmed"],l&&l!==e)),key:e,isActive:e===i,onItemClick:function(){return m(e,d.structure.itemsById[e])},items:d,itemId:e,index:t,onMouseMove:function(){return f(d.structure.itemsById[e])}}))}))))})),_a=n(63569),xa=n(81110),Ra=n(80212),Pa=n.n(Ra);const ja={"player-time":"PGVTINMC30xx3pwEyDIl",playerTime:"PGVTINMC30xx3pwEyDIl","timeline-container":"bzu8kux1Z5_pbYnOt81F",timelineContainer:"bzu8kux1Z5_pbYnOt81F","player-progress-container":"Nq2cY4Z2ddXe_zmIH7aZ",playerProgressContainer:"Nq2cY4Z2ddXe_zmIH7aZ","live-timeline-blinking":"PiYBmihE_AMeirVcORzG",liveTimelineBlinking:"PiYBmihE_AMeirVcORzG","live-blinking":"sopPhLNBVpNxhqA2gx1c",liveBlinking:"sopPhLNBVpNxhqA2gx1c","player-progress":"jyPgbhNxykmFOteJE7uc",playerProgress:"jyPgbhNxykmFOteJE7uc","player-progress-left-cap":"hziV8kcmxzg9eTbka7sq",playerProgressLeftCap:"hziV8kcmxzg9eTbka7sq","player-progress-right-cap":"lNONR87pqiYe4Tlmfa7I",playerProgressRightCap:"lNONR87pqiYe4Tlmfa7I","player-progress-knob-bg":"UdUCVImfYT1syWUtGBOq",playerProgressKnobBg:"UdUCVImfYT1syWUtGBOq","is-live":"vbvxKvSCGbT8D7zN2jIA",isLive:"vbvxKvSCGbT8D7zN2jIA","highlight-region":"tGkTBk96AqIcNPzLn2C9",highlightRegion:"tGkTBk96AqIcNPzLn2C9","live-badge-container":"bPYFoD5HvhY4TzjGXA0W",liveBadgeContainer:"bPYFoD5HvhY4TzjGXA0W","player-progress-knob":"DiojHKjEFP_rf_8y9d9V",playerProgressKnob:"DiojHKjEFP_rf_8y9d9V","player-progress-knob-bg-left":"xGpH_2yveAOaGoW3NY85",playerProgressKnobBgLeft:"xGpH_2yveAOaGoW3NY85","player-progress-knob-bg-right":"VEBIldLMow7DoJch26z0",playerProgressKnobBgRight:"VEBIldLMow7DoJch26z0","progress-pulse":"aECYBcTJQQlkczuDWrBi",progressPulse:"aECYBcTJQQlkczuDWrBi",container:"rvIyg0zPEV6UrSexvW05","is-loading":"PiVMbOrsRBK4tr9SKjsc",isLoading:"PiVMbOrsRBK4tr9SKjsc","is-highlight-active":"iAd6SiZfW9JW3Ubwhan2",isHighlightActive:"iAd6SiZfW9JW3Ubwhan2","is-playing":"p5dB0nq96x1D0QmX30gM",isPlaying:"p5dB0nq96x1D0QmX30gM","is-scrubbing":"l5eHS9MLAV3GTlx0LMFw",isScrubbing:"l5eHS9MLAV3GTlx0LMFw","is-hovering":"DkIHMtR_DYAvJlm8CaH6",isHovering:"DkIHMtR_DYAvJlm8CaH6","is-snapshot-missing":"YRZnvPkmYHGQlpKa8utF",isSnapshotMissing:"YRZnvPkmYHGQlpKa8utF"};var Za=function(e){return Pa()("%M:%S",new Date(e))};function Ba(e){var t,n=e.totalTime,r=e.currentTime,a=e.onScrubStart,i=e.onScrub,c=e.onScrubEnd,s=e.onHover,l=e.onMouseLeave,m=e.isLive,p=e.downloadProgress,f=e.isLoading,g=e.isPlaying,v=e.highlightState,h=e.playerStartTimestamp,I=void 0===h?0:h,S=e.isSnapshotMissing,y=void 0!==S&&S,T=(0,o.useState)(!1),b=(0,d.Z)(T,2),N=b[0],w=b[1],C=(0,o.useState)(!1),M=(0,d.Z)(C,2),O=M[0],A=M[1],k=(0,o.useState)(0),L=(0,d.Z)(k,2),_=L[0],x=L[1],R=(0,o.useState)(!1),P=(0,d.Z)(R,2),j=P[0],Z=P[1],B=(0,o.useRef)(null),U=function(e){if(!B.current||0===n)return 0;var t=B.current.getBoundingClientRect(),r=e.clientX-t.left;return Math.max(0,Math.min(1,r/t.width))*n};(0,o.useEffect)((function(){N||O||x(r)}),[r,N,O]),(0,o.useEffect)((function(){var e;return N&&((e=document.createElement("style")).innerHTML="* { user-select: none !important; }",document.head.appendChild(e)),function(){e&&e.parentNode&&e.parentNode.removeChild(e)}}),[N]),(0,o.useEffect)((function(){function e(e){if(N){Z(!0);var t=U(e);x(t),null==i||i(t)}}function t(e){if(N){var t=U(e);x(t),Z(!1),w(!1),c(t)}}return N&&(document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)),function(){document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}}),[N,n]);var z=v.highlightStartTime-I,F=v.highlightEndTime-I,G=(0,D.clamp)((O&&!N?r:_)/n*100,0,100)*Number(!y),H=v.isActive?(0,D.clamp)((F-z)/n*100,0,100)*Number(!y):0,V=(0,D.clamp)((v.isActive?z:_)/n*100,0,100)*Number(!y),Y=(0,D.clamp)((v.isActive?F:_)/n*100,0,100)*Number(!y),W=E()(ja.container,(t={},(0,u.Z)(t,ja["is-live"],m),(0,u.Z)(t,ja["is-loading"],f),(0,u.Z)(t,ja["is-highlight-active"],v.isActive),(0,u.Z)(t,ja["is-playing"],g),(0,u.Z)(t,ja["is-hovering"],O),(0,u.Z)(t,ja["is-scrubbing"],N&&j),(0,u.Z)(t,ja["is-snapshot-missing"],y),t));return o.createElement("div",{className:W},o.createElement("div",{className:ja.playerTime},y?"––:––":Za(_)),o.createElement("div",{className:ja.timelineContainer,ref:B,onMouseDown:function(e){var t=U(e);x(t),w(!0),a()},onMouseMove:function(e){if(!N){var t=U(e);null==s||s(t),x(t)}},onMouseEnter:function(){A(!0)},onMouseLeave:function(){A(!1),N||x(r),null==l||l()}},o.createElement("div",{className:E()(ja.playerProgressContainer,(0,u.Z)({},ja.liveTimelineBlinking,m))},o.createElement("div",{className:ja.playerProgressLeftCap}),o.createElement("div",{className:ja.playerProgressRightCap}),o.createElement(o.Fragment,null,o.createElement("div",{className:ja.playerProgress,style:{width:"".concat((f?p:G).toFixed(2),"%")}},o.createElement("div",{className:ja.progressPulse})),o.createElement("div",{className:E()(ja.playerProgressKnobBg,ja.playerProgressKnobBgLeft),style:{left:"calc(".concat(V.toFixed(2),"% - 2px)")}},o.createElement("div",{className:ja.playerProgressKnob})),o.createElement("div",{className:ja.highlightRegion,style:{left:"calc(".concat(V.toFixed(2),"%)"),width:"".concat(H.toFixed(2),"%")}}),o.createElement("div",{className:E()(ja.playerProgressKnobBg,ja.playerProgressKnobBgRight),style:{left:"calc(".concat(Y.toFixed(2),"% - 2px)")}},o.createElement("div",{className:ja.playerProgressKnob})))),o.createElement("div",{className:ja.liveBadgeContainer},o.createElement("span",null,"LIVE"))),o.createElement("div",{className:ja.playerTime},y?"––:––":Za(n)))}var Ua=n(13824),za=n(1540),Fa=n(30266),Ga=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e.querySelector("iframe")},n=(0,o.useState)(1),r=(0,d.Z)(n,2),a=r[0],i=r[1];return(0,o.useEffect)((function(){if(e){var n=new ResizeObserver((function(n){if(0!==n.length){var r=n[0],a=r.contentRect.width,o=r.contentRect.height,c=t(e);if(c){var s=c.clientWidth,l=c.clientHeight,u=Math.min(a/s,o/l,1);i(isNaN(u)?1:u)}}}));return n.observe(e),function(){n.disconnect()}}}),[e]),a},Ha=function(e,t){return new Promise((function(n,r){(0,Ua.Ri)(new Uint8Array(e),(function(e,a){if(e)return r(e);var i=a["snapshots.json"];if(!i)return r(new Error("Couldn't find snapshots.json in ".concat(t,". Most likely the snapshots file is corrupted.")));var o=new TextDecoder("utf-8").decode(i).split("\n").filter((function(e){return""!==e.trim()})).map((function(e){return JSON.parse(e)}));n(o)}))}))},Va=function(){var e=(0,v.Z)(I().mark((function e(t,n){var r,a,i,o,c,s,l,u,d,m,p,f,E,g,v,h,S,y;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.abortSignal,i=n.onDownloadProgress,e.next=3,fetch(t,{signal:a});case 3:if((o=e.sent).ok){e.next=6;break}throw new Error(["Failed to fetch zip with snapshots by URL: ".concat(t,"."),"Received status: ".concat(o.statusText,".")].join("\n\n"));case 6:if(c=o.headers.get("Content-Length"),s=null,c&&(l=parseInt(c,10),!isNaN(l)&&l>0&&(s=l)),u=null===(r=o.body)||void 0===r?void 0:r.getReader()){e.next=18;break}return e.next=13,o.blob();case 13:return d=e.sent,e.next=16,d.arrayBuffer();case 16:return m=e.sent,e.abrupt("return",Ha(m,t));case 18:p=0,f=[];case 20:return e.next=23,u.read();case 23:if(E=e.sent,g=E.done,v=E.value,!g){e.next=28;break}return e.abrupt("break",31);case 28:v&&(f.push(v),p+=v.length,s&&i&&(h=p/s*100,i(Math.min(h,100)))),e.next=20;break;case 31:return S=new Blob(f),e.next=34,S.arrayBuffer();case 34:return y=e.sent,e.abrupt("return",Ha(y,t));case 36:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ya=function(e,t){var n=(0,za.T)(),r=(0,o.useRef)([]),a=(0,o.useRef)(!1),i=(0,o.useRef)(!1),c=function(n){if(e)try{var i,o=JSON.parse(n.data),c=o.context,s=o.data.rrwebSnapshots;if(!(0,D.isEqual)(c.testPath,e.suitePath)||c.browserId!==e.name)return;if(a.current)t(s);else(i=r.current).push.apply(i,(0,ba.Z)(s))}catch(e){console.error("Error parsing snapshot event:",e)}};return(0,o.useEffect)((function(){if(e&&n){n.addEventListener(Fa.JX.DOM_SNAPSHOTS,c);var o=new URLSearchParams({testPath:JSON.stringify(e.suitePath),browserId:e.name}).toString();return fetch("/running-test-data?".concat(o)).then((function(e){if(!e.ok)throw new Error("Failed to fetch snapshots: ".concat(e.statusText));return e.json()})).then((function(e){var n=e.rrwebSnapshots,o=n[n.length-1],c=r.current.findIndex((function(e){return e.seqNo===o.seqNo}))+1;r.current=[].concat((0,ba.Z)(n),(0,ba.Z)(r.current.slice(c))),i.current=!0,a.current&&(t(r.current),r.current=[])})),function(){null==n||n.removeEventListener(Fa.JX.DOM_SNAPSHOTS,c)}}}),[e,n,t]),(0,o.useCallback)((function(){a.current=!0,i.current&&(t(r.current),r.current=[])}),[t])};var Wa=function(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16",width:14,height:14},o.createElement("path",{d:"M13.5,10.16c1.66-.96,1.66-3.37,0-4.33L5,.92C3.33-.04,1.25,1.16,1.25,3.08v9.83c0,1.93,2.09,3.13,3.75,2.16l8.5-4.92Z",fill:"#000",fillRule:"evenodd"}))};const Qa={dot:"ceMG0OqTAEDMZ0jgWPXt"};function Ka(e){var t=e.className;return o.createElement("div",{className:E()(Qa.dot,t)})}const Xa={"replayer-root-container":"NbKVbzSRqWM8G6S1fROw",replayerRootContainer:"NbKVbzSRqWM8G6S1fROw","is-loading":"qWfKmXBELvh9DHH8JBXw",isLoading:"qWfKmXBELvh9DHH8JBXw","replayer-container":"GPemGFV3uUMPFrex7i7U",replayerContainer:"GPemGFV3uUMPFrex7i7U","loading-container":"sbergc10lI4hkd2QiJYu",loadingContainer:"sbergc10lI4hkd2QiJYu","control-button":"X7Pbc8SPuMl2dAr6CzuU",controlButton:"X7Pbc8SPuMl2dAr6CzuU","is-live":"vFUtmK469a2xtWP2iXYE",isLive:"vFUtmK469a2xtWP2iXYE","buttons-container":"Bp08u6h9mX1gplh5q_iZ",buttonsContainer:"Bp08u6h9mX1gplh5q_iZ","player-time":"E4uQPHKSmr3SVjSfQSUg",playerTime:"E4uQPHKSmr3SVjSfQSUg","replayer-container-centered":"Uymy4Bu8jwJP4P4xchw2",replayerContainerCentered:"Uymy4Bu8jwJP4P4xchw2","line-horizontal":"U0GoIzBbte5AdHdS6CUg",lineHorizontal:"U0GoIzBbte5AdHdS6CUg","line-horizontal-top":"I4ohRrxHQ6wDgpdPqntK",lineHorizontalTop:"I4ohRrxHQ6wDgpdPqntK","line-horizontal-bottom":"h75yRt7F4EUINJoE8tth",lineHorizontalBottom:"h75yRt7F4EUINJoE8tth","line-vertical":"Hu0naOEXTBOxtEoEgqo7",lineVertical:"Hu0naOEXTBOxtEoEgqo7","line-vertical-left":"K_2UzSKmCZE5Hy7dpaiR",lineVerticalLeft:"K_2UzSKmCZE5Hy7dpaiR","line-vertical-right":"aYwlPbz6P31rFgmIDBd4",lineVerticalRight:"aYwlPbz6P31rFgmIDBd4","play-pause-button":"GV_dOzjPmro6LORIdpki",playPauseButton:"GV_dOzjPmro6LORIdpki","play-pause-icon":"ZLU1JMwgCtqeH2wG5QWf",playPauseIcon:"ZLU1JMwgCtqeH2wG5QWf","play-pause-icon-visible":"N9ISyhug_gbANsqtccw0",playPauseIconVisible:"N9ISyhug_gbANsqtccw0",loader:"BuwPIpfujcI6amuCktti",l3:"HquGgdrKocaDk7Z3hCnQ","snapshot-missing-container":"x87oyxXco2VFS0qH9j5d",snapshotMissingContainer:"x87oyxXco2VFS0qH9j5d","is-snapshot-missing":"W_2EGwlgHjdnY4OdJkl4",isSnapshotMissing:"W_2EGwlgHjdnY4OdJkl4","player-progress-left-cap":"FHnCZ99QUPR_NwqZh8Py",playerProgressLeftCap:"FHnCZ99QUPR_NwqZh8Py","settings-select-option-group":"WWtmUnSyibQvJM6yqdwn",settingsSelectOptionGroup:"WWtmUnSyibQvJM6yqdwn","settings-button":"MJ5f2OPy69VBOTvHnsrQ",settingsButton:"MJ5f2OPy69VBOTvHnsrQ","settings-changed-dot":"Yf4YdVXiaexe_6AIlGuD",settingsChangedDot:"Yf4YdVXiaexe_6AIlGuD"};function qa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ja(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qa(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ei(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ei(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ti=[{label:"Speed",data:{hint:o.createElement("span",null,o.createElement("b",{style:{fontWeight:600}},"Note:")," transitions or animations will still play at original speed.")},options:[{value:"0.5",content:"0.5x"},{value:"1",content:"1x"},{value:"1.5",content:"1.5x"},{value:"2",content:"2x"},{value:"4",content:"4x"}]}];function ni(e){var t;return 5===e.type&&"color-scheme-change"===(null==e||null===(t=e.data)||void 0===t?void 0:t.tag)}function ri(e){if(!ni(e))return null;try{var t=e.data.payload.colorScheme;return"light"===t||"dark"===t?t:null}catch(e){return null}}var ai=10,ii=function(e,t,n){var r,a=$a(e);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(i.data.type===cr.Action&&i.data.startTime&&i.data.duration){var o=i.data.startTime-t,c=i.data.startTime-t+i.data.duration;if(n>o&&n<c)return i}}}catch(e){a.e(e)}finally{a.f()}return null},oi=function(e){var t=e.text;return o.createElement("div",{className:Xa.snapshotMissingContainer},o.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTI1IDE1Ljc1VjEwLjI0MjZDMjUgOS40NDY5OSAyNC42ODM5IDguNjgzOTMgMjQuMTIxMyA4LjEyMTMyTDE4Ljg3ODcgMi44Nzg2OEMxOC4zMTYxIDIuMzE2MDcgMTcuNTUzIDIgMTYuNzU3NCAySDdDNS4zNDMxNSAyIDQgMy4zNDMxNSA0IDVWMjUuNUM0IDI3LjE1NjkgNS4zNDMxNSAyOC41IDcgMjguNUgxNC41IiBzdHJva2U9Im9rbGNoKDAuNzA4IDAgMCkiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPHBhdGggZD0iTTE3LjUgMi41VjYuNUMxNy41IDguMTU2ODUgMTguODQzMSA5LjUgMjAuNSA5LjVIMjQuNSIgc3Ryb2tlPSJva2xjaCgwLjcwOCAwIDApIiBzdHJva2Utd2lkdGg9IjEuMyIvPgo8Y2lyY2xlIGN4PSIyMiIgY3k9IjI0IiByPSI1LjM1IiBzdHJva2U9Im9rbGNoKDAuNzA4IDAgMCkiIHN0cm9rZS13aWR0aD0iMS4zIi8+CjxwYXRoIGQ9Ik0yMC41ODU5IDI1LjQxNDFMMjMuNDE0NCAyMi41ODU2IiBzdHJva2U9Im9rbGNoKDAuNzA4IDAgMCkiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPHBhdGggZD0iTTIwLjU4NTQgMjIuNTg1OUwyMy40MTM5IDI1LjQxNDQiIHN0cm9rZT0ib2tsY2goMC43MDggMCAwKSIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgo8L3N2Zz4K",alt:"icon",width:44,height:44}),o.createElement("span",null,t))};function ci(e){var t,n=e.isSnapshotBroken,r=void 0!==n&&n,a=(0,c.useSelector)(it.EP),s=(0,o.useState)(null),l=(0,d.Z)(s,2),m=l[0],p=l[1],f=(0,o.useRef)(null),g=(0,o.useRef)(null),v=(0,o.useRef)([]),h=(0,o.useState)("light"),I=(0,d.Z)(h,2),S=I[0],y=I[1],T=(0,o.useState)(1),b=(0,d.Z)(T,2),N=b[0],w=b[1],C=(0,o.useState)(1200),A=(0,d.Z)(C,2),D=A[0],k=A[1],L=(0,o.useState)(800),_=(0,d.Z)(L,2),x=_[0],R=_[1],P=(0,o.useRef)(!1),j=(0,o.useState)({height:400,width:700}),Z=(0,d.Z)(j,2),B=Z[0],U=Z[1],z=(0,o.useState)(0),F=(0,d.Z)(z,2),G=F[0],V=F[1],Y=(0,o.useState)(!1),W=(0,d.Z)(Y,2),Q=W[0],K=W[1],X=(0,o.useState)(!1),q=(0,d.Z)(X,2),J=q[0],$=q[1],ee=(0,o.useRef)(!1),te=(0,o.useState)(0),ne=(0,d.Z)(te,2),re=ne[0],ae=ne[1],ie=(0,o.useRef)(null),oe=(0,c.useDispatch)(),ce=(0,H.z)();(0,o.useEffect)((function(){null==ce||ce.trackFeatureUsage({featureName:"Time Travel Player Render"})}),[]);var se=(0,o.useRef)(null),le=(0,c.useSelector)((function(e){return e.app.suitesPage.currentHighlightedStepId})),ue=(0,c.useSelector)(Er),de=(0,o.useState)(!1),me=(0,d.Z)(de,2),pe=me[0],fe=me[1],Ee=(0,o.useState)(0),ge=(0,d.Z)(Ee,2),ve=ge[0],he=ge[1],Ie=(0,o.useRef)(null),Se=function(){ie.current&&(cancelAnimationFrame(ie.current),ie.current=null)},ye=function(){Se(),ie.current=requestAnimationFrame((function e(){if(f.current){var t=f.current.getCurrentTime(),n=f.current.getMetaData();ae(t);var r=f.current.getMetaData().startTime,a=ii(ue,r,t);a&&a.id!==se.current&&(se.current=a.id,oe((0,M.setCurrentStep)({stepId:a.id}))),t<n.totalTime&&(ie.current=requestAnimationFrame(e))}}))},Te=function(){ie.current&&(ee.current=!0),K(!1),Se(),function(){if(Q){var e=ue.findLast((function(e){return e.data.type===cr.Action}));e&&oe((0,M.setCurrentStep)({stepId:e.id}))}}()},be=(0,o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];f.current&&(f.current.enableInteract(),f.current.on("resize",(function(t){var n=t;R(n.height),k(n.width),e&&!P.current&&(P.current=!0,U({width:n.width,height:n.height}))})),f.current.on("finish",Te),V(e?0:f.current.getMetaData().totalTime),ae(0))}),[P]),Ne=(0,o.useCallback)((function(){var e;null===(e=f.current)||void 0===e||e.destroy(),f.current=null}),[]);(0,o.useEffect)((function(){P.current=!1,K(!1),Se(),ee.current=!1,$(!1)}),[null==a?void 0:a.id]);var we=(0,o.useCallback)((function(e){if(f.current){var t,n=$a(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;f.current.addEvent(r)}}catch(e){n.e(e)}finally{n.f()}if("live"!==f.current.service.state.value)if(e.length>0)try{f.current.play(Date.now()-e[0].timestamp)}catch(e){try{f.current.startLive()}catch(e){}}else f.current.startLive()}}),[]),Me=Ya(a,we),Oe=(0,o.useCallback)((function(e){var t=ri(e);t&&y(t)}),[]),Ae=(0,o.useCallback)((function(e){if(e&&null!=e&&e[1]){var t=Number(e[1]);w(t),f.current&&f.current.setConfig({speed:t})}}),[]);(0,o.useEffect)((function(){if(a&&m&&!r){if(a.status===O.ih.RUNNING)f.current=new xa.x([],{liveMode:!0,root:m,speed:N}),be(!0),Me(),f.current.on("custom-event",Oe);else{var e,t=null==a||null===(e=a.attachments)||void 0===e?void 0:e.find((function(e){return e.type===ht.s.Snapshot}));if(!t)return;P.current||U({width:t.maxWidth,height:t.maxHeight}),g.current=new AbortController,fe(!0),he(0);var n=new Date;Va(t.path,{abortSignal:g.current.signal,onDownloadProgress:function(e){(new Date).getTime()-n.getTime()>500&&(he(e),null===Ie.current&&(Ie.current=(new Date).getTime()))}}).then((function(e){v.current=e.filter(ni),f.current=new xa.x(e,{liveMode:!1,root:m,speed:N}),be(),f.current.on("custom-event",Oe),function(){var e=function(){fe(!1),Ie.current=null};if(null!==Ie.current){var t=(new Date).getTime()-Ie.current;t<1e3?setTimeout(e,1e3-t):e()}else e()}()})).catch((function(e){fe(!1),Ie.current=null,$(!0),console.warn("Failed to load snapshots",e)}))}return function(){var e;null===(e=g.current)||void 0===e||e.abort(),g.current=null,Ne()}}}),[a,m,Me,be,Ne,Oe,r]);var De=(0,o.useCallback)((function(e){null!==e&&p(e)}),[]),ke=Ga(m),Le=(0,o.useCallback)((function(){if(Q){var e;null===(e=f.current)||void 0===e||e.pause(),K(!1),Se()}else{var t,n;if(K(!0),ee.current)null===(t=f.current)||void 0===t||t.play();else null===(n=f.current)||void 0===n||n.play(re);ee.current=!1,ye()}}),[Q,re,ye,Se]);Xe("k",Le,{enabled:!J});var _e=(0,o.useCallback)((function(){J||(Q&&f.current&&(f.current.pause(),K(!1),Se(),ee.current=!1),oe((0,M.setCurrentHighlightStep)({stepId:null})))}),[Q,J]),xe=(0,o.useCallback)((function(e){if(!J&&f.current){var t=f.current.getMetaData().startTime,n=ii(ue,t,e);n&&n.id!==se.current&&(se.current=n.id,oe((0,M.setCurrentStep)({stepId:n.id})))}}),[ue,J]),Re=(0,o.useCallback)((function(e){if(!J&&(ae(e),f.current)){var t=v.current.findLast((function(t){return ni(t)&&f.current&&t.timestamp<=f.current.getMetaData().startTime+e}));if(t){var n=ri(t);n&&y(n)}f.current.pause(e);var r=f.current.getMetaData().startTime,a=ii(ue,r,e);a&&a.id!==se.current&&(se.current=a.id,oe((0,M.setCurrentStep)({stepId:a.id})))}}),[ue,J]),Pe=(0,o.useCallback)((function(e){if(!J&&f.current){ee.current=!1;var t=f.current.getMetaData().startTime,n=ii(ue,t,e);n&&n.id!==le&&oe((0,M.setCurrentHighlightStep)({stepId:n.id}))}}),[ue,le,J]),je=(0,o.useCallback)((function(){J||oe((0,M.setCurrentHighlightStep)({stepId:null}))}),[oe,J]),Ze=(0,c.useSelector)((function(e){return e.app.snapshotsPlayer}));(0,o.useEffect)((function(){var e,t;if(!J)if(Ze.isActive)null===(e=f.current)||void 0===e||e.pause(Ze.highlightEndTime-(null===(t=f.current)||void 0===t?void 0:t.getMetaData().startTime)),K(!1),Se();else if(!Q){var n;null===(n=f.current)||void 0===n||n.pause(re>0?re:ai)}}),[Ze,J]),(0,o.useEffect)((function(){if(!J&&f.current){var e=Math.max(Ze.goToTime-f.current.getMetaData().startTime,ai);ae(e),f.current.pause(e)}}),[Ze.goToTime,J]);var Be={aspectRatio:"".concat(B.width," / ").concat(B.height),maxWidth:"".concat(B.width,"px"),maxHeight:"calc(100vh - var(--sticky-header-height) - 150px)",colorScheme:S},Ue={aspectRatio:"".concat(D," / ").concat(x),maxWidth:"min(".concat(D,"px, 100%)"),maxHeight:"100%",transition:"opacity .5s ease",position:"absolute",height:x>D?"100%":"auto",width:x>D?"auto":"100%"},ze=Ja(Ja({},Ue),{},{aspectRatio:void 0}),Fe=(null==a?void 0:a.status)===O.ih.RUNNING,Ge=0;try{var He,Ve;Ge=null!==(He=null===(Ve=f.current)||void 0===Ve?void 0:Ve.getMetaData().startTime)&&void 0!==He?He:0}catch(e){}return o.createElement("div",{className:E()((t={},(0,u.Z)(t,Xa["is-loading"],pe),(0,u.Z)(t,Xa["is-live"],Fe),(0,u.Z)(t,Xa["is-snapshot-missing"],J),t))},o.createElement("div",{className:Xa.replayerRootContainer,style:{"--scale-factor":ke,width:"".concat(B.width,"px"),maxWidth:"100%"}},o.createElement("div",{className:Xa.replayerContainerCentered,style:Be},o.createElement("div",{className:Xa.replayerContainerCentered,style:Ue},o.createElement("div",{className:E()(Xa.lineHorizontal,Xa.lineHorizontalTop)}),o.createElement("div",{className:E()(Xa.lineHorizontal,Xa.lineHorizontalBottom)}),o.createElement("div",{className:E()(Xa.lineVertical,Xa.lineVerticalLeft)}),o.createElement("div",{className:E()(Xa.lineVertical,Xa.lineVerticalRight)}),o.createElement("div",{className:Xa.loadingContainer},o.createElement("span",null,"Loading snapshots data"),o.createElement("div",{className:Xa.loader})),J&&o.createElement(oi,{text:"Snapshot file is missing"}),r&&o.createElement(oi,{text:"Snapshot file is broken"}),o.createElement("div",{className:Xa.replayerContainer,ref:De,style:ze},o.createElement("div",{style:{width:"100vw"}}))))),!r&&o.createElement("div",{className:Xa.buttonsContainer},o.createElement(i.Tooltip,{content:o.createElement(o.Fragment,null,Q?"Pause":"Play"," ⋅ ",o.createElement(i.Hotkey,{value:"k",view:"light"})),placement:"top",openDelay:1e3},o.createElement(i.Button,{onClick:Le,view:"flat",className:E()(Xa.playPauseButton,Xa.controlButton),disabled:J},o.createElement("div",{className:E()(Xa.playPauseIcon,(0,u.Z)({},Xa.playPauseIconVisible,Q))},o.createElement(i.Icon,{data:_a.Z,size:14})),o.createElement("div",{className:E()(Xa.playPauseIcon,(0,u.Z)({},Xa.playPauseIconVisible,!Q))},o.createElement(Wa,null)))),o.createElement(Ba,{currentTime:re,totalTime:G,onScrubStart:_e,onScrub:xe,onScrubEnd:Re,onHover:Pe,onMouseLeave:je,isLive:Fe,isLoading:pe,downloadProgress:ve,isPlaying:Q,playerStartTimestamp:Ge,highlightState:Ze,isSnapshotMissing:J}),o.createElement(i.Select,{value:[N.toString()],disabled:J,renderControl:function(e){var t=e.ref,n=e.triggerProps;return o.createElement(i.Button,{disabled:J,view:"flat",className:E()(Xa.controlButton,Xa.settingsButton),onClick:n.onClick,onKeyDown:n.onKeyDown,ref:t,title:"Playback Speed: ".concat(N,"x")},1!==N&&o.createElement(Ka,{className:Xa.settingsChangedDot}),o.createElement(Ce.Z,{width:16,height:16}))},renderOptionGroup:function(e){var t,n;return o.createElement("div",{className:Xa.settingsSelectOptionGroup},o.createElement("span",null,e.label),(null===(t=e.data)||void 0===t?void 0:t.hint)&&o.createElement(i.HelpMark,{popoverProps:{placement:"top-end"}},null===(n=e.data)||void 0===n?void 0:n.hint))},popupPlacement:"top-end",popupWidth:100,multiple:!0,onUpdate:Ae,options:ti})))}const si="Tug1x_GRwirD5182JffI";var li=function(){return o.createElement("div",{className:si},o.createElement(i.Spin,{size:"xs",style:{marginRight:"4px"}}),"Test is running")};const ui={"steps-container":"UZ1foLEpLa_x1J4sMzHD",stepsContainer:"UZ1foLEpLa_x1J4sMzHD","steps-list-container":"R2V6Ql3t4TdzyIHdWk5w",stepsListContainer:"R2V6Ql3t4TdzyIHdWk5w","empty-steps-container":"EdwOvifO8vCoZmgOyVGt",emptyStepsContainer:"EdwOvifO8vCoZmgOyVGt",sticky:"_6ilQ6NIhc2LUkd5wel3",hidden:"Z9ybdZQbCBlLyGSkuR_b","collapsible-section__body":"mlO_dNqDOMn4OwXY1lhh",collapsibleSectionBody:"mlO_dNqDOMn4OwXY1lhh"};function di(){var e=(0,c.useSelector)(it.EP),t=(0,c.useSelector)(Er),n=(0,c.useSelector)((function(e){return e.running})),r=(0,c.useSelector)(it.d8),a=(0,c.useSelector)((function(e){return e.ui.suitesPage.isSnapshotsPlayerVisible})),i=r&&a;return o.createElement(ue,{name:ve.ResultMeta,result:e,testName:null==e?void 0:e.name},o.createElement(Kn.a,{id:"actions",title:"Actions"},o.createElement("div",{className:ui.stepsContainer},t.length>0?o.createElement(Qn.Boundary,{watchFor:[e],fallback:o.createElement(Qn.FallbackDataCorruption,null)},o.createElement(La,{className:ui.stepsListContainer})):n?o.createElement(li,null):o.createElement("div",{className:ui.emptyStepsContainer},"No steps to show"),r&&o.createElement("div",{className:E()(ui.sticky,!i&&ui.hidden)},o.createElement(Qn.Boundary,{watchFor:[e],fallback:o.createElement(ci,{isSnapshotBroken:!0})},o.createElement(ci,null))))),o.createElement(Kn.a,{id:"metadata",title:"Metadata"},e&&o.createElement("div",{className:ui["collapsible-section__body"]},o.createElement(Xn.o,{resultId:e.id}))))}var mi=n(45037);const pi={card:"zxOTbiSaaivowZnka3tD",card__title:"yAgFRUJpcXIwy7yE1SNl",cardTitle:"yAgFRUJpcXIwy7yE1SNl","tree-view-card":"Cnn2YfdSyzs0EmDBWIyo",treeViewCard:"Cnn2YfdSyzs0EmDBWIyo","filters-container":"TVTJzgV9yT9uUJqOjiC2",filtersContainer:"TVTJzgV9yT9uUJqOjiC2","tabs-container":"BzHzvdypNtRWGdFdCEzr",tabsContainer:"BzHzvdypNtRWGdFdCEzr","toolbar-container":"bDBgDUEiUl4CbjxMGxGA",toolbarContainer:"bDBgDUEiUl4CbjxMGxGA","skeleton-container":"cO8n4kZndohwLUm_d5PZ",skeletonContainer:"cO8n4kZndohwLUm_d5PZ","tree-view-container":"KlZiCV1nIM3kRzgpWVEo",treeViewContainer:"KlZiCV1nIM3kRzgpWVEo"};var fi=n(79117),Ei=function(e){return o.createElement(i.Tooltip,{content:e.tooltip,placement:"top",openDelay:0},o.createElement(i.Button,{size:"s",selected:e.selected,onClick:e.onClick,view:"flat",className:e.className,qa:e.qa},e.children))};const gi="zOnAYvs_4rRrAWx9E99n",vi="Pg9tdO8nzAKNoG_2cz_z",hi="nSd2YExpkU8BlPCOyDPN",Ii="nRmC72wofnJEJE_AtXXM",Si="meYo7lmvHyk4PZK6p78f",yi="orPcQftUNjsSserBi6Gt",Ti="VTnOLX1licudAG1_PK0_";var bi=n(98645),Ni=function(){var e=(0,c.useDispatch)(),t=bt(),n=(0,c.useSelector)((function(e){return e.app[t].nameFilter})),r=(0,c.useSelector)((function(e){return e.app[t].useRegexFilter})),a=(0,c.useSelector)((function(e){return e.app[t].useMatchCaseFilter})),s=(0,o.useState)(n),l=(0,d.Z)(s,2),u=l[0],m=l[1],p=(0,o.useState)(!1),f=(0,d.Z)(p,2),g=f[0],v=f[1],h=(0,o.useRef)(null);Xe("mod+k",(0,o.useCallback)((function(){var e;return null===(e=h.current)||void 0===e?void 0:e.focus()}),[]),{allowInInput:!0});var I=(0,o.useCallback)((function(n){var i;"Escape"===n.key&&(n.preventDefault(),u?(m(""),(0,bi.yC)("",a,r,t,!1,e)):null===(i=h.current)||void 0===i||i.blur())}),[u,a,r,t,e]),S=(0,o.useCallback)((0,D.debounce)((function(n){(0,bi.yC)(n,a,r,t,!1,e)}),500,{maxWait:3e3}),[a,r,t]),y=(0,o.useCallback)((function(e){m(e.target.value),S(e.target.value)}),[m,S]),T=(0,o.useCallback)((function(){m(""),(0,bi.yC)("",a,r,t,!1,e)}),[m,a,r,t]),b=(0,c.useSelector)(j.Dr);(0,o.useEffect)((function(){(0,bi.yC)(n,a,r,t,!0,e),m(n)}),[n]);var N=(0,o.useMemo)((function(){if(!r)return!1;try{new RegExp(u)}catch(e){return!0}return!1}),[r,u]),w=(0,o.useCallback)((function(){v(!0)}),[]),C=(0,o.useCallback)((function(){v(!1)}),[]),O=!g&&!u;return o.createElement("div",{className:gi},o.createElement(i.TextInput,{controlRef:h,disabled:!b,placeholder:"Search or filter",value:u,onChange:y,onFocus:w,onBlur:C,onKeyDown:I,className:E()(vi,O?hi:Ii),error:N,qa:"name-filter"}),o.createElement("div",{className:Si},O&&o.createElement(i.Hotkey,{className:Ti,view:"dark",value:"mod+k"}),u&&o.createElement(Ei,{selected:!1,tooltip:"Clear filter",onClick:T,qa:"clear-name-filter"},o.createElement(i.Icon,{data:Oe.Z})),o.createElement(Ei,{selected:a,tooltip:"Match case",onClick:function(){(0,bi.yC)(n,!a,r,t,!0,e)},qa:"match-case"},o.createElement(i.Icon,{data:fi.Z})),o.createElement(Ei,{selected:r,tooltip:"Regex",onClick:function(){e(M.setUseRegexFilter({data:!r,page:t})),(0,bi.yC)(n,a,!r,t,!0,e)},className:yi,qa:"regex"},".*")))},wi=n(85715);const Ci={browserlist__filter:"B00K8OuB0liXPBnX_ZDn",browserlistFilter:"B00K8OuB0liXPBnX_ZDn","action-button":"OHRqVXyyF8A0XlgDDWW2",actionButton:"OHRqVXyyF8A0XlgDDWW2",browserlist__popup:"XDKyCXdmNKAG6PNf8DmB",browserlistPopup:"XDKyCXdmNKAG6PNf8DmB"};var Mi=function(e,t){return"".concat(encodeURIComponent(e)).concat("/").concat(encodeURIComponent(t))},Oi=function(e){var t=e.split("/"),n=(0,d.Z)(t,2),r=n[0],a=n[1];return{id:decodeURIComponent(r),version:decodeURIComponent(a)}},Ai=function(){return o.createElement("div",{style:{position:"absolute",visibility:"hidden",height:0,width:0,overflow:"hidden"}},["google","chrome","firefox","safari","edge","yandex","yabro","ie","explorer","opera","phone","mobile","tablet","ipad","browser"].map((function(e){return o.createElement(Qt,{key:e,name:e})})))};function Di(){var e=(0,o.useState)([]),t=(0,d.Z)(e,2),n=t[0],r=t[1],a=bt(),s=(0,c.useSelector)((function(e){return e.browsers})),l=(0,c.useSelector)((function(e){return e.app[a].filteredBrowsers})),u=(0,c.useDispatch)();(0,o.useEffect)((function(){r(l)}),[s,l]);var m=function(e,t,n){return{value:Mi(e.id,t),content:n,data:{id:e.id,version:t}}},p=(0,o.useMemo)((function(){var e=s.filter((function(e){return e.versions.length>1})),t=s.filter((function(e){return 1===e.versions.length}));if(0===e.length)return s.map((function(e){return m(e,e.versions[0],e.id)}));var n=[];return e.forEach((function(e){n.push({label:e.id,options:e.versions.map((function(t){return m(e,t,t)}))})})),n.push({label:"Other",options:t.map((function(e){return m(e,e.versions[0],e.id)}))}),n}),[s]),f=(0,i.useSelectOptions)({options:p}),E=(0,c.useSelector)(j.Dr),g=n.flatMap((function(e){return e.versions.map((function(t){return Mi(e.id,t)}))}));return o.createElement(o.Fragment,null,o.createElement(Ai,null),o.createElement(i.Select,{disablePortal:!0,value:g,options:f,multiple:!0,hasCounter:!0,filterable:!0,renderFilter:function(){return o.createElement("div",{className:Ci.browserlist__filter},o.createElement(i.Button,{onClick:function(){return r(s)},width:"max"},"Select All"))},renderOption:function(e){var t,n=g.includes(e.value)&&1===g.length;return o.createElement(i.Flex,{alignItems:"center",width:"100%",gap:2},o.createElement(i.Flex,{height:16,width:16,alignItems:"center",justifyContent:"center"},o.createElement(Qt,{name:null===(t=e.data)||void 0===t?void 0:t.id})),o.createElement("div",{className:"browser-name"},e.content),o.createElement(i.Button,{size:"s",onClick:n?function(t){t.preventDefault(),t.stopPropagation(),r(s.map((function(t){return{id:t.id,versions:t.versions.filter((function(n){var r,a;return t.id!==(null===(r=e.data)||void 0===r?void 0:r.id)||n!==(null===(a=e.data)||void 0===a?void 0:a.version)}))}})))}:function(t){var n,a;t.preventDefault(),t.stopPropagation(),r([{id:null===(n=e.data)||void 0===n?void 0:n.id,versions:[null===(a=e.data)||void 0===a?void 0:a.version]}])},className:Ci.actionButton},n?"Except":"Only"))},renderControl:function(e){var t=e.ref,n=e.triggerProps,r=n.onClick,a=n.onKeyDown;return o.createElement(zt,{ref:t,onClick:r,onKeyDown:a,view:"outlined",disabled:!E,icon:o.createElement(i.Icon,{data:wi.Z}),tooltip:"Filter by browser"})},popupClassName:Ci.browserlist__popup,className:"browserlist",onUpdate:function(e){var t=[];e.forEach((function(e){var n=Oi(e),r=n.id,a=n.version,i=t.find((function(e){return e.id===r}));i?i.versions.includes(a)||i.versions.push(a):t.push({id:r,versions:[a]})})),r(t)},onFocus:function(){0===g.length&&r(s)},onClose:function(){u((0,M.selectBrowsers)({data:n.filter((function(e){return e.versions.length>0}),a),page:a}))}}))}const ki={"test-status-filter":"CXbeXmEBG8Nx0JBaZffF",testStatusFilter:"CXbeXmEBG8Nx0JBaZffF","test-status-filter-option":"UBh8WFzqagmwvT6lPSRM",testStatusFilterOption:"UBh8WFzqagmwvT6lPSRM","test-status-filter-option__count":"CvfnTLLY1HbQSzm26bAM",testStatusFilterOptionCount:"CvfnTLLY1HbQSzm26bAM"};var Li=function(e){var t=e.count,n=e.icon,r=e.title;return o.createElement("div",{className:ki["test-status-filter-option"]},n||o.createElement("span",null,r),o.createElement("span",{"data-qa":"".concat(r.toLowerCase(),"-count"),className:ki["test-status-filter-option__count"]},t))};function _i(e){var t=e.list,n=e.value,r=e.onChange,a=e.disabled,c=e.className;return o.createElement(i.SegmentedRadioGroup,{disabled:a,className:E()(ki.testStatusFilter,c),width:"max",value:n,onChange:function(e){return r(e.target.value)}},t.map((function(e){var t=e.title,n=e.value,r=e.count,a=e.icon;return o.createElement(i.SegmentedRadioGroup.Option,{key:n,title:t,value:n,content:o.createElement(Li,{status:O.wO.ALL,count:r,title:t,icon:a})})})))}var xi=n(26064),Ri=n(77603),Pi=n(20630),ji=n(82281),Zi=n(93315),Bi=n(53602),Ui=n(14660),zi=n(15045),Fi=n(54493);const Gi={container:"IKLpkyoFF26d8QlNaEGV","inner-container":"OLkSlO5uywj85yN801g7",innerContainer:"OLkSlO5uywj85yN801g7","buttons-container":"pSp80Sq_QLxHCxzvv98U",buttonsContainer:"pSp80Sq_QLxHCxzvv98U","selected-container":"rR5VgY3P1ekK_5NipFh6",selectedContainer:"rR5VgY3P1ekK_5NipFh6","selected-container--visible":"DU3iTZjPpSwQoSd6A97R",selectedContainerVisible:"DU3iTZjPpSwQoSd6A97R","selected-title":"OT4xD6O6uwvTqb6CtWgU",selectedTitle:"OT4xD6O6uwvTqb6CtWgU","buttons-divider":"cw9M8Xmmuho10f9so05h",buttonsDivider:"cw9M8Xmmuho10f9so05h","icon-button":"yxSw1RmyIKMUFT9bcJfg",iconButton:"yxSw1RmyIKMUFT9bcJfg","select-all-button":"aCdF0KKcbuxozhDJnLPK",selectAllButton:"aCdF0KKcbuxozhDJnLPK","run-options-container":"wb4CUrmJSqVDSsyfjlWw",runOptionsContainer:"wb4CUrmJSqVDSsyfjlWw"};var Hi=n(8776),Vi=n(69875);const Yi={"select-popup":"j7jN8SQFGQ1xEZTKH4kc",selectPopup:"j7jN8SQFGQ1xEZTKH4kc",select:"Km4ZhL3W0xf6kxOevReS","selected-option":"NqRk7u8qZ2ACE36VVI_i",selectedOption:"NqRk7u8qZ2ACE36VVI_i","label-icons-container":"xjg9EZZPevV_Ov9IX2_0",labelIconsContainer:"xjg9EZZPevV_Ov9IX2_0","label-dot":"jV7cHZyudT11WCGg3tEt",labelDot:"jV7cHZyudT11WCGg3tEt"};function Wi(e){var t=(0,o.useRef)(null);return o.createElement("div",{className:Yi.container},o.createElement(i.Tooltip,{content:e.label,openDelay:0,placement:"top"},o.createElement("div",{className:Yi.tooltip},o.createElement(i.Select,{ref:t,renderSelectedOption:function(e){return e.title?o.createElement("span",{className:Yi.selectedOption},e.title):o.createElement(o.Fragment,null)},className:Yi.select,popupClassName:Yi.selectPopup,view:"clear",label:o.createElement(o.Fragment,null,o.createElement("div",{className:Yi.labelIconsContainer},e.labelIcon,e.showDot&&o.createElement(Ka,{className:Yi.labelDot}))),onUpdate:function(){var n;e.autoClose&&(null===(n=t.current)||void 0===n||n.click())},getOptionHeight:function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.height},multiple:e.multiple,value:e.currentValue},e.children))))}function Qi(){var e=(0,c.useDispatch)(),t="no-grouping",n=(0,c.useSelector)((function(e){return e.app.groupTestsData.currentExpressionIds}))[0],r=(0,c.useSelector)((function(e){return e.app.groupTestsData.availableSections})),a=(0,c.useSelector)((function(e){return e.app.groupTestsData.availableExpressions})),s=(0,o.useState)(t),l=(0,d.Z)(s,2),u=l[0],m=l[1],p=function(r){r===t?(m(t),e((0,M.setCurrentGroupByExpression)({expressionIds:[]}))):r!==n&&(m(r),e((0,M.setCurrentGroupByExpression)({expressionIds:[r]})))},f=[o.createElement(i.Select.OptionGroup,{label:"Group by",key:"no-grouping"},o.createElement(i.Select.Option,{value:t},o.createElement("div",{onClick:function(){return p(t)}},"Nothing")))];return f.push.apply(f,(0,ba.Z)(r.map((function(e){return o.createElement(i.Select.OptionGroup,{label:e.label,key:e.id},a.filter((function(t){return t.sectionId===e.id})).map((function(e){var t=e.type===Vt.zX.Meta?e.key:"message";return o.createElement(i.Select.Option,{key:e.id,value:e.id,title:t,content:o.createElement("div",{onClick:function(){return p(e.id)}},t)})})))})))),o.createElement(Wi,{multiple:!0,autoClose:!0,currentValue:[u],label:"Group by",labelIcon:o.createElement(i.Icon,{data:$n.Z}),showDot:u!==t},f)}var Ki=n(68891),Xi=n(94709),qi=n(78910),Ji=n(14675),$i=n(77066),eo=n(52813),to=n(94589),no=n(58311);const ro={"label-icon-right":"dMT7p7UjTmYUJd305IH2",labelIconRight:"dMT7p7UjTmYUJd305IH2","option-content":"uuMz2JT_6644Be5bjdmA",optionContent:"uuMz2JT_6644Be5bjdmA","option-icon":"u4rzn0wQ2RktbYqw_6hT",optionIcon:"u4rzn0wQ2RktbYqw_6hT"};var ao=function(e){var t;switch(e.type){case Vt.ER.ByName:t=fi.Z;break;case Vt.ER.ByFailedRuns:t=Ki.Z;break;case Vt.ER.ByTestsCount:t=Xi.Z;break;case Vt.ER.ByStartTime:t=qi.Z;break;case Vt.ER.ByDuration:t=Ji.Z;break;case Vt.ER.ByRelevance:t=$i.Z}return o.createElement(i.Icon,{data:t,className:ro.optionIcon,width:14,height:14})};function io(){var e=(0,c.useDispatch)(),t=(0,c.useSelector)((function(e){return e.app.sortTestsData.currentExpressionIds}))[0],n=(0,c.useSelector)((function(e){return e.app.sortTestsData.currentDirection})),r=function(t){n!==t&&e((0,no.u)({direction:t}))},a=[o.createElement(i.Select.OptionGroup,{label:"Sort by",key:"sort-by"},(0,c.useSelector)((function(e){return e.app.sortTestsData.availableExpressions})).map((function(r,a){return o.createElement(i.Select.Option,{key:a,title:r.label,content:o.createElement("div",{className:ro.optionContent,onClick:function(){return a=r.id,void e(t!==a?(0,no.Q)({expressionIds:[a]}):(0,no.u)({direction:n===Vt.Sr.Asc?Vt.Sr.Desc:Vt.Sr.Asc}));var a}},ao(r),o.createElement("span",{className:ro.optionText},r.label)),value:r.id})}))),o.createElement(i.Select.OptionGroup,{label:"Direction",key:"sort-direction"},o.createElement(i.Select.Option,{value:Vt.Sr.Asc,content:o.createElement("div",{className:ro.optionContent,onClick:function(){return r(Vt.Sr.Asc)}},o.createElement(i.Icon,{className:ro.optionIcon,data:eo.Z,width:14,height:14}),o.createElement("span",{className:ro.optionText},"Ascending"))}),o.createElement(i.Select.Option,{value:Vt.Sr.Desc,content:o.createElement("div",{className:ro.optionContent,onClick:function(){return r(Vt.Sr.Desc)}},o.createElement(i.Icon,{className:ro.optionIcon,data:to.Z,width:14,height:14}),o.createElement("span",{className:ro.optionText},"Descending"))}))];return o.createElement(Wi,{label:"Sort by",labelIcon:o.createElement(i.Icon,{data:n===Vt.Sr.Asc?eo.Z:to.Z}),currentValue:[t,n],autoClose:!1,multiple:!0},a)}var oo="Tree actions toolbar:";function co(e){var t=e.onHighlightCurrentTest,n=e.className,r=(0,c.useDispatch)(),a=(0,H.z)(),s=(0,c.useSelector)((function(e){return e.tree.suites.allRootIds})),l=(0,c.useSelector)((function(e){return e.tree.suites.stateById})),d=(0,c.useSelector)((function(e){return e.tree.browsers.stateById})),m=(0,c.useSelector)((function(e){return e.tree.browsers.byId})),p=(0,c.useSelector)(Vi.getCheckedTests),f=(0,c.useSelector)(Vi.getVisibleBrowserIds),g=(0,c.useSelector)(j.Dr),v=(0,c.useSelector)((function(e){return e.app.availableFeatures})).find((function(e){return e.name===O.Wi.name})),h=(0,c.useSelector)((function(e){return e.tree.suites.allRootIds.some((function(t){return e.tree.suites.byId[t].status===O.ih.RUNNING}))})),I=(0,c.useSelector)((function(e){return e.app.availableFeatures})).find((function(e){return e.name===O.B$.name})),S=(0,o.useMemo)((function(){var e=s.filter((function(e){return l[e].shouldBeShown}));return e.length>0&&e.every((function(e){return l[e].checkStatus===Hi.ri}))}),[l,s]),y=(0,o.useMemo)((function(){return s.some((function(e){var t=l[e].shouldBeShown,n=l[e].checkStatus===Hi.ri||l[e].checkStatus===Hi.Km;return t&&n}))}),[l,s]),T=y&&!S,b=(0,c.useSelector)(j.Qy),N=(0,c.useSelector)(j.Fn),w=(0,c.useSelector)(j.c_),C=(0,c.useSelector)(Vi.getVisibleImages),A=(0,c.useSelector)(Vi.getSelectedImages),D=y?A:C,k=(0,c.useSelector)((function(e){return e.ui.suitesPage.treeViewMode})),L=(0,c.useSelector)((function(e){return e.app.suitesPage.currentTreeNodeId})),_=(0,c.useSelector)(Aa.V5).visibleTreeNodeIds,x=g&&L&&_.includes(L),R=D.some((function(e){return(0,ca.h3)(e)})),P=D.some((function(e){return(0,ca.KD)({image:e,gui:N,isLastResult:!0,isStaticImageAccepterEnabled:b})}))&&!R,B=(0,o.useMemo)((function(){return Object.values(d).reduce((function(e,t){return e+Number(t.checkStatus===Hi.ri)}),0)}),[d]),U=function(){r(y?(0,M.deselectAll)():(0,M.selectAll)())},z=function(){r((0,M.setAllTreeNodesState)({isExpanded:!0}))},F=function(){r((0,M.setAllTreeNodesState)({isExpanded:!1}))},G=y?"selected":"visible",V=h||!g,Y=(0,o.useCallback)((function(){if(null==a||a.trackFeatureUsage({featureName:"".concat(oo," run tests")}),y)r((0,M.thunkRunTests)({tests:p}));else{var e=f.map((function(e){return{testName:m[e].parentId,browserName:m[e].name}}));r((0,M.thunkRunTests)({tests:e}))}}),[a,y,p,f,m,r]),W=function(){var e=D.filter((function(e){return(0,ca.KD)({image:e,gui:N,isLastResult:!0,isStaticImageAccepterEnabled:b})})).map((function(e){return e.id}));null==a||a.trackFeatureUsage({featureName:"".concat(oo," revert screenshots")}),r(b?(0,M.staticAccepterUnstageScreenshot)(e):(0,ya.Ku)({imageIds:e}))},Q=(0,o.useCallback)((function(){var e=D.filter((function(e){return(0,ca.h3)(e)})).map((function(e){return e.id}));null==a||a.trackFeatureUsage({featureName:"".concat(oo," accept screenshots")}),null==a||a.trackScreenshotsAccept({acceptedImagesCount:e.length}),r(b?(0,M.staticAccepterStageScreenshot)(e):(0,ya.Ro)({imageIds:e}))}),[D,a,b,r]),K=function(){var e=k===Vt.xW.Tree?Vt.xW.List:Vt.xW.Tree;null==a||a.trackFeatureUsage({featureName:"".concat(oo," change tree view mode"),treeViewMode:e}),r((0,M.setTreeViewMode)({treeViewMode:e}))};Xe("shift+r",Y,{enabled:Boolean(v)&&!h&&g}),Xe("shift+a",Q,{enabled:Boolean(I)&&!V&&R&&!P});var X=me(ae.xj(),ve.RunTestOptions).length>0,q=function(){return o.createElement(o.Fragment,null,v&&(h?o.createElement(i.Spin,{size:"xs",style:{marginRight:"6px"}}):o.createElement(zt,{className:Gi.iconButton,icon:o.createElement(i.Icon,{data:xi.Z,height:14}),tooltip:o.createElement(o.Fragment,null,"Run ",G," ⋅ ",o.createElement(i.Hotkey,{value:"shift+r",view:"light"})),view:"flat",onClick:Y,disabled:h||!g})),v&&X&&o.createElement(i.Popover,{content:o.createElement("div",{className:Gi.runOptionsContainer},o.createElement(ue,{name:ve.RunTestOptions})),trigger:"click"},o.createElement(zt,{view:"flat",disabled:h||!g,className:E()(Gi.iconButton),icon:o.createElement(i.Icon,{data:Ri.Z,height:14}),tooltip:"View run options"})),I&&(P?o.createElement(zt,{className:Gi.iconButton,icon:o.createElement(i.Icon,{data:Z.Z}),tooltip:"Undo accepting ".concat(G," screenshots"),view:"flat",onClick:W,disabled:V}):o.createElement(zt,{className:Gi.iconButton,icon:o.createElement(i.Icon,{data:Be.Z}),tooltip:o.createElement(o.Fragment,null,"Accept ",G," screenshots ⋅ ",o.createElement(i.Hotkey,{value:"shift+a",view:"light"})),view:"flat",onClick:Q,disabled:V||!R})),(v||I)&&o.createElement("div",{className:Gi.buttonsDivider}),o.createElement(zt,{icon:o.createElement(i.Icon,{data:k===Vt.xW.Tree?Pi.Z:ji.Z,height:14}),tooltip:k===Vt.xW.Tree?"Switch to list view":"Switch to tree view",view:"flat",onClick:K,disabled:!g}),o.createElement(zt,{icon:o.createElement(i.Icon,{data:Fr.Z,height:14}),tooltip:"Focus on active test",view:"flat",onClick:t,disabled:!x}),o.createElement(zt,{icon:o.createElement(i.Icon,{data:Zi.Z,height:14}),tooltip:"Expand all",view:"flat",onClick:z,disabled:!g}),o.createElement(zt,{icon:o.createElement(i.Icon,{data:Bi.Z,height:14}),tooltip:"Collapse all",view:"flat",onClick:F,disabled:!g}),w&&o.createElement(zt,{icon:o.createElement(i.Icon,{data:T?Ui.Z:S?zi.Z:Fi.Z}),tooltip:y?"Deselect all":"Select all",view:"flat",onClick:U,disabled:!g,className:Gi.selectAllButton,qa:"select-all-button"}))};return o.createElement("div",{className:E()(Gi.container,n)},o.createElement("div",{className:Gi.innerContainer},o.createElement(Qi,null),o.createElement(io,null),o.createElement("div",{className:Gi.buttonsContainer},q()),o.createElement("div",{className:E()(Gi.selectedContainer,(0,u.Z)({},Gi["selected-container--visible"],y))},o.createElement("div",{className:Gi.selectedTitle},o.createElement(i.Icon,{data:we.Z}),o.createElement("span",{"data-qa":"selected-tests-count"},B," ",B>1?"tests":"test"," selected")),o.createElement("div",{className:Gi.buttonsContainer},q()))))}var so=n(94927),lo=(0,or.createSelector)([j.Wo,j.TJ,j.jA,function(e,t){return t}],(function(e,t,n,r){switch(r.entityType){case vn.p.Suite:return t[r.entityId]?t[r.entityId].checkStatus:Hi.wT;case vn.p.Browser:return e[r.entityId]?e[r.entityId].checkStatus:Hi.wT;case vn.p.Group:var a=n[r.entityId],i=a.browserIds.length,o=a.browserIds.reduce((function(t,n){return t+e[n].checkStatus}),0);return Number(o===i||o&&Hi.Km)}return console.warn("Unknown entity type while trying to determine checkbox status. Item: ".concat(JSON.stringify(r),". ")+"Please report this to our team at ".concat(O.WY,".")),Hi.wT}));const uo="GmSTUcS__6ru6XqfUwTm",mo="P99TQ4wG1tJJip5mdh7g",po="fym6VSY4fMxZ5liksQV3",fo="MT99NR3angBf48CGO3Vg",Eo="CC6Es7iAjx37sC6LXfHb",go="JEKczgY4dsilomLNEORc",vo="SIjRYlrY7LUaIOEFLesg",ho="gIbhX6XBQ2CObUyG_skK",Io="uguNCTZkxSBVVKR9K6lH",So="sOLV5Fsta5TwMmH05upY",yo="oSQ67zTTCTB4ZNIEDsjE",To="iNFUSXIRxKm5Q8AkOQhV",bo="FrxBxKBajEm3gR7JvEIh",No="vIAF9eDidGeyZDFKwzuW",wo="p9zBca1FFwHaMMqbjgML";var Co=function e(t,n,r){var a=n[t];return a?a.browserIds?a.browserIds.map((function(e){var t=r[e];return{testName:t.parentId,browserName:t.name}})):a.suiteIds?a.suiteIds.flatMap((function(t){return e(t,n,r)})):[]:[]};function Mo(e){var t,n=e.item,r=(0,c.useDispatch)(),a=(0,c.useSelector)(j.c_),s=(0,c.useSelector)((function(e){return e.tree.groups.byId})),l=(0,c.useSelector)((function(e){return lo(e,n)})),d=/\/visual-checks/.test(location.hash),m=(0,c.useSelector)(j.Bl),p=(0,c.useSelector)(j.TZ),f=(0,c.useSelector)((function(e){return e.running})),g=(0,c.useSelector)((function(e){return e.app.availableFeatures})).find((function(e){return e.name===O.Wi.name})),v=n.title.slice(0,-1),h=n.title[n.title.length-1],I=E()((t={},(0,u.Z)(t,No,n.entityType===vn.p.Group),(0,u.Z)(t,wo,n.entityType!==vn.p.Group),t));return o.createElement("div",{className:uo},o.createElement("div",null,o.createElement("div",{className:I},n.prefix&&o.createElement("span",{className:ho},n.prefix),o.createElement("span",{className:Io},v.map((function(e,t){return o.createElement(o.Fragment,{key:t},o.createElement("span",{className:t!==v.length-1?So:""},e),o.createElement(pt.Z,{height:12,className:yo}))})),o.createElement("span",{className:v.length>0?So:""},h))),n.tags&&n.tags.length>0&&o.createElement("div",{className:To},n.tags.map((function(e,t){return o.createElement("span",{key:t,className:bo},e)})))),o.createElement("div",{className:E()(mo,(0,u.Z)({},po,!a||d))},o.createElement(wt.m,{className:fo,size:"m",text:function(){if(n.entityType===vn.p.Suite){var e=m[n.entityId];if(null!=e&&e.suitePath)return e.suitePath.join(" ")}else if(n.entityType===vn.p.Browser){var t=n.browserId||n.entityId,r=p[t];if(r){var a=m[r.parentId];if(null!=a&&a.suitePath)return a.suitePath.join(" ")}}return n.title.join(" ")}(),title:"Copy title",onClick:function(e){e.stopPropagation()}}),g&&o.createElement(i.Button,{view:"flat",title:"Run tests",onClick:function(e){e.stopPropagation();var t=function(){if(n.entityType===vn.p.Suite)return Co(n.entityId,m,p);if(n.entityType===vn.p.Browser){var e=n.browserId||n.entityId,t=p[e];if(t)return[{testName:t.parentId,browserName:t.name}]}else if(n.entityType===vn.p.Group){var r=s[n.entityId];if(r)return r.browserIds.map((function(e){var t=p[e];return{testName:t.parentId,browserName:t.name}}))}return[]}();t.length>0&&r((0,M.thunkRunSuite)({tests:t}))},disabled:f,className:E()(fo,(0,u.Z)({},Eo,f))},o.createElement(i.Button.Icon,null,o.createElement(i.Icon,{data:Ki.Z})))),a&&!d&&o.createElement("div",{className:go,onClick:function(e){if(e.stopPropagation(),n.entityType===vn.p.Group){var t=s[n.entityId];r((0,M.toggleGroupCheckbox)({browserIds:t.browserIds,checkStatus:(0,sr.jj)(l)}))}else n.entityType===vn.p.Suite?r((0,M.toggleSuiteCheckbox)({suiteId:n.entityId,checkStatus:(0,sr.jj)(l)})):n.entityType===vn.p.Browser&&r((0,M.toggleBrowserCheckbox)({suiteBrowserId:n.entityId,checkStatus:(0,sr.jj)(l)}))},"data-qa":"tree-item-checkbox"},o.createElement(i.Checkbox,{checked:(0,sr.CR)(l),indeterminate:(0,sr.Ph)(l),className:vo,size:"m"})))}var Oo=n(84673),Ao=n.n(Oo);const Do={wrapper:"LJYj9V992X2v_OQRcVCA",magnifier:"EjYvq5pA27vPFglbcsSz"};var ko=3;function Lo(e){var t=e.image,n=e.style,r=e.magnifierHeight,a=void 0===r?150:r,i=e.magnifierWidth,c=void 0===i?150:i,s=e.zoomLevel,l=void 0===s?ko:s,u=e.scrollContainerRef,m=(0,o.useState)(!1),p=(0,d.Z)(m,2),f=p[0],E=p[1],g=(0,o.useState)([0,0]),v=(0,d.Z)(g,2),h=(0,d.Z)(v[0],2),I=h[0],S=h[1],T=v[1],b=(0,o.useState)([0,0]),N=(0,d.Z)(b,2),w=(0,d.Z)(N[0],2),C=w[0],M=w[1],O=N[1],A=(0,o.useRef)([0,0]),D=(0,o.useState)({}),k=(0,d.Z)(D,2),L=k[0],_=k[1],x=(0,o.useRef)(null);return(0,o.useEffect)((function(){if(f&&null!=u&&u.current&&null!=x&&x.current){var e=function(){if(x.current){var e=(0,d.Z)(A.current,2),t=e[0],n=e[1],r=x.current.getBoundingClientRect(),a=r.top,i=t-r.left-window.scrollX,o=n-a-window.scrollY;O([i,o])}};return u.current.addEventListener("scroll",e),function(){var t;null===(t=u.current)||void 0===t||t.removeEventListener("scroll",e)}}}),[f,u]),(0,o.useEffect)((function(){var e=(0,d.Z)(A.current,2),n=e[0],r=e[1];_({display:f?"":"none",height:"".concat(a,"px"),width:"".concat(c,"px"),backgroundImage:"url('".concat(t.path,"')"),top:"".concat(r-a/2,"px"),left:"".concat(n-c/2,"px"),backgroundSize:"".concat(I*l,"px ").concat(S*l,"px"),backgroundPositionX:"".concat(-C*l+c/2,"px"),backgroundPositionY:"".concat(-M*l+a/2,"px")})}),[f,I,S,C,M]),o.createElement("div",{className:Do.wrapper},o.createElement(yr.w,{image:t,style:n,ref:x,onMouseEnter:function(e){return function(e){var t=e.currentTarget.getBoundingClientRect(),n=t.width,r=t.height;T([n,r]),E(!0),A.current=[e.clientX,e.clientY]}(e)},onMouseLeave:function(e){return function(e){e.preventDefault(),E(!1),A.current=[e.clientX,e.clientY]}(e)},onMouseMove:function(e){return function(e){var t=e.currentTarget.getBoundingClientRect(),n=t.top,r=t.left,a=e.clientX-r-window.scrollX,i=e.clientY-n-window.scrollY;O([a,i]),A.current=[e.clientX,e.clientY]}(e)}}),(0,y.createPortal)(o.createElement("div",{className:Do.magnifier,style:L}),document.body))}const _o="fOCwwY8SyBtdV8yd9MaE",xo="AU6DFFgGiakJnqZwq66G",Ro="ZjC0bb2zdqSR5wNLRp4F",Po="FWP9wDidgiPcbjkeKMEW",jo="SdbQF9QSHTIuzXbW5NhZ",Zo="lEKkI6Teiro44TkyeMy6",Bo="TqV8drAzil99buolLGvD";function Uo(e){var t;return e.item.status===O.ih.SKIPPED&&e.item.skipReason?o.createElement("div",{className:Zo},o.createElement("div",{className:Bo},"Skipped ⋅ ",(0,Jt.hk)(e.item.skipReason))):null!==(t=e.item.images)&&void 0!==t&&t.length?o.createElement("div",{style:{overflow:"hidden"}},e.item.images.map((function(t){var n=[];return t.status!==O.ih.FAIL&&t.status!==O.ih.UPDATED&&t.status!==O.ih.SUCCESS||n.push({title:"Expected",image:t.expectedImg}),t.status!==O.ih.UPDATED&&t.status!==O.ih.SUCCESS&&n.push({title:"Actual",image:t.actualImg}),t.status===O.ih.FAIL&&n.push({title:"Diff",image:t.diffImg}),o.createElement("div",{key:t.id},o.createElement("span",{className:xo},t.stateName," ⋅ ",ha(t)),o.createElement("div",{className:Ro},n.filter((function(e){var t=e.image;return Boolean(t)})).map((function(t){return o.createElement("div",{className:E()(jo,3===n.length&&"Diff"!==t.title&&Po),key:t.title},o.createElement("p",null,t.title),o.createElement(Lo,{image:t.image,scrollContainerRef:e.scrollContainerRef}))}))))}))):e.item.errorStack?o.createElement("div",{"data-qa":"error-stack-item",className:E()(_o,e.className)},(e.item.errorTitle+"\n"+Ao()(e.item.errorStack)).trim()):null}const zo="T3aXaKm5jZ4a6NLqYRBw",Fo="w50MypVLjyV8yU8AnjiB",Go="xZyMfouBBnA33n0udtkK",Ho="ApzdqHVcRYufL0rh7fmJ",Vo="D4aLlzPBALA9wUI7MVAE",Yo="CvF3cmhVMllx30vyYbH4",Wo="zeS_VNPrT5fizUUHJnSq",Qo="phHEhQJxiTI66Z6s54HL",Ko="jzzo195Rmsd5uw8pctM3",Xo="k_aewXqIOI0UbVd5Jvsr",qo="eDtbnxU6w8wjEleQ0CSm",Jo="k06qKh54DIscG61KmjBM",$o="vkJOJghjMsVLLfp05SfS",ec="_4_WsBALJksH5x6QO2t9g",tc="mTrxnQFe6UTb97i6j4nW text-hint",nc="KFEV5y2NZelBeyb24H2p";function rc(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ac(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ac(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function ac(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ic=(0,o.forwardRef)((function(e,t){var n,r,a=e.currentTreeNodeId,i=e.treeData,s=e.treeViewExpandedById,l=e.onClick,m=e.containerClassName,p=e.loading,f=(0,c.useDispatch)(),g=(0,c.useSelector)(j.JK),v=(0,qn.Lm)({items:i.tree,withExpandedState:!0,getItemId:function(e){return e.id},controlledState:{expandedById:s}}),h=function(e,t){var n=e.status===O.ih.FAIL||e.status===O.ih.ERROR;return t||n},I=(0,o.useMemo)((function(){for(var e={},t=new Map,n=0;n<v.structure.visibleFlattenIds.length;n++){var r=v.structure.visibleFlattenIds[n],i=v.structure.itemsById[r];if(i.entityType===vn.p.Browser){var o,c=g===Vt.xW.List?"root":(null===(o=i.parentData)||void 0===o?void 0:o.id)||"root";t.has(c)||t.set(c,[]),t.get(c).push(r)}}var s,l=rc(t);try{for(l.s();!(s=l.n()).done;)for(var u=(0,d.Z)(s.value,2)[1],m=0;m<u.length;){var p=u[m],f=v.structure.itemsById[p],E=f.id===a;if(h(f,E)){for(var I=m;I<u.length-1;){var S=u[I+1],y=v.structure.itemsById[S],T=y.id===a;if(!h(y,T))break;I++}if(m===I)e[p]="single";else for(var b=m;b<=I;b++)e[u[b]]=b===m?"first":b===I?"last":"middle";m=I+1}else m++}}catch(e){l.e(e)}finally{l.f()}return e}),[v.structure.visibleFlattenIds,v.structure.itemsById,a,g]),S=(0,o.useCallback)((function(e){var t=e.id,n=v.structure.itemsById[t];l(n,v.state.expandedById[t])}),[v,s]),y=o.useRef(null),T=(0,so.MG)({count:v.structure.visibleFlattenIds.length,getScrollElement:function(){return y.current},estimateSize:function(e){var t=v.structure.visibleFlattenIds[e];return v.structure.itemsById[t].entityType===vn.p.Group?68:34},getItemKey:(0,o.useCallback)((function(e){return v.structure.visibleFlattenIds[e]}),[v]),overscan:50}),b=T.getVirtualItems();return(0,o.useImperativeHandle)(t,(function(){return{scrollToId:function(e){v.structure.visibleFlattenIds.includes(e)?T.scrollToIndex(v.structure.visibleFlattenIds.indexOf(e),{align:"auto"}):(f((0,M.revealTreeNode)({nodeId:e})),setTimeout((function(){try{T.scrollToIndex(v.structure.visibleFlattenIds.indexOf(e),{align:"auto"})}catch(e){}}),50))}}})),0===v.structure.visibleFlattenIds.length?o.createElement("div",{className:tc},"There are no tests that match selected filters"):o.createElement(qn.lW,{className:zo},o.createElement("div",{ref:y,className:E()(Fo,m,p&&nc)},o.createElement("div",{className:Go,style:{height:T.getTotalSize()}},o.createElement("div",{className:Ho,style:{transform:"translateY(".concat(null!==(n=null===(r=b[0])||void 0===r?void 0:r.start)&&void 0!==n?n:0,"px)")},"data-qa":"tree-view-list"},b.map((function(e){var t,n=v.structure.itemsById[e.key],r=n.id===a,i=n.entityType===vn.p.Browser?I[e.key]:void 0,c=[Vo,"tree-view__item",(t={"current-tree-node":r,"error-tree-node":n.entityType===vn.p.Browser&&(n.status===O.ih.FAIL||n.status===O.ih.ERROR)},(0,u.Z)(t,Yo,r),(0,u.Z)(t,Ko,n.entityType===vn.p.Browser),(0,u.Z)(t,Xo,n.entityType===vn.p.Browser&&(n.status===O.ih.FAIL||n.status===O.ih.ERROR)),(0,u.Z)(t,qo,"first"===i),(0,u.Z)(t,Jo,"middle"===i),(0,u.Z)(t,$o,"last"===i),(0,u.Z)(t,ec,"single"===i),t)];return o.createElement(qn.CM,(0,kt.Z)({key:e.key,"data-qa":"tree-view-item","data-index":e.index,ref:T.measureElement,height:0,className:E()(c)},(0,qn.vy)({id:e.key.toString(),list:v,onItemClick:S,mapItemDataToContentProps:function(e){return{startSlot:o.createElement(rr,null,e.status?(0,Jt.XF)(e.status):o.createElement($n.Z,null)),title:o.createElement(Mo,{item:e,className:r?Wo:""}),subtitle:o.createElement(Uo,{item:e,className:r?Qo:"",scrollContainerRef:y})}}}).props))}))))))}));const oc={skeleton:"NfU5ZxuSXr88hxKKeomI","skeleton-appear":"ExjahJDmJwFVgynPb_Ou",skeletonAppear:"ExjahJDmJwFVgynPb_Ou"};function cc(){var e=(0,o.useState)([]),t=(0,d.Z)(e,2),n=t[0],r=t[1];return(0,o.useEffect)((function(){for(var e=0,t=[],n=0;n<24;n++){var a=En()(0,e+1);e=a,t.push(o.createElement(i.Skeleton,{key:n,className:oc.skeleton,style:{width:"calc(100% - ".concat(a," * 24px)"),"--delay":Math.floor(n/2)+"s"}}))}r(t)}),[]),o.createElement(i.Flex,{direction:"column",gap:3,alignItems:"end"},n)}var sc=["title","isInitialized","onHighlightCurrentTest","treeViewRef","statusList","statusValue","onStatusChange"];function lc(e){var t=e.title,n=e.isInitialized,r=e.onHighlightCurrentTest,a=e.treeViewRef,s=e.statusList,l=e.statusValue,u=e.onStatusChange,d=(0,K.Z)(e,sc),m=(0,c.useSelector)((function(e){return e.app.isSearchLoading}));return o.createElement(at,{className:E()(pi.card,pi.treeViewCard),key:"tree-view",qa:"suites-tree-card"},o.createElement(Qn.Boundary,{fallback:o.createElement(Qn.FallbackCardCrash,{recommendedAction:"Try to reload page"})},o.createElement(i.Text,{variant:"header-2",className:pi.card__title,qa:"sidebar-title"},t),o.createElement(i.Flex,{gap:2,className:pi["filters-container"]},o.createElement(Ni,null),o.createElement(Di,null)),o.createElement(_i,{className:pi["tabs-container"],list:s,value:l,onChange:u,disabled:!n}),r&&o.createElement(co,{className:pi["toolbar-container"],onHighlightCurrentTest:r}),n&&o.createElement(ic,(0,kt.Z)({ref:a,containerClassName:pi["tree-view-container"],loading:m},d)),!n&&o.createElement("div",{className:pi["skeleton-container"]},o.createElement(cc,null))))}var uc=["testNameFilter","strictMatchFilter","retryIndex","expand","viewModes"],dc=function(){var e=(0,c.useDispatch)(),t=(0,s.s0)(),n=(0,i.useToaster)(),r=(0,c.useSelector)(j.Dr),a=(0,c.useSelector)(Aa.V5),l=(0,c.useSelector)((function(e){return e.tree.browsers.byId})),u=(0,c.useSelector)((function(e){return e.tree.suites.byId})),d=(0,c.useSelector)(j.es),m=(0,c.useSelector)((function(e){return e.app[O.T3.suitesPage].viewMode})),p=(0,o.useRef)(!1);(0,o.useEffect)((function(){if(r&&!p.current){var i=window.location.search;if(function(e){var t=new URLSearchParams(e);return uc.some((function(e){return t.has(e)}))}(i)){p.current=!0;var c,s,f=function(e){var t,n,r=new URLSearchParams(e),a={};if(r.has("testNameFilter")&&(a.testNameFilter=null!==(t=r.get("testNameFilter"))&&void 0!==t?t:void 0),r.has("browser")&&(a.browser=null!==(n=r.get("browser"))&&void 0!==n?n:void 0),r.has("strictMatchFilter")&&(a.strictMatchFilter="true"===r.get("strictMatchFilter")),r.has("retryIndex")){var i,o=parseInt(null!==(i=r.get("retryIndex"))&&void 0!==i?i:"",10);isNaN(o)||(a.retryIndex=o)}return a}(i),E=null;if(f.testNameFilter)(E=null!==(c=null===(s=l["".concat(f.testNameFilter," ").concat(f.browser)])||void 0===s?void 0:s.id)&&void 0!==c?c:null)||(n.add({name:"legacy-url-migration-warning",title:"Test not found",content:'Could not find a test named "'.concat(f.testNameFilter,'". Showing all tests instead.'),isClosable:!0,autoHiding:1e4,renderIcon:function(){return o.createElement(N.Z,{className:"toaster__icon--error",width:20,height:20})},className:"toaster"}),e((0,M.selectBrowsers)({page:O.T3.suitesPage,data:d})),e((0,M.updateNameFilter)({page:O.T3.suitesPage,data:""})),e((0,M.setStrictMatchFilter)(!1)),e((0,M.changeViewMode)({page:O.T3.suitesPage,data:m})));if(E){e((0,M.selectBrowsers)({page:O.T3.suitesPage,data:d}));var g=l[E],v=u[g.parentId];if(v&&g){var h=(0,et.iT)(a.tree,E);if(h){var I,S=(0,et.av)(h);e((0,M.setCurrentTreeNode)({browserId:E,treeNodeId:h.id,groupId:S}));var y=null!==(I=f.retryIndex)&&void 0!==I?I:g.resultIds.length-1,T=Math.max(0,Math.min(y,g.resultIds.length-1));e((0,M.changeTestRetry)({browserId:E,retryIndex:T}));var b=Ta({page:O.T3.suitesPage,hash:v.hash,browser:g.name,attempt:T});t(b,{replace:!0}),e((0,M.updateNameFilter)({page:O.T3.suitesPage,data:""})),e((0,M.setStrictMatchFilter)(!1)),e((0,M.changeViewMode)({page:O.T3.suitesPage,data:m}))}}}var w=function(e){var t=new URLSearchParams(e);return uc.forEach((function(e){return t.delete(e)})),t.delete("browser"),t.toString()}(i),C=w?"?".concat(w):"";if(C!==i){var A=new URL(window.location.href);A.search=C,window.history.replaceState(null,"",A.toString())}}}}),[r,l,u,a,d,m,e,t,n])};function mc(){var e,t=bt();dc();var n=(0,c.useSelector)(it.EP),r=(0,c.useSelector)(Aa.V5),a=(0,c.useSelector)(it.FA),i=r.visibleTreeNodeIds,l=r.tree,m=(0,s.UO)(),p=(0,c.useSelector)(it.Nq),f=(0,c.useSelector)((function(e){return e.app[O.T3.suitesPage].currentBrowserId})),g=(0,c.useSelector)(Aa.T7),v=(0,c.useSelector)((0,it.bi)(m)),h=(0,c.useSelector)((function(e){return e.app[O.T3.suitesPage].currentTreeNodeId})),I=i.indexOf(h),S=(0,c.useSelector)(it.G4),y=null!==(e=null==S?void 0:S.resultIds.length)&&void 0!==e?e:0,T=(0,c.useSelector)(j.Dr),b=(0,c.useDispatch)(),N=(0,s.s0)(),w=(0,c.useSelector)((function(e){return e.app[t].viewMode})),C=(0,c.useSelector)((function(e){return(0,Aa.dm)(e)})),A=(0,o.useCallback)((function(e){b(M.changeViewMode({data:e,page:t}))}),[t]);(0,o.useEffect)((function(){var e=m.stateName&&a.some((function(e){return e.stateName===m.stateName}))?m.stateName:a.length?a[0].stateName:void 0;null!=n&&n.parentId&&null!==p&&N(Ta({page:O.T3.suitesPage,attempt:p,hash:g,browser:n.name,stateName:e}))}),[n,p,g]),(0,o.useEffect)((function(){if(f!==v&&T&&v){b((0,M.setStrictMatchFilter)(!1));var e=(0,et.iT)(r.tree,v);if(!e)return;b((0,M.setCurrentTreeNode)({browserId:v,treeNodeId:e.id})),void 0!==m.attempt&&b((0,M.changeTestRetry)({browserId:v,retryIndex:Number(m.attempt)}))}}),[T,m]);var D=(0,o.useRef)(null);(0,o.useEffect)((function(){var e;null==D||null===(e=D.current)||void 0===e||e.scrollToId(h)}),[D,h]);var k=(0,c.useSelector)((function(e){return e.ui[O.T3.suitesPage].expandedTreeNodesById})),L=(0,o.useMemo)((function(){return[{title:"All",value:O.wO.ALL,count:C.total},{icon:(0,Jt.XF)(O.ih.SUCCESS),title:"Passed",value:O.wO.PASSED,count:C.success},{icon:(0,Jt.XF)(O.ih.FAIL),title:"Failed",value:O.wO.FAILED,count:C.fail},{icon:(0,Jt.XF)(O.ih.RETRY),title:"Retried",value:O.wO.RETRIED,count:C.retried},{icon:(0,Jt.XF)(O.ih.SKIPPED),title:"Skipped",value:O.wO.SKIPPED,count:C.skipped}]}),[C]),_=(0,o.useCallback)((function(e){var t,n=i[I+e],r=(0,et.Qt)(l,null!=n?n:"");if(r){var a=(0,et.av)(r);b(M.setCurrentTreeNode({treeNodeId:n,browserId:r.entityId,groupId:a})),null==D||null===(t=D.current)||void 0===t||t.scrollToId(n)}else console.warn("Couldn't find tree node by id in prev/next handler. ID: ".concat(h,". Tree: ").concat(JSON.stringify(l))+"Please report this to our team at ".concat(O.WY,"."))}),[i,I,l,h,b]),x=(0,o.useCallback)((function(e){if(f&&null!==p){var t=p+e;t<0||t>=y||b(M.changeTestRetry((0,u.Z)({browserId:f,retryIndex:t},O.T3.suitesPage,h?{treeNodeId:h}:void 0)))}}),[f,p,y,h,b]),R=(0,o.useCallback)((function(){return _(1)}),[_]),P=(0,o.useCallback)((function(){return _(-1)}),[_]),Z=(0,o.useCallback)((function(){return x(1)}),[x]),B=(0,o.useCallback)((function(){return x(-1)}),[x]);Xe("ArrowDown",R),Xe("ArrowUp",P),Xe("ArrowRight",Z),Xe("ArrowLeft",B);var U=(0,o.useCallback)((function(e,t){e.entityType===vn.p.Browser?b(M.setCurrentTreeNode({treeNodeId:e.id,browserId:e.entityId,groupId:(0,et.av)(e)})):b(M.setTreeNodeExpandedState({nodeId:e.id,isExpanded:!t}))}),[]),z=(0,o.useCallback)((function(e){var t,n=(0,et.iT)(l,e);if(n){var r=(0,et.av)(n);b(M.setCurrentTreeNode({treeNodeId:n.id,browserId:e,groupId:r})),null==D||null===(t=D.current)||void 0===t||t.scrollToId(n.id)}}),[l,b]),F=(0,c.useSelector)((function(e){return e.ui[O.T3.suitesPage].sectionSizes})),G=(0,o.useState)(null),H=(0,d.Z)(G,2),V=H[0],Y=H[1],W=(0,o.useState)(0),Q=(0,d.Z)(W,2),K=Q[0],X=Q[1];return(0,o.useLayoutEffect)((function(){if(V){X(V.clientHeight);var e=new ResizeObserver((function(e){X(e[0].contentRect.height)}));return e.observe(V),function(){return e.disconnect()}}}),[V]),o.createElement("div",{className:cn},o.createElement(mt,{sizes:F,onSizesChange:function(e){b(M.setSectionSizes({sizes:e,page:O.T3.suitesPage})),(0,et.aV)(e[0])?b(M.setBackupSectionSizes({sizes:[mi.p,100-mi.p],page:O.T3.suitesPage})):b(M.setBackupSectionSizes({sizes:e,page:O.T3.suitesPage}))}},o.createElement(lc,{title:"Suites",onHighlightCurrentTest:function(){D.current&&null!=n&&n.parentId&&D.current.scrollToId(h)},isInitialized:T,treeViewRef:D,treeData:r,treeViewExpandedById:k,currentTreeNodeId:h,onClick:U,statusList:L,statusValue:w,onStatusChange:A}),o.createElement(at,{key:"test-view",className:E()(sn,un),style:{"--sticky-header-height":K+"px"}},o.createElement(Qn.Boundary,{watchFor:[n,v,T],fallback:o.createElement(Qn.FallbackCardCrash,{recommendedAction:"Try to choose another item"})},n&&o.createElement(o.Fragment,null,o.createElement("div",{className:dn,ref:function(e){return Y(e)}},o.createElement(Mt,{className:ln,suitePath:n.suitePath,index:I,totalItems:i.length,onNext:function(){return _(1)},onPrevious:function(){return _(-1)}}),o.createElement(Xt,{onAttemptChange:function(e,t,n){b(M.changeTestRetry((0,u.Z)({browserId:e,retryIndex:n},O.T3.suitesPage,h?{treeNodeId:h}:void 0)))},onBrowserChange:z})),o.createElement(on,null),o.createElement(di,null)),!v&&!n&&o.createElement("div",{className:mn},o.createElement("span",{className:pn},"Select a test to see details")),v&&!T&&o.createElement(gn,null)))))}function pc(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return fc(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fc(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function fc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ec=(0,or.createSelector)([j.Jx,j.TZ,j.O7],(function(e,t,n){for(var r={},a=0,i=Object.values(e);a<i.length;a++){var o=i[a],c=n[o.parentId];if(o.stateName&&c){var s=t[c.parentId];if(s){var l="".concat(s.id," ").concat(o.stateName);r[l]||(r[l]={id:l,browserId:s.id,images:[],suitePath:c.suitePath,browserName:s.name,stateName:o.stateName}),r[l].images.push(Object.assign({},o,{timestamp:c.timestamp}))}}}for(var u={},m=function(){var r=(0,d.Z)(f[p],2),a=r[0],i=r[1],o=t[i.browserId],c=o.resultIds[o.resultIds.length-1],s=n[c];if(s.status!==O.ih.RUNNING&&s.status!==O.ih.ERROR&&!s.imageIds.find((function(t){return e[t].stateName===i.stateName})))return"continue";i.images.sort((function(e,t){return e.timestamp-t.timestamp})),u[a]={id:i.id,suitePath:i.suitePath,browserId:i.browserId,browserName:i.browserName,stateName:i.stateName,imageIds:i.images.map((function(e){return e.id})),status:s.status}},p=0,f=Object.entries(r);p<f.length;p++)m();return u})),gc=function(e){var t=[e.app.visualChecksPage.currentBrowserId,e.app.visualChecksPage.stateName].join(" "),n=Ec(e);if(!t||!n[t]){var r=Object.values(n);return r.find((function(e){var t=e.status;return t===O.ih.FAIL||t===O.ih.FAIL_ERROR}))||r[0]}return n[t]},vc=function(e){var t=gc(e);if(!t)return null;var n=e.tree.browsers.stateById[t.browserId].retryIndex,r=t.imageIds.find((function(t){var r=e.tree.images.byId[t].parentId;return e.tree.results.byId[r].attempt===n}));return r?(0,j.Jx)(e)[r]:null},hc=function(e){var t=gc(e);return t?e.tree.browsers.stateById[null==t?void 0:t.browserId].retryIndex:null},Ic=function(e){var t=gc(e),n=(0,j.Jx)(e),r=null==t?void 0:t.browserId,a=r&&e.tree.browsers.byId[r];if(a)for(var i=(null==a?void 0:a.resultIds.length)-1;i>=0;i--){if(n["".concat(null==a?void 0:a.resultIds[i]," ").concat(null==t?void 0:t.stateName)])return i}return 0},Sc=function(e){var t,n=null===(t=gc(e))||void 0===t?void 0:t.id,r=Ec(e);if(n){var a=r[n];return a?e.tree.browsers.byId[a.browserId]:null}return null};const yc={container:"e8s4JSjd7RxAhPAaW8RZ",card:"LLcn_jBWNEuyQC5ZBgS5",card__title:"GS6Zo5RCv1s1Z6c3t0w2",cardTitle:"GS6Zo5RCv1s1Z6c3t0w2","toolbar-container":"XrScx7Cwyr_af5rbLwdl",toolbarContainer:"XrScx7Cwyr_af5rbLwdl","accept-button":"plCEtKjx1D50B_2r3Cpg regular-button from global, action-button",acceptButton:"plCEtKjx1D50B_2r3Cpg regular-button from global, action-button","buttons-container":"sLSIptbgAQ5QCgptRkAA",buttonsContainer:"sLSIptbgAQ5QCgptRkAA",hint:"HaHZlzIgRHYiaJTmV3fY","current-image":"lDjihigezbN9xQBOSlIn",currentImage:"lDjihigezbN9xQBOSlIn","test-view-card":"i2cXFS5T6BRa_ny_RNVX",testViewCard:"i2cXFS5T6BRa_ny_RNVX",hotkey:"Of8DRV_DkW6T9KJX8JhT"};function Tc(){return o.createElement(i.Flex,{direction:"column",gap:4,style:{marginTop:"12px"}},o.createElement(i.Flex,{gap:2},o.createElement(i.Skeleton,{style:{height:"12px",width:"15%"}}),o.createElement(i.Skeleton,{style:{height:"12px",width:"25%"}})),o.createElement(i.Flex,{gap:2},o.createElement(i.Skeleton,{style:{height:"24px",width:"40%"}})),o.createElement(i.Flex,{gap:2},o.createElement(i.Skeleton,{style:{height:"12px",width:"150px"}}),o.createElement(i.Skeleton,{style:{height:"12px",width:"180px"}}),o.createElement(i.Skeleton,{style:{height:"12px",width:"120px"}})),o.createElement(i.Flex,{gap:2},o.createElement(i.Skeleton,{style:{height:"12px",width:"25%"}})),o.createElement(i.Flex,{gap:2},o.createElement(i.Skeleton,{style:{height:"500px"}}),o.createElement(i.Skeleton,{style:{height:"500px"}}),o.createElement(i.Skeleton,{style:{height:"500px"}})))}var bc=n(73140),Nc=n(22578);const wc={container:"ipa14zMJGXV7Y5F33sfG","attempt-select":"TcxhRYjS_wr5KAstgw3V",attemptSelect:"TcxhRYjS_wr5KAstgw3V","attempt-number":"vUAaXSCoIWZa4RTwiSEW",attemptNumber:"vUAaXSCoIWZa4RTwiSEW","attempt-option":"CO6bZtkzia3WT1X_RATs",attemptOption:"CO6bZtkzia3WT1X_RATs","attempt-select-popup":"oehf8WD6Wi4UG5QdUp5L",attemptSelectPopup:"oehf8WD6Wi4UG5QdUp5L"};function Cc(){var e=(0,c.useDispatch)(),t=(0,c.useSelector)(gc),n=(0,c.useSelector)(j.Jx),r=null==t?void 0:t.browserId,a=(0,c.useSelector)((function(e){return r&&e.tree.browsers.byId[r]})),s=a?a.resultIds.length:null,l=(0,c.useSelector)((function(e){return a?e.tree.browsers.stateById[a.id].retryIndex:null})),u=function(e){if(a&&null!==l)for(var r=e?l+1:l-1;e?r<(null==a?void 0:a.resultIds.length):r>=0;){var i="".concat(null==a?void 0:a.resultIds[r]," ").concat(null==t?void 0:t.stateName);if(n[i])return!1;r+=e?1:-1}return!0},m=(0,o.useMemo)((function(){return u(!0)}),[l,a]),p=(0,o.useMemo)((function(){return u(!1)}),[l,a]),f=function(i){if(a&&null!==l){for(var o=null,c=i?l+1:l-1;i?c<(null==a?void 0:a.resultIds.length):c>=0;){var s="".concat(null==a?void 0:a.resultIds[c]," ").concat(null==t?void 0:t.stateName);if(n[s]){o=c;break}c+=i?1:-1}r&&null!==o&&e((0,M.changeTestRetry)({browserId:r,retryIndex:o}))}};return a?o.createElement("div",{className:wc.container},o.createElement(i.Tooltip,{content:"Prev screenshot",openDelay:0,placement:"top"},o.createElement(i.Button,{"aria-label":"Prev screenshot",view:"outlined",onClick:function(){return f(!1)},disabled:p},o.createElement(i.Icon,{data:Nc.Z}))),o.createElement(i.Tooltip,{content:"Show all attempts",openDelay:0,placement:"top"},o.createElement(i.Select,{renderControl:function(e){var t=e.triggerProps,n=t.onClick,r=t.onKeyDown,a=e.ref;return o.createElement(i.Button,{className:wc.attemptSelect,onClick:n,onKeyDown:r,ref:a,view:"flat",qa:"compact-attempt-picker"},"Attempt ",o.createElement("span",{className:wc.attemptNumber},null!==l?l+1:"–")," of ",o.createElement("span",{className:wc.attemptNumber,"data-qa":"compact-attempt-picker-count"},null!=s?s:"–"))},renderOption:function(e){var r="".concat(e.data.resultId," ").concat(null==t?void 0:t.stateName);return o.createElement("div",{className:wc.attemptOption},va(n[r]||null,!0),o.createElement("span",null,e.content))},popupClassName:wc.attemptSelectPopup,onUpdate:function(t){var n=(0,d.Z)(t,1)[0];r&&e((0,M.changeTestRetry)({browserId:r,retryIndex:Number(n)}))},value:l?[l.toString()]:[]},a.resultIds.map((function(e,t){return o.createElement(i.Select.Option,{key:t,value:t.toString(),content:"Attempt #".concat(t+1),data:{resultId:e}})})))),o.createElement(i.Tooltip,{content:"Next screenshot",openDelay:0,placement:"top"},o.createElement(i.Button,{view:"outlined",onClick:function(){return f(!0)},disabled:m},o.createElement(i.Icon,{data:pt.Z})))):null}var Mc=n(84006),Oc=n(79483),Ac=function(e){return e.app[O.T3.visualChecksPage].viewMode},Dc=function(e){var t,n,r=e.app.visualChecksPage.currentBrowserId||"",a=(null===(t=e.tree.browsers.byId[r])||void 0===t?void 0:t.parentId)||"";return null===(n=e.tree.suites.byId[a])||void 0===n?void 0:n.hash},kc=(0,or.createSelector)([j.Jx,Ec,Ac,function(e){return e.app[O.T3.visualChecksPage].nameFilter},function(e){return e.app[O.T3.visualChecksPage].useRegexFilter},function(e){return e.app[O.T3.visualChecksPage].useMatchCaseFilter}],(function(e,t,n,r,a,i){var o,c={isRoot:!0,data:void 0},s=(o={},(0,u.Z)(o,O.wO.ALL,0),(0,u.Z)(o,O.wO.PASSED,0),(0,u.Z)(o,O.wO.FAILED,0),o),l=Object.values(t).filter((function(t){var o=t.browserId,c=t.browserName,l=t.imageIds;if(!(0,ca.TV)(o,c,r,{strictMatchFilter:!1,useMatchCaseFilter:i,useRegexFilter:a,isNewUi:!0},(0,bi.ZL)(o)))return!1;var u=e[l[l.length-1]].status;switch(s[O.wO.ALL]++,u){case O.ih.SUCCESS:return s[O.wO.PASSED]++,n===O.wO.PASSED||n===O.wO.ALL;case O.ih.FAIL:case O.ih.ERROR:case O.ih.UPDATED:return s[O.wO.FAILED]++,n===O.wO.FAILED||n===O.wO.ALL;default:return!0}})).map((function(t){return{data:{id:t.id,entityId:t.id,entityType:vn.p.Browser,errorStack:void 0,errorTitle:void 0,parentData:void 0,isActive:!0,skipReason:"Unknown reason",status:t.status===O.ih.RUNNING?t.status:e[t.imageIds[t.imageIds.length-1]].status,tags:[],title:[].concat((0,ba.Z)(t.suitePath),[t.browserName]),browserId:t.browserId,stateName:t.stateName,images:[e[t.imageIds[t.imageIds.length-1]]]},parentNode:c}}));return{allTreeNodeIds:l.map((function(e){return e.data.id})),visibleTreeNodeIds:[],tree:l,stats:s}})),Lc=function(e,t){var n=(0,o.useRef)({}),r=t.slice(Math.max(0,e-1-3),Math.min(t.length,e+1+3)),a=(0,c.useSelector)((function(e){return function(e,t){var n,r=[],a=(0,j.Jx)(e),i=Ec(e),o=pc(t);try{for(o.s();!(n=o.n()).done;){var c=i[n.value];c&&r.push.apply(r,(0,ba.Z)(c.imageIds.map((function(e){return a[e]}))))}}catch(e){o.e(e)}finally{o.f()}return r}(e,r)}));(0,o.useEffect)((function(){a.forEach((function(e){n.current[e.id]=(0,Oc.m)(e)}))}),[e]),(0,o.useEffect)((function(){return function(){Object.values(n.current).forEach((function(e){return null==e?void 0:e()}))}}),[])};function _c(e){var t=e.currentNamedImage,n=e.treeData,a=e.onImageChange,l=n.allTreeNodeIds,u=(0,c.useDispatch)(),m=(0,H.z)(),p=(0,c.useSelector)(vc),f=(0,c.useSelector)(hc),E=(0,s.s0)(),g=(0,c.useSelector)(Dc),v=(0,c.useSelector)(Ec),h=(0,c.useSelector)((function(e){return e.tree.images.byId})),I=(0,c.useSelector)((function(e){return e.tree.results.byId})),S=(0,c.useSelector)((function(e){return e.tree.browsers.stateById})),y=l.indexOf(null==t?void 0:t.id);Lc(y,l);var T=(0,o.useCallback)((function(e){for(var t=function(){var e,t,a=n.tree[r],i=a.data.id,o=v[i];if(!o)return"continue";var c=null!==(e=null===(t=S[o.browserId])||void 0===t?void 0:t.retryIndex)&&void 0!==e?e:0,s=o.imageIds.find((function(e){var t,n,r=null===(t=h[e])||void 0===t?void 0:t.parentId;return r&&(null===(n=I[r])||void 0===n?void 0:n.attempt)===c}));if(!s)return"continue";var l=h[s];return l&&(0,ca.h3)(l)?{v:a.data}:void 0},r=e;r<n.tree.length;r++){var a=t();if("continue"!==a&&"object"===(0,hn.Z)(a))return a.v}return null}),[n.tree,v,S,h,I]),b=(0,c.useSelector)((function(e){return e.app.visualChecksPage.diffMode})),N=(0,c.useSelector)((function(e){return e.ui.visualChecksPage.is2UpDiffVisible})),w=(0,c.useSelector)((function(e){return e.ui.visualChecksPage.twoUpFitMode})),C=(0,c.useSelector)((function(e){return e.staticImageAccepter.enabled})),A=(0,c.useSelector)((function(e){return e.app.availableFeatures})).find((function(e){return e.name===O.B$.name})),D=(0,c.useSelector)((function(e){return e.running})),k=(0,c.useSelector)((function(e){return e.processing})),L=(0,c.useSelector)((function(e){return e.gui})),_=(0,o.useCallback)((function(){if(p&&(0,ca.h3)(p)){null==m||m.trackScreenshotsAccept(),u(C?(0,M.staticAccepterStageScreenshot)([p.id]):(0,ya.Ro)({imageIds:[p.id]}));var e=T(y+1);e&&a(e)}}),[p,C,m,u,T,y,a]),x=(0,o.useCallback)((function(){p&&u(C?(0,M.staticAccepterUnstageScreenshot)([p.id]):(0,ya.Ku)({imageIds:[p.id]}))}),[p,C,u]),R=(0,c.useSelector)(Sc),P=null==p?void 0:p.parentId,j=Boolean(P&&R&&P===R.resultIds[R.resultIds.length-1]),B=(0,ca.KD)({gui:L,image:null!=p?p:{},isLastResult:j,isStaticImageAccepterEnabled:C}),U=D||k||!p||!(0,ca.h3)(p),z=Boolean(A)&&!U&&!B,F=Boolean(A)&&B&&!D&&!k,G=Boolean((0,c.useSelector)((function(e){return e.app.availableFeatures})).find((function(e){return e.name===O.Wi.name}))),V=(0,o.useCallback)((function(){R&&!D&&(null==m||m.trackFeatureUsage({featureName:"Run test via hotkey R"}),u((0,M.thunkRunTest)({test:{testName:R.parentId,browserName:R.name}})))}),[R,D,m,u]),Y=(0,o.useCallback)((function(){t&&E(Ta({page:O.T3.suitesPage,hash:g,browser:t.browserName,attempt:f,stateName:null==t?void 0:t.stateName}))}),[t,E,g,f]);return Xe("a",_,{enabled:z}),Xe(" ",_,{enabled:z}),Xe("u",x,{enabled:F}),Xe("r",V,{enabled:G&&!D}),Xe("g",Y,{enabled:Boolean(t)&&!D&&!k}),o.createElement("div",{className:yc.stickyHeader},t&&o.createElement(Mt,{className:yc.card__title,suitePath:t.suitePath,index:y,totalItems:l.length,onPrevious:function(){return a(n.tree[y-1].data)},stateName:t.stateName,onNext:function(){return a(n.tree[y+1].data)}}),o.createElement("div",{className:yc.toolbarContainer},o.createElement(Cc,null),o.createElement(i.Divider,{orientation:"vertical"}),o.createElement(Ia,{image:p}),o.createElement(i.Divider,{orientation:"vertical"}),o.createElement(i.Flex,{gap:2},o.createElement(i.Select,{className:yc.diffModeSelect,label:o.createElement(i.Icon,{data:Tr.Z}),value:[b],onUpdate:function(e){var t,n=(0,d.Z)(e,1)[0];return t=n,void u((0,Mc.MT)(t))},multiple:!1},oa(O.T3.visualChecksPage).map((function(e){return o.createElement(i.Select.Option,{value:e.id,content:e.title,title:e.description,key:e.id})}))),"2-up-interactive"===b&&o.createElement(o.Fragment,null,o.createElement(zt,{icon:o.createElement(i.Icon,{data:bc.Z}),view:"outlined",onClick:function(){null==m||m.trackFeatureUsage({featureName:"Toggle 2-up diff visibility"}),u((0,M.toggle2UpDiffVisibility)(!N))},tooltip:N?"Diff is visible. Click to hide":"Diff is hidden. Click to show",selected:N}),o.createElement(zt,{icon:o.createElement(i.Icon,{data:w===O.fi.FitToView?Fr.Z:Gr.Z}),view:"outlined",onClick:function(){var e=w===O.fi.FitToView?O.fi.FitToWidth:O.fi.FitToView;null==m||m.trackFeatureUsage({featureName:"Toggle 2-up fit mode"}),u((0,M.set2UpFitMode)(e))},tooltip:w===O.fi.FitToView?"Fit to view by default. Click to switch":"Fit to width by default. Click to switch"}))),o.createElement(i.Flex,{className:yc.buttonsContainer,gap:2},o.createElement(zt,{icon:o.createElement(i.Icon,{data:r.Z}),view:"outlined",className:yc.acceptButton,disabled:D||k,onClick:Y,qa:"go-suites-button",tooltip:o.createElement(o.Fragment,null,"Go to test ⋅ ",o.createElement(i.Hotkey,{value:"g",view:"light"}))}),G&&o.createElement(i.Tooltip,{content:o.createElement(o.Fragment,null,"Run test with this visual check ⋅ ",o.createElement(i.Hotkey,{value:"r",view:"light"})),placement:"top",openDelay:0,disabled:D,key:D.toString()},o.createElement(Ut,{browser:R,buttonProps:{view:"outlined"},buttonText:null})),A&&o.createElement(o.Fragment,null,B&&o.createElement(i.Button,{view:"action",className:yc.acceptButton,disabled:D||k,onClick:x,qa:"undo-button"},o.createElement(i.Icon,{data:Z.Z}),"Undo",o.createElement(i.Hotkey,{className:yc.hotkey,view:"dark",value:"u"})),!B&&o.createElement(i.Button,{view:"action",className:yc.acceptButton,disabled:D||k||!p||!(0,ca.h3)(p),onClick:_,qa:"accept-button"},o.createElement(i.Icon,{data:Be.Z}),"Accept",o.createElement(i.Hotkey,{className:yc.hotkey,view:"dark",value:"a"}))))))}function xc(){var e,t=(0,c.useDispatch)(),n=bt(),r=(0,c.useSelector)(gc),a=(0,c.useSelector)(hc),i=(0,c.useSelector)(Ic),l=(0,c.useSelector)(vc),u=(0,c.useSelector)(Sc),m=(0,c.useSelector)((function(e){return e.app.visualChecksPage.diffMode})),p=(0,o.useState)(!1),f=(0,d.Z)(p,2),g=f[0],v=f[1],h=(0,s.s0)(),I=(0,s.UO)(),S=(0,o.useRef)(!1),y=(null==r?void 0:r.status)===O.ih.RUNNING,T=(0,c.useSelector)((0,it.bi)(I)),b=(0,c.useSelector)((function(e){return e.app.visualChecksPage.currentBrowserId})),N=(0,c.useSelector)(Dc),w=(0,c.useSelector)((function(e){return e.app.visualChecksPage.stateName})),C="".concat(b," ").concat(w),A=(0,c.useSelector)(kc),D=(0,o.useRef)(null);(0,o.useEffect)((function(){var e;null==D||null===(e=D.current)||void 0===e||e.scrollToId(C)}),[D,C]);var k=(0,c.useSelector)((function(e){return e.app.isInitialized})),L=(0,o.useCallback)((function(e){t((0,M.visualChecksPageSetCurrentNamedImage)({currentBrowserId:e.browserId,stateName:e.stateName})),v(!0)}),[A]),_=A.allTreeNodeIds,x=_.indexOf(C),R=(0,o.useCallback)((function(e){var t,n=x+e;if(!(n<0||n>=_.length)){var r=null===(t=A.tree[n])||void 0===t?void 0:t.data;r&&L(r)}}),[x,_,A.tree,L]),P=null!==(e=null==u?void 0:u.resultIds.length)&&void 0!==e?e:0,j=(0,o.useCallback)((function(e){if(u&&null!==a){var n=a+e;n<0||n>=P||t((0,M.changeTestRetry)({browserId:u.id,retryIndex:n}))}}),[u,a,P,t]),Z=(0,o.useCallback)((function(){return R(1)}),[R]),B=(0,o.useCallback)((function(){return R(-1)}),[R]),U=(0,o.useCallback)((function(){return j(1)}),[j]),z=(0,o.useCallback)((function(){return j(-1)}),[j]);Xe("ArrowDown",Z),Xe("ArrowUp",B),Xe("ArrowRight",U),Xe("ArrowLeft",z),(0,o.useEffect)((function(){g&&u&&(t((0,M.changeTestRetry)({browserId:null==u?void 0:u.id,retryIndex:i})),v(!1))}),[g,u]),(0,o.useEffect)((function(){N&&w&&null!==a&&h(Ta({page:O.T3.visualChecksPage,hash:N,browser:null==u?void 0:u.name,attempt:a,stateName:w}))}),[N,u,w,a]),(0,o.useEffect)((function(){k&&!S.current&&(S.current=!0,I&&(T&&I.stateName?t((0,M.visualChecksPageSetCurrentNamedImage)({currentBrowserId:T,stateName:I.stateName})):r&&t((0,M.visualChecksPageSetCurrentNamedImage)({currentBrowserId:null==r?void 0:r.browserId,stateName:null==r?void 0:r.stateName}))))}),[T,I,k,r]);var F=(0,c.useSelector)(Ac),G=(0,c.useSelector)((function(e){return e.ui[O.T3.visualChecksPage].sectionSizes})),H=(0,o.useMemo)((function(){return[{title:"All",value:O.wO.ALL,count:A.stats[O.wO.ALL]},{icon:(0,Jt.XF)(O.ih.SUCCESS),title:"Passed",value:O.wO.PASSED,count:A.stats[O.wO.PASSED]},{icon:(0,Jt.XF)(O.ih.FAIL),title:"Failed",value:O.wO.FAILED,count:A.stats[O.wO.FAILED]}]}),[A]),V=(0,o.useCallback)((function(e){t(M.changeViewMode({data:e,page:n}))}),[n]);return o.createElement("div",{className:yc.container},o.createElement(mt,{sizes:G,onSizesChange:function(e){t(M.setSectionSizes({sizes:e,page:O.T3.visualChecksPage})),(0,et.aV)(e[0])?t(M.setBackupSectionSizes({sizes:[mi.p,100-mi.p],page:O.T3.visualChecksPage})):t(M.setBackupSectionSizes({sizes:e,page:O.T3.visualChecksPage}))}},o.createElement(lc,{title:"Visual Checks",isInitialized:k,treeViewRef:D,treeData:A,treeViewExpandedById:{},currentTreeNodeId:C,onClick:L,statusList:H,statusValue:F,onStatusChange:V}),o.createElement(at,{key:"test-view",className:E()(yc.card,yc.testViewCard)},o.createElement(Qn.Boundary,{fallback:o.createElement(Qn.FallbackCardCrash,{recommendedAction:"Try to reload page"})},k?o.createElement(o.Fragment,null,r&&o.createElement(_c,{currentNamedImage:r,treeData:A,onImageChange:L}),l&&!y&&o.createElement(Qn.Boundary,{fallback:o.createElement(Qn.FallbackCardCrash,{recommendedAction:"Try to choose another item"})},o.createElement("div",{className:yc.currentImage},o.createElement(ia,{result:l,diffMode:m}))),!l&&!y&&o.createElement("div",{className:yc.hint},"This run doesn't have an image with id \"",I.imageId,'"'),y&&o.createElement(li,null)):o.createElement(Tc,null)))))}var Rc=n(82979),Pc=n(52505),jc=n(41493),Zc=n(36498),Bc=n(77803),Uc=new i.Toaster,zc=[{title:"Suites",url:O.HL.suites,icon:r.Z,element:o.createElement(mc,null),children:[o.createElement(s.AW,{key:"suite",path:"/suites/:hash?/:browser?/:attempt?/:stateName?",element:o.createElement(mc,null)})]},{title:"Visual Checks",url:O.HL.visualChecks,icon:a.Z,element:o.createElement(xc,null),children:[o.createElement(s.AW,{key:"image",path:"/visual-checks/:hash?/:browser?/:attempt?/:stateName?",element:o.createElement(xc,null)})]}];function Fc(){var e=Rc.Z.getState().config.customScripts;return o.createElement(o.StrictMode,null,o.createElement(Qn.Boundary,{fallback:o.createElement(Qn.FallbackAppCrash,null)},o.createElement(Pc.h,{scripts:e}),o.createElement(i.ThemeProvider,{theme:"light"},o.createElement(i.ToasterProvider,{toaster:Uc},o.createElement(c.Provider,{store:Rc.Z},o.createElement(Zc.s,null),o.createElement(Bc.Z,null),o.createElement(jc.n,null,o.createElement(l.UT,null,o.createElement(Qn.Boundary,{fallback:o.createElement(Qn.FallbackAppCrash,null)},o.createElement(nt,{pages:zc},o.createElement(g,null),o.createElement(s.Z5,null,o.createElement(s.AW,{element:o.createElement(s.Fg,{to:O.HL.suites}),path:"/"}),zc.map((function(e){return o.createElement(s.AW,{element:o.createElement(Qn.Boundary,{watchFor:[e.url],fallback:o.createElement(Qn.FallbackAppCrash,null)},e.element),path:e.url,key:e.url},e.children)}))),o.createElement(x,null),o.createElement(i.ToasterComponent,null))))))))))}},60460:(e,t,n)=>{"use strict";n.d(t,{gD:()=>r,hi:()=>a,kZ:()=>i});var r=function(e){return{"--natural-width":e.width,"--natural-height":e.height,"--img-width":e.width>e.height?"100%":"auto","--img-height":e.width>e.height?"auto":"100%"}},a=function(e){var t=100*e,n=Math.ceil(100*t)/100;return t<.01?"< ".concat(.01):String(n)},i=function(e){return e<1e3?"".concat(e," px"):e<1e6?"~".concat((e/1e3).toFixed(0),"k px"):"~".concat((e/1e6).toFixed(0),"M px")}},82022:(e,t,n)=>{"use strict";n.d(t,{T7:()=>l,V5:()=>s,dm:()=>u});var r=n(97698),a=n(40645),i=n(41984),o=n(27202),c=n(1291),s=(0,r.createSelector)([a.jA,a.Bl,a.LD,a.TZ,a.Wo,a.O7,a.Jx,a.JK,a.WY,a.es],(function(e,t,n,r,a,o,c,s,l,u){var d,m,p,f=l.currentDirection,E=null!==(d=l.availableExpressions.find((function(e){return e.id===l.currentExpressionIds[0]})))&&void 0!==d?d:l.availableExpressions[0],g={results:o,images:c,suites:t,treeViewMode:s,browsersState:a,browsers:r,groups:e,currentSortDirection:f,currentSortExpression:E,browsersList:u};if(n.length>0){var v=n.map((function(t){var n=e[t],o=n.browserIds.flatMap((function(e){return a[e].shouldBeShown?[r[e]]:[]})),c=(0,i.pH)(g,n,n.id);return{data:c,children:(0,i.ph)(g,o,c).children}})).filter((function(e){var t;return null===(t=e.children)||void 0===t?void 0:t.length})),h=(0,i.ow)(g,v),I=(0,i.Ll)(h);return{tree:h,allTreeNodeIds:I.allTreeNodeIds,visibleTreeNodeIds:I.visibleTreeNodeIds}}var S=(0,i.ph)(g,Object.values(r).filter((function(e){return a[e.id].shouldBeShown})));S.children=(0,i.ow)(g,null!==(m=S.children)&&void 0!==m?m:[]);var y=(0,i.Ll)([S]);return{allTreeNodeIds:y.allTreeNodeIds,visibleTreeNodeIds:y.visibleTreeNodeIds,tree:null!==(p=S.children)&&void 0!==p?p:[]}})),l=function(e){var t,n,r=(0,c.EP)(e);return null===(t=e.tree.suites.byId[(null==r||null===(n=r.suitePath)||void 0===n?void 0:n.join(" "))||""])||void 0===t?void 0:t.hash},u=(0,r.createSelector)([a.O7,a.Wo],(function(e,t){var n={},r=new Set,a=0;Object.values(e).forEach((function(e){var i,o,c=e.parentId,s=e.attempt,l=e.status,u=e.timestamp;(t[c].shouldBeShown||t[c].isHiddenBecauseOfStatus)&&(s>0&&r.add(c),(!n[c]||n[c].timestamp<u)&&(a-=null!==(i=null===(o=n[c])||void 0===o?void 0:o.attempt)&&void 0!==i?i:0,a+=s,n[c]={attempt:s,status:l,timestamp:u}))}));var i={success:0,fail:0,skipped:0,total:Object.keys(n).length,retried:r.size,retries:a,idle:0};return Object.values(n).forEach((function(e){var t=e.status,n=t===o.ih.ERROR?"fail":t;Object.prototype.hasOwnProperty.call(i,n)&&i[n]++})),i}))},1291:(e,t,n)=>{"use strict";n.d(t,{EP:()=>c,FA:()=>l,G4:()=>i,Nq:()=>m,WQ:()=>s,bi:()=>u,d8:()=>d,sT:()=>o});var r=n(27202),a=n(61394),i=function(e){var t=e.app.suitesPage.currentBrowserId;return t?e.tree.browsers.byId[t]:null},o=function(e){var t,n,r=e.app.suitesPage.currentBrowserId,a=e.app.suitesPage.currentTreeNodeId;if(!r||!a)return null;var i,o=e.tree.browsers.byId[r].resultIds,c=e.app.suitesPage.currentGroupId,s=o[null!==(t=e.ui.suitesPage.retryIndexByTreeNodeId[a])&&void 0!==t?t:-1];if(c){var l=e.tree.groups.byId[c];i=o.findLast((function(e){return l.resultIds.includes(e)}))}var u=o[e.tree.browsers.stateById[r].retryIndex];return null!==(n=null!=s?s:i)&&void 0!==n?n:u},c=function(e){var t=o(e);return t?e.tree.results.byId[t]:null},s=function(e){var t,n=o(e);return n&&null!==(t=e.ui.suitesPage.expandedStepsByResultId[n])&&void 0!==t?t:{}},l=function(e){var t,n=c(e);return null!==(t=null==n?void 0:n.imageIds.map((function(t){return e.tree.images.byId[t]})))&&void 0!==t?t:[]},u=function(e){return function(t){if(e.hash&&e.browser){var n=t.tree.suites.byHash[e.hash];if(n)return n.id+" "+e.browser}return null}},d=function(e){var t,n,i=c(e);if(!i)return!1;var o=e.running,s=e.browserFeatures,l=null===(t=i.attachments)||void 0===t?void 0:t.some((function(e){return e.type===a.s.Snapshot})),u=e.app.availableFeatures.some((function(e){return e.name===r.qW.name}))&&(null===(n=s[i.name])||void 0===n?void 0:n.some((function(e){return e===r.uf.LiveSnapshotsStreaming})));return l||o&&u},m=function(e){var t=e.app.suitesPage.currentBrowserId;return t?e.tree.browsers.stateById[t].retryIndex:null}},11200:(e,t,n)=>{"use strict";n.d(t,{Qt:()=>d,aV:()=>m,av:()=>c,iT:()=>u,nt:()=>s});var r=n(52902),a=n(36397);function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c=function(e){for(var t=null,n=e;n;){if(n.entityType===r.p.Group){t=n.entityId;break}n=n.parentData}return t},s=function(e){return(0,a.og)(e)?r.p.Browser:r.p.Suite},l=function e(t,n){var r,a=i(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(n(o))return o.data;if(o.children){var c=e(o.children,n);if(c)return c}}}catch(e){a.e(e)}finally{a.f()}return null},u=function(e,t){return l(e,(function(e){return e.data.entityType===r.p.Browser&&e.data.entityId===t}))},d=function(e,t){return l(e,(function(e){return e.data.id===t}))},m=function(e){return e<1}},40645:(e,t,n)=>{"use strict";n.d(t,{Al:()=>a,Bl:()=>s,Dr:()=>f,EZ:()=>i,Fn:()=>g,JK:()=>v,Jx:()=>p,LD:()=>o,O7:()=>m,Qy:()=>E,TJ:()=>l,TZ:()=>u,WY:()=>h,Wo:()=>d,c_:()=>I,es:()=>S,jA:()=>c});var r=n(27202),a=function(e){return e.apiValues.toolName},i=function(e){return e.tree.suites.allRootIds},o=function(e){return e.tree.groups.allRootIds},c=function(e){return e.tree.groups.byId},s=function(e){return e.tree.suites.byId},l=function(e){return e.tree.suites.stateById},u=function(e){return e.tree.browsers.byId},d=function(e){return e.tree.browsers.stateById},m=function(e){return e.tree.results.byId},p=function(e){return e.tree.images.byId},f=function(e){return e.app.isInitialized},E=function(e){return e.staticImageAccepter.enabled},g=function(e){return e.gui},v=function(e){return e.ui.suitesPage.treeViewMode},h=function(e){return e.app.sortTestsData},I=function(e){return e.app.availableFeatures.includes(r.Wi)||e.app.availableFeatures.includes(r.B$)},S=function(e){return e.browsers}},36397:(e,t,n)=>{"use strict";n.d(t,{Dk:()=>s,ER:()=>d,Sr:()=>m,fz:()=>i,kI:()=>l,og:()=>c,po:()=>o,xW:()=>p,zX:()=>u});var r=n(27202),a=n(52902),i=function(e){return Boolean(e.browserIds)},o=function(e){return Boolean(e.suitePath)},c=function(e){return Boolean(e.resultIds)},s=function(e){return e.type===a.p.Group},l=function(e){return e.status===r.ih.ERROR},u=function(e){return e.Meta="meta",e.Error="error",e}({}),d=function(e){return e[e.ByName=0]="ByName",e[e.ByFailedRuns=1]="ByFailedRuns",e[e.ByTestsCount=2]="ByTestsCount",e[e.ByStartTime=3]="ByStartTime",e[e.ByDuration=4]="ByDuration",e[e.ByRelevance=5]="ByRelevance",e}({}),m=function(e){return e.Asc="asc",e.Desc="desc",e}({}),p=function(e){return e.Tree="tree",e.List="list",e}({})},71011:(e,t,n)=>{"use strict";n.d(t,{Pz:()=>g,XF:()=>f,hk:()=>v,k:()=>E});var r=n(75098),a=n(60148),i=n(27766),o=n(68891),c=n(41421),s=n(27163),l=n(49014),u=n(63690),d=n(2784),m=n(27202),p=n(76635),f=function(e){switch(e){case m.ih.FAIL:case m.ih.ERROR:return d.createElement(r.Z,{className:"icon-fail"});case m.ih.SUCCESS:return d.createElement(a.Z,{className:"icon-success"});case m.ih.SKIPPED:return d.createElement(i.Z,{className:"icon-skip"});case m.ih.RETRY:return d.createElement(o.Z,{className:"icon-retry"});case m.ih.UPDATED:case m.ih.STAGED:return d.createElement(c.Z,{className:"icon-updated"});case m.ih.RUNNING:return d.createElement(u.Spin,{size:"xs"});case m.ih.COMMITED:return d.createElement(s.Z,{className:"icon-committed"});default:return d.createElement(l.Z,null)}},E=function(e){return"".concat(e.size.width,"×").concat(e.size.height)},g=function(e){return(0,p.isString)(e)?e:(0,p.isObject)(e)?JSON.stringify(e):(0,p.isNull)(e)?"null":(0,p.isUndefined)(e)?"undefined":(0,p.toString)(e)},v=function(e){var t=/https?:\/\/[^\s]*/g,n=e.split(t),r=e.match(t)||[];return d.createElement(d.Fragment,null,n.reduce((function(e,t,n){if(e.push(t),r[n]){var a=r[n].startsWith("www.")?"http://".concat(r[n]):r[n];e.push(d.createElement("a",{key:n,href:a,target:"_blank",rel:"noopener noreferrer"},r[n]))}return e}),[]))}}}]);